'use strict';const oEffects={'AudioFadeOut'(g,i=0x0,c=0x1,w){var I;const Q=()=>{g['pause'](),oAudioManager['modifyAudioVolume'](g,i),w&&w(g);};typeof g==='string'&&(g=oAudioManager['getDom'](g));if(isNullish(g)){Q();return;}let k=(I=g['__originalVolume__'])!==null&&I!==void 0x0?I:g['volume'];if(Math['abs'](k-i)<0.02||g['paused'])return Q();c=c*0x3e8;let f=0x0,G=setInterval(()=>{let z=Math['Lerp'](k,i,f/c);oAudioManager['modifyAudioVolume'](g,z),f>=c&&(clearInterval(G),Q()),f+=0x10;},0x10);},async'AudioFadeIn'(g,i=0x1,c=0x1,w,I='Audio'){var Q;typeof g==='string'&&(g=await oAudioManager['play'+I](g,!![],0x0));c=c*0x3e8;let k=(Q=g['__originalVolume__'])!==null&&Q!==void 0x0?Q:g['volume'],f=0x0,G=setInterval(()=>{let z=Math['Lerp'](k,i,f/c);oAudioManager['modifyAudioVolume'](g,z),f>=c&&(clearInterval(G),w&&w(g)),f+=0x10;},0x10);},'Particle'({style:style='',height:height=0x3c,width:width=0x3c,objects:objects=[],canvasFunction:g,wrap:wrap=EDAll}){const w='Particle_'+Math['random']();let I=NewEle(w,'canvas',style,{'height':height,'width':width,'className':'BgParticle'},wrap),Q=I['getContext']('2d');function k(e,X,F,H=-0x1,W=-0x1,r=0x0,t=0x1){let U=[X+H/0x2,F+W/0x2];Q['save'](),Q['globalAlpha']=t,Q['translate'](U[0x0],U[0x1]),Q['rotate'](r),Q['translate'](-U[0x0],-U[0x1]),H>0x0?Q['drawImage'](e,Math['round'](X),Math['round'](F),H,W):Q['drawImage'](e,Math['round'](X),Math['round'](F)),Q['restore']();}g(I);for(let e=0x0;e<objects['length'];e++){var f,G,z;let X=oDynamicPic['__BlobImgStorage__']['get']('TMP_Particle_'+objects[e]['src']);X?objects[e]['pic']=X:(objects[e]['pic']=new Image(),objects[e]['pic']['src']=objects[e]['src'],oDynamicPic['__BlobImgStorage__']['set']('TMP_Particle_'+objects[e]['src'],objects[e]['pic'])),objects[e]['alpha']=(f=objects[e]['alpha'])!==null&&f!==void 0x0?f:0x1,objects[e]['rotate']=(G=objects[e]['rotate'])!==null&&G!==void 0x0?G:0x0,objects[e]['width']=(z=objects[e]['width'])!==null&&z!==void 0x0?z:-0x1;}requestAnimationFrame(function F(){if(objects['length']<0x1){ClearChild(I);return;}if(!$(w))return;Q['clearRect'](0x0,0x0,width,height);for(let H=0x0;H<objects['length'];H++){let W=objects[H];k(W['pic'],W['x'],W['y'],W['width'],W['height'],W['rotate'],W['alpha']),W['move'](W);}requestAnimationFrame(F);});},'BgParticle':(function(){class g{constructor(){this['particlePool']=[];}['get'](c,w,I){if(this['particlePool']['length']){let Q=this['particlePool']['pop']();return Q['img']=c,Q['left']=w,Q['top']=I,Q;}return{'img':c,'left':w,'top':I};}['recycle'](c){this['particlePool']['push'](c);}['destroy'](){this['ParticlePool']=null;}}function i({url:c,style:w,k:k=0x1,spd:spd=Math['sqrt'](0x2)*2.5,timeout:timeout=0x5,move:I,size:size={'width':0x24,'height':0x25}}){if($User['LowPerformanceMode'])return![];if(isNullish(I)){let t=Math['atan2'](0x1,k),U=Math['sin'](t)*spd,u=Math['cos'](t)*spd;I=O=>{O['left']+=u*oSym['NowSpeed'],O['top']+=U*oSym['NowSpeed'];};}const Q=NewEle('BgParticle_'+Math['random'](),'canvas',w,{'height':0x258,'width':0x640,'className':'BgParticle'},EDAll);let f=![],G,z;Q['transferControlToOffscreen']?(G=Q['transferControlToOffscreen'](),z=G['getContext']('2d')):z=Q['getContext']('2d');const e=new Image(),X=new g(),F=new Set();let H=-size['height']-0x3;e['src']=c,oSym['addTask'](timeout,function O(){if(!f){let D=0x1/timeout;for(let V=0x0;V<D;V++){let Z=Math['random']()*0x960-0x258;F['add'](X['get'](e,Z,H));}document['hidden']?addEventListener('visibilitychange',oSym['addTask']['bind'](oSym,timeout,O),{'once':!![]}):oSym['addTask'](timeout,O);}else X['destroy']();});let W=Date['now'](),x=W,r=0x0;return requestAnimationFrame(function D(){W=Date['now'](),r=(W-x)/16.6667,z['clearRect'](0x0,0x0,0x640,0x258);for(let V of F){let{img:Z,left:J,top:d}=V;V['top']>=0x258?(X['recycle'](V),F['delete'](V)):(z['drawImage'](Z,Math['round'](J),Math['round'](d),size['width'],size['height']),I(V),V['left']=(V['left']-J)*r+J,V['top']=(V['top']-d)*r+d);}x=W,Q['parentNode']?requestAnimationFrame(D):f=!![];}),Q;}return i;}()),'ScreenShake'(g=0x4){SetStyle(EDAll,{'margin-left':-(oS['W']/0x2)+g+'px'}),setTimeout(i=>{SetStyle(EDAll,{'margin-left':-oS['W']/0x2+'px','top':-g+'px'}),setTimeout(c=>SetStyle(EDAll,{'top':0x0}),0x14);},0x14);},'ImgSpriter'({ele:g,interval:i,styleProperty:styleProperty='X',changeValue:changeValue=0x0,frameNum:c,callback:callback=ClearChild,data:w}){if(!g)return;let I=i?e=>oSym['addTask'](i,e):requestAnimationFrame,Q=g['style'],k='background-position-'+styleProperty['toLowerCase'](),f=0x1,G=0x0,z=w?e=>Q['setProperty']('background-position',w[e-0x1]):(e,X)=>Q['setProperty'](k,X+'px');return function e(){if(f<=c)return z(f,G),G+=changeValue,f++,I(e);callback&&callback(g);}(),g;},'StopAllAnims'(g,i=![]){g['getAnimations']()['map'](c=>{i?c['cancel']():c['finish']();});},'Animate'(g,i,c=0.4,w='linear',I,Q=0x0,k=0x1){if(!g){localStorage['JNG_DEV']&&console['warn']('[PVZTR]\x20Element\x20does\x20not\x20exist!');return;}let f={},G=[],z=['-name','-property','-duration','-delay','-timing-function'],e;typeof c==='string'&&(c={'fast':0.2,'slow':0.6}[c]);if(typeof i==='string')f['animation-name']=i,f['animation-duration']=c+'s',f['animation-delay']=Q+'s',f['animation-timing-function']=w,f['animation-iteration-count']=k,f['animation-fill-mode']='none',e='animation',z=z['map'](X=>e+X),g['addEventListener'](e+'end',function X(F){if(F['target']!==F['currentTarget'])return;g['removeEventListener'](e+'end',X);for(let H of z)g['style'][H]='';I&&I(g);}),g['clientLeft'],SetStyle(g,f);else{for(let H in i){let W=i[H];W&&typeof W==='number'&&!__cssNumberWhiteList__[H]&&(W+='px',console['trace']('[PVZTR]\x20It\x20is\x20not\x20recommended\x20to\x20set\x20style\x20without\x20unit.\x20'+H+':'+W)),i[H]=W;}let F=g['animate']([i],{'easing':w||'linear','duration':c*0x3e8,'delay':Q*0x3e8,'iterations':k});F['onfinish']=function(){F['onfinish']=null,SetStyle(g,i),I&&I(g);};}return g;},'animatePromise'(g,i,{duration:c,easing:w,delay:I,iterationCount:Q}){return new Promise(k=>{oEffects['Animate'](g,i,c,w,k,I,Q);});},'fadeTo':(g,i,c,w)=>oEffects['Animate'](g,{'opacity':i},c,undefined,w),'fadeIn':(g,i,c)=>oEffects['fadeTo'](g,0x1,i,c),'fadeOut':(g,i,c,w)=>oEffects['fadeTo'](g,0x0,i,c,w),'TextEffects':{'ZombossEffect'(g,i){var c;if(!g){let w=NewEle('ZombossEffect','img','position:\x20absolute;z-index:\x201301;top:\x2050px;pointer-events:\x20none;left:\x200;right:\x200;margin-left:\x20auto;margin-right:\x20auto;',{'src':'images/Props/PolarPlots/ZombossTalk0.webp'},EDAll),I='images/Props/PolarPlots/ZombossTalk1.webp';new Image()['src']=I,setTimeout(function(){w['src']=I,g=NewEle('','div','position:\x20absolute;z-index:\x201300;top:\x20205px;width:\x20100%;color:\x20white;background:\x20rgba(0,\x200,\x200,\x200.6);font-size:\x2024px;display:\x20flex;justify-content:\x20center;align-items:\x20center;padding-top:\x2025px;padding-bottom:\x2025px;min-height:\x2065px;',null,EDAll),i(g);},2533.3);}else $('ZombossEffect')&&!((c=$('ZombossEffect')['dataset'])!==null&&c!==void 0x0&&c['dying'])&&($('ZombossEffect')['src']='images/Props/PolarPlots/ZombossTalk2.webp',ClearChild(g),$('ZombossEffect')['dataset']['dying']=!![],setTimeout(function(){ClearChild($('ZombossEffect')),i();},2533.3));},'ShakeText'(g){let{text:text='',font_size:font_size=0x12,str:str=!![],font_family:font_family='',time_range:time_range=0.2,width:width=0x1d6,customSize:customSize=f,align_center:align_center=!![],relative:relative=![],paddingLeft:paddingLeft=0x0,paddingTop:paddingTop=0x0}=g,c=[],w=text['split'](''),I=0x0,Q=0x0,k={'\u3000':0x1};function f(e){let X=-0x1;return e>='A'&&e<='Z'&&(e=='M'||e=='W'||e=='V'?X=0x13/0x18:X=0xd/0x12),e>='a'&&e<='z'&&(e=='m'||e=='w'?X=0x5/0x9:X=0x5/0x9),X;}let G=[];function z(e,X,F,H,W,x,r,U){return!e?'<span\x20style=\x22position:absolute;left:'+F+'px;width:'+H+'px;top:'+W+'px;font-size:'+x+'px;font-family:'+r+';animation:\x20shake_text_1px\x20'+(Math['random']()*U+U/0x2)+'s\x20linear\x20'+(Math['random']()-0x1)+'s\x20infinite;\x22>'+X+'</span>':'<span\x20style=\x22position:relative;width:'+H+'px;font-size:'+x+'px;font-family:'+r+';animation:\x20shake_text_1px2\x20'+(Math['random']()*U+U/0x2)+'s\x20linear\x20'+(Math['random']()-0x1)+'s\x20infinite;\x22>'+X+'</span>';}for(let e=0x0;e<w['length'];e++){let X=w[e],F=e>0x0?w[e-0x1]:'',H=e<w['length']-0x1?w[e+0x1]:'',W=0x0,x=NewEle('','span','font-family:'+font_family+';font-size:'+font_size+'px;',{'innerText':F},EDAll),r=NewEle('','span','font-family:'+font_family+';font-size:'+font_size+'px;',{'innerText':X},EDAll),U=NewEle('','span','font-family:'+font_family+';font-size:'+font_size+'px;',{'innerText':H},EDAll);W=r['offsetWidth'],ClearChild(x,r,U),W=k[X]?k[X]*font_size:W;let u=-0x1;X=='\x0a'&&(relative&&c['push']('<br/>'),u=align_center?(width-I)/0x2:0x0);if(I>=width-W||u>=0x0){u=Math['max'](u,0x0);for(let O=0x0;O<G['length'];O++){let D=z(relative,G[O]['character'],G[O]['left']+u+paddingLeft,G[O]['size'],Q+paddingTop,font_size,font_family,time_range);c['push'](D);}G=[],I=0x0,Q+=font_size+0xa;}G['push']({'left':I,'character':X,'size':W}),I+=W;}{let V=align_center?(width-I)/0x2:0x0;for(let Z=0x0;Z<G['length'];Z++){let J=z(relative,G[Z]['character'],G[Z]['left']+V+paddingLeft,G[Z]['size'],Q+paddingTop,font_size,font_family,time_range);c['push'](J);}};if(!str)return c;return[c['join'](''),I];}},'flash'(g='rgb(255,0,0)',i=0xa,c=0.8){oSym['addTask'](i,w=>{let I=NewEle('effect'+Math['random'](),'div','pointer-events:none;position:absolute;z-index:900;width:1900px;height:600px;background:rgb(0,0,0);opacity:0;top:0px;',0x0,EDAll);oEffects['Animate'](I,{'background':g,'opacity':0.15},0.5,'ease-out',Q=>{oSym['addTask'](0x1,k=>{oEffects['Animate'](I,{'opacity':0x0},c,'linear',ClearChild);});});});}};