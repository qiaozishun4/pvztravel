'use strict';var asyncInnerHTML=function(g,i,c){let w=$n('template'),I=w['content'],Q=document['createDocumentFragment']();w['innerHTML']=g;let k=I['childNodes']['length'],f=oS['LvlToken'];requestIdleCallback(function G(){f===oS['LvlToken']&&(k--?(Q['appendChild'](I['firstChild']),requestIdleCallback(G)):i(Q,c));}),w=null;},syncInnerHTML=function(g,i,c){let w=$n('template'),I=w['content'],Q=document['createDocumentFragment']();w['innerHTML']=g,function k(f){f--?(Q['appendChild'](I['firstChild']),k(f)):i(Q,c);}(I['childNodes']['length']),w=null;},WhichMouseButton=g=>$SEql(g['which'],{0x1:0x1,0x3:0x2,'default':0x1}),DisplayZombie=function(g=0x32,c=0x96,w=0xc9,I=0x1bc){if(isNullish(oP['AZ']))return;let Q=Array['from'](oP['AZ']);Q=Q['filter'](e=>e[0x0]['prototype']['CanDiaplay']);for(let e=Q['length']-0x1;e>=0x0;e--){let X=Q[e];for(let F=oP['ZombieCurrentWeight'][X[0x0]['prototype']['EName']]-0x1;F>0x0;F--){Q['push'](X);}}Q['shuffle']();let k=Q['length'],f=[];while(k--)f['push'](Math['floor'](c+Math['random']()*I));f['sort']((H,W)=>H-W);let G=[];Q['forEach']((H,W)=>{var r;const t=H[0x0]['prototype'];G['push'](t['getDisplayHTML']('',Math['floor'](g+Math['random']()*w)-t['width']*0.5,f[W]-((r=t['displayHeight'])!==null&&r!==void 0x0?r:t['height']),0x1,'block','auto',t['GetDTop'],t['PicArr'][t['StandGif']]));}),asyncInnerHTML(G['join'](''),H=>$('dZombiePreview')['appendChild'](H));},oSelectCardGUI={'Init'(){return this['wrapDom']=$('dSelectCard'),this['cardListDom']=$('dPCard'),this['FinishRender']=0x0,this['selected']=0x0,this['slots']=oS['Slots']||0xa,this['render'](),this['initEventListeners'](),this['__needCheckList__']=new Set([0x0,0x1]),this;},'render'(){let g='';return oS['PName']['forEach'](i=>{var c;let w=i['prototype'],I=w['EName'],Q=(c=oS['CardsType'][I])!==null&&c!==void 0x0?c:'0';ArPCard['$'][I]={'Select':0x0,'PName':i},g+='<div\x20class=\x22aCard\x22\x20id=\x22aCard_'+I+'\x22\x20data-jng-ename=\x22'+I+'\x22\x20style=\x22'+(IsMobile?'margin:5.25px\x207px\x205.25px\x209px;transform:scale(1.25);':'')+'\x22><img\x20src=\x22'+w['PicArr'][0x0]+'\x22\x20class=\x22CardType_'+Q+'\x22><span\x20class=\x22cardSunNum\x22>'+w['SunNum']+'</span></div>';}),asyncInnerHTML(g,i=>{this['cardListDom']['appendChild'](i),this['FinishRender']=0x1;}),this;},'repick'(){var g;oAudioManager['playAudio']('Close');let i=JSON['parse']((g=localStorage['JNG_TR_CardUsedPrev'])!==null&&g!==void 0x0?g:'[]'),c=[];for(let w of i)![0x1,0x3]['includes'](oS['CardsType'][w])&&c['push'](window[w]);oSelectCardGUI['selectSeveralCards'](c);},'initEventListeners'(){const g=this,i={'mouseout'(c,w){SetHidden($('dTitle'));},'mousemove'(c,w){!IsMobile&&g['viewCardTitle'](window[w],c);},'mousedown'(c,w,I){const Q=I['childNodes'][0x0]['className'];switch(Q){case'CardType_0':g['selectOneCard'](w);break;case'CardType_1':oAudioManager['playAudio']('UnlockLimit');break;case'CardType_2':oAudioManager['playAudio']('UnlockLimit');break;case'CardType_3':case'CardType_3Force':{!ArPCard['$'][w]['Select']&&Q==='CardType_3Force'?jngAlert['open']({'text':$__language_Array__['f427b60d5ebbc9803e4280ad3fd6d0d2'],'nextHandler':k=>{g['selectOneCard'](w),oAudioManager['playAudio']('bottom');},'shade':0x1}):g['selectOneCard'](w);break;}case'CardType_4':g['selectOneCard'](w);break;}}};for(let c in i){this['cardListDom']['addEventListener'](c,w=>{const I=w['target'];I['className']==='aCard'&&i[c](w,I['dataset']['jngEname'],I);});}},'viewCardTitle'(g,i){let c=$('dTitle'),w=g['prototype'],I=oS['CardsType'][w['EName']],Q=''+w['CName']+$__language_Array__['96922b1b075633116839cab7596bdabc'][0x0]+w['coolTime']+$__language_Array__['96922b1b075633116839cab7596bdabc'][0x1]+w['Tooltip'];if(I){let k={0x1:$__language_Array__['79bde6e58345de367473b52d673913cb'],0x2:$__language_Array__['135e553e11b9091c1734eedae69ea2d8'],0x3:$__language_Array__['92282f25cd23e8f414a59d00089d25dd'],'3Force':$__language_Array__['92282f25cd23e8f414a59d00089d25dd'],0x4:$__language_Array__['75bbefb2a26c954ba05f01ab21083d6b']}[I];Q+=''+$__language_Array__['dba01bde7e595e8239e4ae4ff0d1687e'][0x0]+k+$__language_Array__['dba01bde7e595e8239e4ae4ff0d1687e'][0x1];}c['innerHTML']=Q,SetStyle(c,{'left':i['clientX']-EDAlloffsetLeft+0x181-(oS['FightingSceneLeft']-oS['EDAllScrollLeft'])-0x3+'px','top':i['clientY']+0x12+'px','visibility':'visible'});},'lock'(){const g=this;if(g['slots']>=0xa)return;let i=g['slots']+0x1;cardslot['style']['clip-path']='inset(0\x200\x20calc(100%\x20-\x20'+0x3c*i+'px))';let c=NewImg('lock_'+i,'images/interface/lock.webp','top:'+0x3c*(i-0x1)+'px;left:28px;transform:scale(0.75);',cardslot);c['style']['cursor']='pointer',c['onclick']=function(){jngAlert['open']({'text':''+$__language_Array__['a3f076ec24945d0a6171092878f3d01e'][0x0]+(g['slots']-0x6)*0x5dc+$__language_Array__['a3f076ec24945d0a6171092878f3d01e'][0x1]+(g['slots']+0x1)+$__language_Array__['a3f076ec24945d0a6171092878f3d01e'][0x2],'nextHandler':w=>{$User['Coins']<(g['slots']-0x6)*0x5dc?oSym['addTask'](0xa,()=>{jngAlert['open']({'shade':0x1,'type':0x0,'text':$__language_Array__['578667165588428bbf3bd5758bf8ebfd']});}):($User['Coins']-=(g['slots']-0x6)*0x5dc,g['slots']++,localStorage['JNG_TR_Slots']=g['slots'],ClearChild(c),g['lock'](!![]));},'shade':0x1});};},'show'(g){const i=this;if(!i['FinishRender']){oSym['addTask'](0x14,()=>{i['show'](g);});return;}const c=i['wrapDom'],w=$('dCardList');SetVisible(c,w);let I=NewEle('viewDOM','div','position:\x20absolute;\x20z-index:\x20255',0x0,EDAll),Q=NewEle('cardslot','div','position:\x20absolute;\x20background-repeat:repeat;\x20background-image:\x20url(images/Card/MissingCard.webp);\x20width:100px;\x20height:600px;\x20top:\x200px;\x20left:\x20332px;\x20cursor:\x20inherit;',0x0,I);/Forest|Marsh|Polar|Industry|Mirage/['test'](oS['Lvl'])&&!/jx|Bonus_level/['test'](oS['Lvl'])&&i['slots']>=0xa?(i['slots']=JSON['parse'](localStorage['JNG_TR_Slots']||0x7),i['lock']()):i['slots']<0xa&&(Q['style']['clip-path']='inset(0\x200\x20calc(100%\x20-\x20'+0x3c*i['slots']+'px))');let k=NewEle('viewButton','div','position:\x20absolute;\x20width:\x2055px;\x20height:\x2055px;\x20left:\x201338px;\x20top:\x2080px;\x20cursor:\x20pointer;\x20background-image:\x20url(images/interface/ViewButtonLeft.webp);',{'className':'jngButton'},I);return k['onclick']=function(){oAudioManager['playAudio']('Close'),i['hide'](),ClearChild(Q),i['slots']=oS['Slots']||0xa,oPropSelectGUI['hide'](),oPropSelectGUI['rerender']=0x1,oS['ScrollBack'](()=>{I['style']['visibility']='visible',k['style']['backgroundImage']='url(images/interface/ViewButtonRight.webp)',k['onclick']=function(){oAudioManager['playAudio']('Close'),ClearChild(I),oS['ScrollScreen']();};});},oEffects['Animate'](c,{'top':'0px'},0.225,'cubic-bezier(0.0,\x200.0,\x200.2,\x201)',f=>{c['style']['pointer-events']='auto';if(!i['selected']){i['selected']=0x1;for(let G in oS['CardsType']){switch(oS['CardsType'][G]){case 0x2:i['selectOneCard'](G);break;case 0x4:i['selectOneCard'](G);break;}}}g&&g();},0.3),this;},'hide'(g){const i=this['wrapDom'];return i['style']['pointer-events']='none',oEffects['Animate'](i,{'top':'600px'},0.195,'cubic-bezier(0.4,\x200.0,\x201,\x201)',()=>{SetHidden(i),g&&g();}),this;},'selectOneCard'(g,c=!![],w=!![]){const I=$('aCard_'+g);if(!I)return;const Q=I['childNodes'][0x0],k=Q['className'],f=ArPCard['$'][g];if(!f['Select']){w&&oAudioManager['playAudio']('tap');if(ArPCard['SelNum']>(oS['CanSelectCard']?this['slots']-0x1:0x9))return;++ArPCard['SelNum'],f['Select']=0x1;if(oS['StaticCard']){let G=Q['src'],z=NewEle('dCard'+g,'div','',{'onmousedown':()=>oSelectCardGUI['selectOneCard'](g)},$('dCardList'));NewImg('',G,'width:100px;height:120px',z),NewEle('','span','',{'className':'cardSunNum2','innerText':f['PName']['prototype']['SunNum']},z);if(oS['CanSelectCard']){z['style']['visibility']='hidden';let e=I['getBoundingClientRect'](),X=NewEle('','div','transform:'+(IsMobile?'scale(1.25)':'scale(1)')+';top:'+e['top']+'px;left:'+(e['left']-EDAll['getBoundingClientRect']()['left']+(oS['GroundPictureWidth']-oS['W']))+'px;',{'className':'TransitionCard'},EDAll),F=NewImg('',G,'width:100%;position:absolute;',X,{}),H=NewEle('','span','',{'className':'cardSunNum','innerText':f['PName']['prototype']['SunNum']},X),W=0.3,r=0x10,t=0x12-r;oEffects['Animate'](H,{'height':'28px','bottom':GetStyle(H,'bottom',!![])+0x2+'px','right':'9px'},W,'ease-in');for(let U=0x0;U<W;U+=0.016){setTimeout(function(){H['style']['fontSize']=(r+=t/(W/0.016))+'pt';},U*0x3e8);}oEffects['Animate'](X,{'clip':'rect(auto,\x20auto,\x2060px,\x20auto)','left':oS['GroundPictureWidth']-oS['W']+'px','transform':IsMobile?'scale(1)':'','top':z['getBoundingClientRect']()['top']+'px','width':'100px','height':'60px'},W,'ease-in',()=>{ClearChild(X),z['style']['visibility']='';});if(k==='CardType_3Force')oEffects['flash']();}Q['style']['top']='-42px';}}else c&&oSelectCardGUI['removeOneCard'](g,w);},'removeOneCard'(g,i=!![]){const c=$('aCard_'+g);if(!c)return;const w=c['childNodes'][0x0],I=w['className'],Q=ArPCard['$'][g],k=()=>{i&&oAudioManager['playAudio']('tap'),Q['Select']=0x0,--ArPCard['SelNum'],ClearChild($('dCard'+g)),w['style']['top']=0x0;};if(I==='CardType_3Force')oEffects['flash']('rgb(0,255,0)');if(I==='CardType_2')i&&oAudioManager['playAudio']('UnlockLimit');else I==='CardType_4'?jngAlert['open']({'text':''+$__language_Array__['63fbe4bbbfd0cc3b0e4398d70da46d74'][0x0]+window[g]['prototype']['CName']+$__language_Array__['63fbe4bbbfd0cc3b0e4398d70da46d74'][0x1],'nextHandler':f=>{k(),oAudioManager['playAudio']('bottom');},'shade':0x1}):k();},'selectSeveralCards'(g){if(!this['FinishRender']){oSym['addTask'](0x14,()=>{this['selectSeveralCards'](g);});return;}g['forEach'](i=>{this['selectOneCard'](i['prototype']['EName'],![],![]);});},'resetSelectedCards'(){for(let g in ArPCard['$']){ArPCard['$'][g]['Select']&&this['selectOneCard'](g);}oAudioManager['playAudio']('Close');},'ReadyGO'(){if(ArPCard['SelNum']<=0x0){jngAlert['open']({'text':$__language_Array__['e7b5645a2042b79228b11d9404632058'],'type':0x0});return;}const g=i=>ArPCard['$'][i]?ArPCard['$'][i]['Select']?0x1:0x2:0x3;if(this['__needCheckList__']['has'](0x0)){if(ArPCard['SelNum']<0x2&&g('oImitater')===0x1){jngAlert['open']({'text':$__language_Array__['e50ac3832f109d7c0b4e6ed1167259e3'],'nextHandler':i=>(this['__needCheckList__']['delete'](0x0),this['ReadyGO']()),'canBtn1CloseWindow':![]});return;}}if(this['__needCheckList__']['has'](0x1)){let i=![],c=![];for(let w of ArPCard['$']){let{EName:I,CanSpawnSun:Q}=w['PName']['prototype'];if(Q){oS['CardsType'][I]!==0x1&&(i=!![]);if(w['Select']){c=!![];break;}}}if(i&&!c){jngAlert['open']({'text':$__language_Array__['3704695fb154c4e95e674e48ce44fc7e'],'nextHandler':k=>(this['__needCheckList__']['delete'](0x1),this['ReadyGO']()),'canBtn1CloseWindow':![]});return;}}jngAlert['close'](),ClearChild(cardslot),oSelectCardGUI['hide'](k=>oSym['addTask'](0x14,oS['ScrollBack'],[LetsGO])),oPropSelectGUI['hide'](),oPropSelectGUI['rerender']=0x0,$('dCardList')['childNodes']['forEach'](k=>{k['onmousedown']=null,k['ontouchstart']=null;});}},GetAP=(g,i,c,w)=>{let I=oGd['$'],Q=[],k;g+=-oS['FightingSceneLeft']+oS['EDAllScrollLeft'];for(let f=0x0;f<=PKindUpperLimit;f++){let G=I[c+'_'+w+'_'+PKindTraverseOrder[f]];Q[PKindTraverseOrder[f]]=G,G&&g>G['pixelLeft']&&g<G['pixelRight']&&i>G['pixelTop']&&i<G['pixelBottom']&&(k=G);};return[Q,k];},LetsGO=function(){let g=$('dCardList'),i=$('dTitle');SetVisible(g),$User['_tmpARCARD'][oS['Lvl']]=[];let c=[];g['childNodes']['forEach']((w,I)=>{let Q=w['id'],k=ArPCard['$'][Q['substring'](0x5)]['PName'];w['onmousedown']=f=>{ChosePlant(f,I),f['stopPropagation'](),f['preventDefault']();},w['ontouchstart']=f=>{ChosePlant(f,I),f['stopPropagation'](),f['preventDefault']();},w['onmouseover']=f=>{!IsMobile&&SetVisible(i),ViewPlantTitle(oS['MCID']=I);},w['onmouseout']=f=>SetHidden(i),w['firstChild']['style']['top']='-60px',ArCard['push']({'DID':Q,'PName':k,'CDReady':0x0,'SunReady':0x0,'NeedToMonitor':!![]}),c['push'](k['prototype']['EName']),$User['_tmpARCARD'][oS['Lvl']]['push'](k);});if(c['length']&&oS['CanSelectCard'])localStorage['JNG_TR_CardUsedPrev']=JSON['stringify'](c);EBody['onmousedown']=w=>GroundOnmousedown(w),EBody['onmousemove']=w=>GroundOnmousemove(w),EBody['ontouchmove']=w=>GroundOnmousemove(w),$('tdShovel')['onmousedown']=w=>ChoseShovel(w),$('tdShovel')['ontouchstart']=w=>ChoseShovel(w);for(let w=0x1;w<=oS['R'];w++)CustomSpecial(oBrains,w,-0x2);oPropUseGUI['Init'](),oS['CanSelectCard']&&ClearChild(viewDOM),oPropSelectGUI['PropsSelectedList']&&(localStorage['JNG_TR_PropsUsedPrev']='{\x22'+Array['from'](oPropSelectGUI['PropsSelectedList'])['join']('\x22:1,\x22')+'\x22:1}',localStorage['JNG_TR_PropsUsedPrev']['replaceAll']('\x20','_')),(oS['StartGame']||oS['DefaultStartGame'])();},GroundOnmousedown=function(g){let[i,c]=[$User['clientX'],$User['clientY']],[[w,I],[Q,k]]=[ChosePlantX(i),ChosePlantY(c)],f=GetAP(i,c,k,I);switch(oS['Chose']){case 0x1:WhichMouseButton(g)<0x2?GrowPlant(f[0x0],w,Q,k,I):CancelPlant();break;case-0x1:WhichMouseButton(g)<0x2?ShovelPlant(f):CancelShovel();break;}},GroundOnmousemove=function(){},PosHighlight=function(g,i){let c=$('HighlightLane')||NewEle('HighlightLane','div','position:absolute;left:255px;top:70px;z-index:0;height:102px;width:726px;background:rgba(255,255,255,0.36);pointer-events:none;',{},FightingScene),w=$('HighlightColumn')||NewEle('HighlightColumn','div','position:absolute;left:255px;top:70px;z-index:0;height:500px;width:80px;background:rgba(255,255,255,0.36);pointer-events:none;',{},FightingScene);SetStyle(c,{'top':0x64*g-0x1e+'px'}),SetStyle(w,{'left':0x50*(i-0x1)+0xff+'px'});},GroundOnmousemove1=(g,i=ArCard[oS['ChoseCard']]['PName'])=>{let[c,w]=[$User['clientX'],$User['clientY']];if(IsMobile&&g['targetTouches']){let F=g['targetTouches'][0x0];[c,w]=[F['clientX']-0x3c,F['clientY']];}let[[I,Q],[k,f]]=[ChosePlantX(c),ChosePlantY(w)],[G]=GetAP(c,w,f,Q),z=i['prototype'],e=$('MovePlantAlpha');SetStyle($('MovePlant'),{'left':c+'px','top':w+0x14-z['height']+'px'}),z['CanGrow'](G,f,Q)?(SetStyle(e,{'visibility':'visible','left':I+0x73+z['GetDX'](z)+'px','top':k-z['height']+z['GetDY'](f,Q,G)+'px'}),PosHighlight(f,Q)):(SetHidden(e),ClearChild($('HighlightLane'),$('HighlightColumn')));},GroundOnmousemove2=function(){let[g,i]=[$User['clientX'],$User['clientY']];if(IsMobile&&event['targetTouches']){let G=event['targetTouches'][0x0];[g,i]=[G['clientX']-0x3c,G['clientY']];}let[[,c],[,w]]=[ChosePlantX(g),ChosePlantY(i)],[,I]=GetAP(g,i,w,c),Q=I?I['id']:'',k=oS['MPID'];if(k!==Q){var f;let z=$(k),e=$(Q);k&&z&&(SetAlpha(z['childNodes'][0x1],0x1),ClearChild($('HighlightLane'),$('HighlightColumn'))),(oS['MPID']=Q)&&(f=$P[Q])!==null&&f!==void 0x0&&f['isPlant']&&$P[Q]['canShovel']&&e&&(SetAlpha(e['childNodes'][0x1],0.6),PosHighlight($P[Q]['R'],$P[Q]['C']));}SetStyle($('tShovel'),{'left':g-0x14+'px','top':i-0x26+'px'});},ChoseShovel=function(g){(oS['Chose']===0x1||$('MovePlant'))&&CancelPlant();if(oS['Chose']===-0x1){CancelShovel();return;}oAudioManager['playAudio']('shovel'),oS['Chose']=-0x1,ClearChild($('tShovel')),SetHidden($('imgShovel')),NewImg('tShovel','images/interface/Shovel.png','left:'+(IsMobile?0x3f2:$User['clientX']-0x14)+'px;top:'+(IsMobile?0x208:$User['clientY']-0x26)+'px;z-index:258;',EDAll),GroundOnmousemove=GroundOnmousemove2,g['preventDefault'](),g['stopPropagation']();},ShovelPlant=function(g){oAudioManager['playAudio']('plant2');let[i,c]=g;if(c&&c['isPlant']&&c['canShovel']){if(c['PKind']||!(i[0x1]||i[0x2])){let w=0x5*Math['floor'](c['SunNum']/0xa);if($User['enabledSunShovel']&&$('dSunNum')['style']['visibility']!='hidden'&&w)AppearSun(GetX(c['C'])+0x28,GetY(c['R'])-0x32,w,0x0,0x32-Math['random']()*0xa);c['Die']('JNG_TICKET_ShovelPlant'),oS['MPID']='';}}CancelShovel();},CancelShovel=function(){let g=oS['MPID'];oS['Chose']=0x0,ClearChild($('tShovel'),$('HighlightLane'),$('HighlightColumn')),SetVisible($('imgShovel')),g&&$P[g]&&SetAlpha($(g)['childNodes'][0x1],0x1),GroundOnmousemove=function(){};},ViewPlantTitle=function(g){if(g===null)return;let i=$('dTitle'),c=ArCard[g],w=c['PName']['prototype'],I=''+w['CName']+$__language_Array__['96922b1b075633116839cab7596bdabc'][0x0]+w['coolTime']+$__language_Array__['96922b1b075633116839cab7596bdabc'][0x1]+w['Tooltip'];!c['CDReady']&&(I+=$__language_Array__['60f4d5ce5a7d1c085bcb9bf3ea0f270b']),!c['SunReady']&&(I+=$__language_Array__['265c95596108d197ad7452b4b2b3ff82']),i['innerHTML']=I,SetStyle(i,{'top':Math['min'](0x200,0x3c*g)+'px','left':0x64+oS['EDAllScrollLeft']+'px'});},MonitorCard=function(){oS['Chose']<0x1||oS['Chose']>=0x1&&oS['ChoseCardObj']?ArCard['forEach'](g=>{if(!g['NeedToMonitor'])return;if(g['PName']['prototype']['SunNum']>oS['SunNum'])g['SunReady']=0x0,$(g['DID'])['childNodes'][0x0]['style']['top']='-60px',g['Readyed']=![];else{g['SunReady']=0x1;if(g['CDReady']){$(g['DID'])['childNodes'][0x0]['style']['top']=0x0;if(!g['Readyed']){let i=$('dCDFather'+g['DID']),c=$('dCDMask'+g['DID']);SetStyle(c,{'background-color':'white','opacity':'1'}),SetStyle(i,{'transition':'','height':'auto','opacity':'0.4'}),oEffects['fadeOut'](i,0.5/oSym['NowSpeed']),g['Readyed']=!![];}}}}):ArCard['forEach'](g=>{if(!g['NeedToMonitor'])return;g['SunReady']=Number(g['PName']['prototype']['SunNum']<oS['SunNum']);}),oS['MCID']&&ViewPlantTitle(oS['MCID']);},BeginCool=function(){ArCard['forEach']((g,i)=>{let c=g['PName']['prototype'],w=c['coolTime'],I=w,Q=NewEle('dCDFather'+g['DID'],'div','pointer-events:none;position:relative;',null,$(g['DID'])),k='20px';/(oLSP|oLight|oBatStaff)/['test'](g['DID'])&&(k='20px\x200px');let f=NewEle('dCDMask'+g['DID'],'div','background-color:black;border-radius:'+k+';position:relative;opacity:0;',null,Q);if(c['hasOwnProperty']('firstCoolTime'))I=c['firstCoolTime'];else{if(w<=7.5)I=0x0;else{if(w>=0xf&&w<=0x19)I-=0x5;}}DoCoolTimer(i,I);});},DoCoolTimer=function(g,i){let c=ArCard[g],w=$(c['DID']),I=NewEle('dCD'+g,'span',null,{'className':'spanCD'},w),Q=$('dCDFather'+c['DID']),k=$('dCDMask'+c['DID']);c['Readyed']=![],localStorage['JNG_TR_COOLTEXT']!=='1'&&(SetStyle(Q,{'transition':'','height':'auto','opacity':'1'}),SetStyle(k,{'background-color':'black','opacity':'0.4'})),function f(G){G>0x0&&c['CDReady']!=0x1?(localStorage['JNG_TR_COOLTEXT']==='1'?I['innerText']=G:(oEffects['StopAllAnims'](Q,!![]),$User['LowPerformanceMode']?SetStyle(Q,{'height':G/i*0x64+'%'}):SetStyle(Q,{'transition':'height\x20'+0.5/oSym['NowSpeed']+'s\x20linear','height':G/i*0x64+'%'})),oSym['addTask'](0x32,f,[(G-(oS['coolSpeed']||0.5))['toFixed'](0x1)])):($User['LowPerformanceMode']?SetStyle(Q,{'height':'0px'}):SetStyle(Q,{'transition':'height\x20'+0.5/oSym['NowSpeed']+'s\x20linear','height':'0px'}),ClearChild(I),c['CDReady']=0x1,MonitorCard());}(i);},ChosePlant=function(g,i){i===-0x1&&(i=0x9);if(i+0x1>ArCard['length'])return;oS['Chose']===-0x1&&CancelShovel();if(oS['Chose']===0x1||$('MovePlant')){CancelPlant();return;}$('MovePlant')&&ClearChild($('MovePlant'));let c=ArCard[oS['ChoseCard']=i];if(!c['CDReady']){oAudioManager['playAudio']('buzzer');return;}if(!c['SunReady']){SunNumWarn();return;}oAudioManager['playAudio']('seedlift');let w=g['clientX']-EDAlloffsetLeft||0x3c,I=g['clientY']||0x37*(i+0x1),Q=c['PName']['prototype'],k=ArCard['length'],f=Q['PicArr'];oS['Chose']=0x1;if(!oS['CardKind']){let G=NewImg('MovePlant',f[Q['StaticGif']],'left:'+w+'px;top:'+(I+0x14-Q['height'])+'px;z-index:258;',EDAll);SetStyle(G,Q['ImgStyle']),EditImg(G['cloneNode'](![]),'MovePlantAlpha','',{'visibility':'hidden','opacity':0.4,'z-index':0x1e},FightingScene),EditCompositeStyle({'ele':G,'addFuncs':[['translateX',oS['EDAllScrollLeft']-Q['width']/0x2+'px']],'option':0x2});}else NewImg('MovePlant',Q['PicArr'][Q['StandGif']],'left:'+(w-0.5*(Q['beAttackedPointL']+Q['beAttackedPointR']))+'px;top:'+(I+0x14-Q['height'])+'px;z-index:258',FightingScene),NewImg('MovePlantAlpha',Q['PicArr'][Q['StandGif']],'visibility:hidden;opacity:0.4;z-index:30',FightingScene);while(k--){$(ArCard[k]['DID'])['childNodes'][0x0]['style']['top']='-60px';}NewImg('CardSelected','images/Card/CardSelected.webp','width:\x20100px;\x20height:\x20120px;\x20top:0px',$(ArCard[i]['DID'])),SetHidden($('dTitle')),GroundOnmousemove=GroundOnmousemove1;},GrowPlant=function(g,i,c,w,I){let Q=oS['ChoseCard'],k=ArCard[Q],f=k['PName'],G=f['prototype'],z=G['coolTime'];if(G['CanGrow'](g,w,I)){oAudioManager['playAudio'](oGd['$GdType'][w][I]===0x2?'plant_water':'plant'+Math['floor'](0x1+Math['random']()*0x2)),new f()['Birth'](i,c,w,I,g),oS['SunNum']-=G['SunNum'],z&&(k['CDReady']=0x0,DoCoolTimer(Q,z));const e=$('imgGrowSoil');e['src']=GrowSoilImg,SetStyle(e,{'left':i+0x55+'px','top':c-0x2d+'px','z-index':0x3*w+0x1,'visibility':'visible'}),oSym['addTask'](0x64,SetHidden,[e]),CancelPlant();}else(IsMobile||w<0x1||I<0x1||I>0x9)&&CancelPlant();},CancelPlant=function(){ClearChild($('MovePlant'),$('MovePlantAlpha'),$('HighlightLane'),$('HighlightColumn'),$('CardSelected')),oS['Chose']=0x0,oS['ChoseCard']='',MonitorCard(),GroundOnmousemove=function(){};},SunNumWarn=function(){oAudioManager['playAudio']('buzzer'),oEffects['Animate'](ESSunNum,'SunNumWarn');},AutoProduceSun=function(g){oS['DKind']&&AppearSun(GetX(Math['floor'](0x1+Math['random']()*oS['C'])),GetY(Math['floor'](0x1+Math['random']()*oS['R'])),g,0x1),oSym['addTask'](Math['floor'](0x9+Math['random']()*0x3)*0xc8,AutoProduceSun,[g]);},AppearSun=(g,i,c,w,...I)=>{let[Q=0x0,k=0x0,f=0x40,G=0x18]=I,z='Sun'+Math['random'](),e='left:'+g+'px;',F=Math['Clamp']((c-7.5)/0x55*1.35+0.125,0.2,1.5),H=0x27+(F-0.8)*0x2,W;w?(W=0x0,e+='transform:\x20scale('+F+');\x20top:\x20'+W+'px;'):(W=i-H-0x14,e+='transform:\x20scale('+F/0x2+');\x20top:\x20'+W+'px;');ArSun[z]={'id':z,'N':c,'C':0x1,'left':g,'top':W,'drop':w};let r=NewEle(z,'div',e,{'className':'SunPic'},EDAll);return r['addEventListener'](IsMobile?'touchstart':'mouseover',ClickSun['bind'](this,z),{'once':!![]}),w?oSym['addTask'](0xa,MoveDropSun,[z,i]):MoveThrowedSun({'transformScale':F,'totalTime':f,'XMove':G,'targetDeltaY':Q,'height':H,'power':k,'id':z}),$User['AutoSun']&&oSym['addTask'](0x64,ClickSun,[z]),ArSun[z];},MoveThrowedSun=({transformScale:g,totalTime:i,XMove:c,targetDeltaY:w,height:I,power:Q,id:f})=>{const G=ArSun[f],z=$(f),e=z['style'];let F=0x78-Math['min'](0x1e,0xa*Math['pow'](g-0.8,0x2))+Q,H=i/0x2,W=F/H*0x2,r=-W/H,t=Math['random']()*c*0x2-c,U=t/(H*0x2),u=0.025,O=$User['LowPerformanceMode']?0x4:0x2,D=G['top'],V=D+w,Z=G['X']+I/0x2;oEffects['Animate'](z,{'transform':'scale('+g+')'},0.2*0x1/oSym['NowSpeed']),function J(){ArSun[f]&&ArSun[f]['C']&&(Z=Z+U*O,D=D-W*O,e['setProperty']('left',Z+'px'),D<V?(e['setProperty']('top',D+'px'),W+=r*O,W<0x0&&(W-=u*W*O),oSym['addTask'](O,J)):e['setProperty']('top',V+'px'));}(),oSym['addTask'](0x320+(H*0x2-0x24),DisappearSun,[f],0x3);},MoveDropSun=(g,i,c)=>{const w=c!==null&&c!==void 0x0?c:$(g),I=w['style'];(function Q(){let k=ArSun[g];k&&k['C']&&(k['top']<i-0x35?(I['setProperty']('top',(k['top']+=0x3)+'px'),oSym['addTask'](0x5,Q)):oSym['addTask'](0x320,DisappearSun,[g]));}());},DisappearSun=function(g){const i=ArSun[g],c=$(g);i&&i['C']&&(c['onmouseover']=null,oEffects['fadeOut'](c,undefined,w=>{delete ArSun[g],ClearChild(c);}));},ClickSun=function(g){let i=$(g);if(!i||i['dataset']['clicked'])return;i['dataset']['clicked']='1',oAudioManager['playAudio']('points');let c=ArSun[g];c&&c['C']&&(c['C']=0x0,MoveClickSun(g));},MoveClickSun=function(g){let i=ArSun[g],c=$(g),w=i['left'],I=i['top'],Q=0x55+oS['EDAllScrollLeft'],k=-0x27,f=Math['sqrt']((w-Q)**0x2+(I-k)**0x2),G=f/0x2e7/oSym['NowSpeed'];c['setAttribute']('style','transition:\x20left\x20'+G+'s\x20ease,top\x20'+G+'s\x20ease,transform\x20'+G+'s\x20cubic-bezier(1,1,0.5,0),opacity\x20'+G+'s\x20cubic-bezier(0,0,0.2,1);\x20left:'+Q+'px;\x20top:\x20'+k+'px;\x20transform:\x20scale(0.25);\x20opacity:\x200.75;'),c['addEventListener']('transitionend',z=>ArSun[g]&&(oS['SunNum']+=i['N'],MonitorCard(),delete ArSun[g],ClearChild(c)));},AutoClickSun=function(){for(let g in ArSun){ArSun[g]['C']&&ClickSun(g);}},AutoClickCoins=function(){for(let g in oGd['$Coins']){oGd['$Coins'][g]['collect']();}},PrepareGrowPlants=function(g,i=!![],c=[[$__language_Array__['b111bd4e7d0cfef528a39240f66972ba'],0x3c,'80px'],[$__language_Array__['51b864cd94837d49493573d3c15a1450'],0x28,'60px'],[$__language_Array__['c130f856ce35cdff29aaa7fe1d010126'],0x64,'90px']]){$('dZombiePreview')['innerHTML']='';if(!i){oS['isStartGame']=0x1,dispatchEvent(EVENT_STARTGAME),g(),oS['HaveFog']&&oS['HaveFog']['Immediate']!==![]&&oFog['moveLeft'](Q=>{});return;}let w=NewEle('dReadySetPlant','div','left:\x20507.5px;\x20top:\x20300px;\x20transform:\x20translateX('+oS['EDAllScrollLeft']+'px)\x20translate(-50%,\x20-50%);color:red;font-size:80px;opacity:0;',{'innerText':c[0x0][0x0],'className':'2px_shadow_with_shadow'},EDAll);const I=function(){let Q=0x0;oAudioManager['playAudio']('readysetplant');for(let k=0x0;k<c['length'];k++){oSym['addTask'](Q,()=>{w['innerText']=c[k][0x0],w['style']['opacity']='',w['style']['fontSize']=c[k][0x2],EditCompositeStyle({'ele':w,'delFuncs':['scale'],'addFuncs':[['scale',0.95]],'option':0x2}),oSym['addTask'](0x1,()=>{oEffects['Animate'](w,{'transform':EditCompositeStyle({'ele':w,'delFuncs':['scale'],'addFuncs':[['scale',1.1]]})},0.3/oSym['NowSpeed'],'ease-out');});}),Q+=c[k][0x1];}oSym['addTask'](Q,()=>{ClearChild(w),oS['isStartGame']=0x1,dispatchEvent(EVENT_STARTGAME),g();});};oS['HaveFog']&&oS['HaveFog']['Immediate']!==![]?oFog['moveLeft'](I):I();},CustomSpecial=(g,i,c)=>{return new g()['Birth'](GetX(c),GetY(i),i,c,[]);},CheckMusicVol=function(g){$('cMusic2')['value']=$('cMusic')['value']=g['value'],localStorage['JNG_TR_MusicPercent']=$User['MusicVolumePercent']=g['value']/0x64,$('cMusic2')['style']['background']='linear-gradient(to\x20right,\x20#81C784\x20'+g['value']+'%,\x20#ccc\x20'+g['value']+'%)',$('cMusic')['style']['background']='linear-gradient(to\x20right,\x20#8ADCDC\x20'+g['value']+'%,\x20white\x20'+g['value']+'%)',oAudioManager['modifyMusicVolume']();},CheckAudioVol=function(g){$('cAudio2')['value']=$('cAudio')['value']=g['value'],localStorage['JNG_TR_AudioPercent']=$User['AudioEffectVolumePercent']=g['value']/0x64,$('cAudio2')['style']['background']='linear-gradient(to\x20right,\x20#81C784\x20'+g['value']+'%,\x20#ccc\x20'+g['value']+'%)',$('cAudio')['style']['background']='linear-gradient(to\x20right,\x20#8ADCDC\x20'+g['value']+'%,\x20white\x20'+g['value']+'%)';for(let i of oAudioManager['playingAudioDomSet']){oAudioManager['modifyAudioVolume'](i);}},CheckAutoSun=function(g){var i=g['checked']?0x1:0x0;i!=$User['AutoSun']&&($User['AutoSun']=localStorage['JNG_TR_AUTOSUN']=i,i&&AutoClickSun());},CheckSilence=function(g){(oS['Silence']=g['checked'])?oAudioManager['allResMuted']():oAudioManager['allResMutedCanceled']();},CheckCursor=function(g={'checked':localStorage['JNG_TR_BIGCURSOR']}){g['checked']?(localStorage['JNG_TR_BIGCURSOR']='1',EBody['className']='bigCursor'):(localStorage['JNG_TR_BIGCURSOR']='0',EBody['className']='');};const oFog={'isAttacking':![],'locked':![],'operateId':null,'canvasVersion':!![],'canvasCtx':null,'canvasFogNodes':{},'canvasRatio':0x1/0x4,'init'(){return this['locked']=![],this['isAttacking']=![],this['canvasFogNodes']={},this['fogsToShow']=new Set(),this['fogsToHide']=new Set(),this['isWaitingToReRender']=![],this['rerenderOpTicket']=null,Object['assign'](this,oS['HaveFog']);},async'firstRender'(){let g='',i=0x0,c=0x2*this['leftBorder']+0x3,w=this['type'],I=new Map(),Q=[],k=()=>{let e='images/interface/'+(w==='strongFog'?'haze':'fog')+Math['floor'](Math['random']()*0x4)+'.png',X;return I['has'](e)?X=I['get'](e):(X=new Image(),X['src']=e,I['set'](e,X),Q['push'](X)),X;},f=0xd2*this['canvasRatio'],G=0xbe*this['canvasRatio'];for(let e=0x1;e<oS['R']+0x1;e++){for(let X=0x0,F=0x0;X<=c;X++,F+=0x23){let H=await k(),[W,r]=[Math['round'](F*this['canvasRatio']),Math['round'](i*this['canvasRatio'])],t=this['canvasFogNodes']['Fog'+e+'_'+X]={'img':H,'show':!![],'x':W,'y':r,'width':f,'height':G,'curAlpha':this['type']==='strongFog'?0.7:0.8};if(!$User['LowPerformanceMode']){let U=Math['random']()*0x2*Math['PI'],u=W+f/0x2,O=r+G/0x2,D=Math['sin'](U),V=Math['cos'](U);t['rotate']=[D,V],t['x']=Math['round'](u*V+O*D-f/0x2),t['y']=Math['round'](-u*D+O*V-G/0x2);}}i+=0x21c/oS['R'];}let z=NewEle('dFog','canvas','will-change:\x20left;',{'innerHTML':g,'width':0x3e8*this['canvasRatio'],'height':0x258*this['canvasRatio'],'className':w+'Div'},EDAll);z['transferControlToOffscreen']?this['canvasCtx']=z['transferControlToOffscreen']()['getContext']('2d'):this['canvasCtx']=z['getContext']('2d'),this['canvasCtx']['imageSmoothingEnabled']=![],await oLoadRes['loadElement'](Q),this['renderCanvas']();},'renderCanvas'(g=0x1){let i=this['canvasCtx'],c=this['type']==='strongFog',w=c?0.7:0.8;i['clearRect'](0x0,0x0,0x3e8*this['canvasRatio'],0x258*this['canvasRatio']);for(let I of this['canvasFogNodes']){let Q=w,{img:k,x:f,y:G,width:z,height:e,curAlpha:X}=I;!I['show']&&(Q=c?0.4:0x0);I['curAlpha']=i['globalAlpha']=Math['Lerp'](X,Q,g);if(!$User['LowPerformanceMode']){let[F,H]=I['rotate'];i['setTransform'](H,F,-F,H,0x0,0x0),i['drawImage'](k,f,G,z,e);}else i['drawImage'](k,f,G,z,e);}i['setTransform'](0x1,0x0,0x0,0x1,0x0,0x0);},'moveLeft'(g){if(this['locked']===!![])return;this['operateId']=Math['random'](),this['hasLeftStage']=![],oEffects['Animate']($('dFog'),{'left':GetX(oS['C']-this['leftBorder'])+0x3c+'px'},0x1,'cubic-bezier(0.0,\x200.0,\x200.2,\x201)',i=>{g&&g(),this['refreshTP'](),this['type']==='strongFog'&&this['attackPlants']();});},'moveRight'(){let g,i,c=$('dFog');if(this['locked']===!![])return;this['operateId']=Math['random']();if(this['type']==='Fog')g='1290px',this['hasLeftStage']=!![],oSym['addTask'](0x9c4,this['moveLeft']['bind'](this));else{if((this['leftBorder']-=0x3)>0x0){let w=this,I=$('dFog'),Q=g=GetX(oS['C']-this['leftBorder'])+0x64,k=Q;g+='px';let f=GetX(oS['C']-oS['HaveFog']['leftBorder'])+0x3c,G=w['refreshTP']['bind'](w),z=0x0,e=Math['round'](Math['abs'](f-Q)/0x28),X=w['operateId'];i=()=>{if(z>e||w['operateId']!==X)return;this['leftBorder']=oS['C']-GetC(k-0x3c),G();if(z===e)return;z++,oEffects['StopAllAnims'](I,!![]),I['style']['left']=k+'px',k=Math['Lerp'](Q,f,z/e),oEffects['Animate'](I,{'left':k+'px'},0x6/oSym['NowSpeed'],z===e?'ease-out':'linear'),oSym['addTask'](0x258,i);};}else g='1290px',this['hasLeftStage']=!![],this['leftBorder']=oS['HaveFog']['leftBorder'],oSym['addTask'](0x4e2,this['moveLeft']['bind'](this));}for(let F of this['canvasFogNodes']){F['show']=!![];}this['fogsToShow']['clear'](),this['fogsToHide']['clear'](),this['__rerenderAllFogs__'](!![]),oEffects['StopAllAnims']($('dFog'),!![]),oEffects['Animate']($('dFog'),{'left':g},(this['type']==='Fog'?0.4:0x1)/oSym['NowSpeed'],'cubic-bezier(0.4,\x200.0,\x200.6,\x201)',i);},'refreshTP'(){for(let g of oGd['$TrafficLights']){let i=$P[g];this['update'](i['R'],i['C'],0x0,0x0,0x0);}for(let c of oGd['$Torch']){let w=$P[c];this['update'](w['R'],w['C'],0x0,0x0,0x0);}for(let I of oGd['$Plantern']){let Q=$P[I];this['update'](Q['R'],Q['C'],0x1,0x1,0x0);}},'update'(g,i,c,w,I){const Q=this['__collectFogToUpdate__']['bind'](this);if(this['hasLeftStage'])return;Q(I,g,i,c,w);if(I){for(let k of oGd['$TrafficLights']){let f=$P[k];f['color']!==0x2&&Q(![],f['R'],f['C'],0x1,0x1);}for(let G of oGd['$Torch']){let z=$P[G];Q(![],z['R'],z['C'],0x0,0x0);}for(let e of oGd['$Plantern']){let X=$P[e];Q(![],X['R'],X['C'],0x1,0x1);}}if(!this['isWaitingToReRender']){const F=new MessageChannel(),H=F['port2'];this['isWaitingToReRender']=!![],F['port1']['onmessage']=this['__rerenderAllFogs__']['bind'](this),H['postMessage'](0x1);}},'__collectFogToUpdate__'(g,i,c,w,I,Q='add'){const k=this['fogsToShow'],f=this['fogsToHide'];let G=Math['max'](0x1,c-I),z=Math['min'](0x9,c+I),e=0xa-this['leftBorder'];if(z<e)return;if(G<e)G=e;let X=Math['max'](0x1,i-w),F=Math['min'](oS['R'],i+w),H=this['leftBorder']*0x2+0x3,W=Math['max'](0x0,H-(0x9-G)*0x2-0x5),r=z<0x9?H-(0x9-z)*0x2-0x3:H;for(let t=X;t<=F;t++){for(let U=W;U<=r;U++){let u='Fog'+t+'_'+U;g?(k['add'](u),f['delete'](u)):(k['delete'](u),f['add'](u));}}},'__rerenderAllFogs__'(g=![]){const i=this['fogsToShow'],c=this['fogsToHide'],w=this['canvasFogNodes'];this['isWaitingToReRender']=![];if(!g&&i['size']<=0x0&&c<=0x0)return;i['forEach'](I=>w[I]['show']=!![]),c['forEach'](I=>w[I]['show']=![]),i['clear'](),c['clear']();if($User['LowPerformanceMode'])this['renderCanvas']();else{let I=this['rerenderOpTicket']=Math['random']()+'',Q=0x190,k=0x0,f=new Date(),G;(function z(){if(I!==oFog['rerenderOpTicket'])return;G=new Date(),k+=G-f,f=G,oFog['renderCanvas'](k/Q);if(k<Q)requestAnimationFrame(z);}());}},'attackPlants'(){let g=$('dFog'),i=this;if(i['isAttacking'])return;(function c(){i['isAttacking']=!![];if(!oFog['hasLeftStage']&&g===$('dFog')){for(let w of $P)w['C']>=0xa-oFog['leftBorder']&&w['EName']!=='oPlantern'&&w['getHurt'](null,0x0,0x5);oSym['addTask'](0x64,c);}else i['isAttacking']=![];}());}},oIceRoad={'materials':[],'height':0x48,'width':0x322,'width_cap':0x19,async'init'(){this['IceRoads']=[],this['IceRoadsCanvasContext']=[],this['isWaitingToReRender']=![],this['ReRenderAr']=new Set();for(let g=0x0;g<0x2;g++){if(isNullish(this['materials'][g])){let i=$n('canvas'),c=new Image(),w=new Image(),I=i['width']=this['width'],Q=i['height']=this['height'];c['src']='images/Zombies/Zomboni/ice_'+g+'.webp',w['src']='images/Zombies/Zomboni/ice_cap_'+g+'.webp',await oLoadRes['loadElement']([c,w]);let k=c['width'],f=i['getContext']('2d');for(let G=0x0;G<=I;G+=k){f['drawImage'](c,G,0x0,k,Q);}this['materials'][g]=[i,w];}}},'render'(){for(let g of this['ReRenderAr']){this['renderSingleR'](g);}this['isWaitingToReRender']=![];},'renderSingleR'(g){const i=this['height'],c=this['width_cap'],w=this['width'],I=this['IceRoadsCanvasContext'][g];if(!I)return;const Q=this['IceRoads'][g],[k,f]=this['materials'][oS['DKind']];I['clearRect'](0x0,0x0,w,i);for(let{lx:G,rx:z,alpha:e}of Q){if(G>=0x316)continue;I['globalAlpha']=e,I['drawImage'](k,G+c/0x2,0x0,z-G-c/0x2,i,G+c/0x2,0x0,z-G-c/0x2,i),I['drawImage'](f,G,0x0,c,i);}this['ReRenderAr']['delete'](g);},'waitToReRender'(g){this['ReRenderAr']['add'](g);if(!this['isWaitingToReRender']){const i=new MessageChannel(),c=i['port2'];this['isWaitingToReRender']=!![],i['port1']['onmessage']=this['render']['bind'](this),c['postMessage'](0x1);}},'createIceRoad'(g,i){let c=this['IceRoads'][g];if(!isNullish(c))for(let Q of c){if(Q['isLiving']&&Math['inRange'](i,Q['lx'],Q['rx']))return Q['zombieCnt']++,Q;}else c=this['IceRoads'][g]=[];let w={'lx':i,'rx':i,'leftColum':GetX(i+0xa9),'zombieCnt':0x1,'isLiving':!![],'alpha':0x1};c['push'](w),c['sort']((k,f)=>k['lx']-f['lx']);let I=this['IceRoadsCanvasContext'][g];if(isNullish(I)){let k=NewEle('dIceRoad'+g,'canvas','position:absolute;z-index:1;left:150px;top:'+(GetY(g)-0x50)+'px;width:802px;height:72px',{'width':this['width'],'height':this['height']},EDPZ);this['IceRoadsCanvasContext'][g]=k['getContext']('2d');}return w;},'updateIceRoad'(g){let w=g['X'],I=g['R'],Q=g['IceRoad'];if(Q['isLiving']&&w<Q['lx']){Q['lx']=w;let k=Q['leftColum']=GetC(w+0xa9);oGd['$Crater'][I+'_'+k]=!![],oGd['$LockingGrid'][I+'_'+k]=!![];let f;for(let e=0x0;e<=PKindUpperLimit;e++){(f=oGd['$'][I+'_'+k+'_'+e])&&f['getHurt'](g,0x2,g['Attack']);}let G=this['IceRoads'][I],z=G['indexOf'](Q);if(z>0x0){let X=G[z-0x1];X['isLiving']&&w<=X['rx']&&(X['rx']=Q['rx'],X['zombieCnt']+=Q['zombieCnt'],G['splice'](z,0x1),Q=X);}this['waitToReRender'](I),g['IceRoad']=Q;}},'remove'(g,i,w){var I;let Q=this['IceRoads'][g];w=(I=w)!==null&&I!==void 0x0?I:Q['indexOf'](i);if(w<0x0||!i['isLiving'])return;let k=i['leftColum'],f=GetC(i['rx']+0x96);for(let G=k;G<=f;G++){delete oGd['$Crater'][g+'_'+G],oGd['unlockGrid'](g,G);}if($User['LowPerformanceMode'])Q['splice'](w,0x1),this['waitToReRender'](g);else{let z=0xc8,e=0x0,X=new Date(),F;i['isLiving']=![],function H(){F=new Date(),e+=F-X,X=F,i['alpha']=Math['Lerp'](i['alpha'],0x0,e/z),oIceRoad['renderSingleR'](g),e<z?requestAnimationFrame(H):Q['splice'](Q['indexOf'](i),0x1);}();}}},oWaterPath={'points':null,'defaultDepth':0x1e,'autoRenderPath':!![],'init'(g){var i,w,I,Q;this['autoRenderPath']=!![],g=(i=g)!==null&&i!==void 0x0?i:this['defaultDepth'],this['points']=new Set(),((w=oS['InitWaterPath'])===null||w===void 0x0?void 0x0:w['beforeDFS'])&&oS['InitWaterPath']['beforeDFS'](oGd['$GdType'],oGd['$WaterFlowDirection']);for(let e=0x1;e<=oS['R'];e++){for(let X=0x0;X<=oS['C']+0x1;X++){if(oGd['$GdType'][e][X]===0x2){let F=oGd['$WaterDepth'][e][X];(isNullish(F)||F<=0x0)&&(oGd['$WaterDepth'][e][X]=g),oGd['$WaterFlowDirection'][e][X]='Static',this['points']['add']([e,X]);}else oGd['$WaterDepth'][e][X]=0x0,oGd['$WaterFlowDirection'][e][X]='NoWater';}}if(oS['autoWaterFlowDirection']&&(!((I=oS['InitWaterPath'])!==null&&I!==void 0x0&&I['diyStartPoints'])||oS['InitWaterPath']['diyStartPoints']['length']!=0x0)){if(oS['autoWaterFlowDirection']==='bfs'){var k,f;oGd['$WaterFlowDirection']=this['bfsCreateWaterFlowDirection'](![],!![],(k=(f=oS['InitWaterPath'])===null||f===void 0x0?void 0x0:f['diyStartPoints'])!==null&&k!==void 0x0?k:[]);}else{var G,z;this['createWaterFlowDirection']((G=(z=oS['InitWaterPath'])===null||z===void 0x0?void 0x0:z['diyStartPoints'])!==null&&G!==void 0x0?G:[]);}}return((Q=oS['InitWaterPath'])===null||Q===void 0x0?void 0x0:Q['afterDFS'])&&oS['InitWaterPath']['afterDFS'](oGd['$GdType'],oGd['$WaterFlowDirection'],this['points']),this['autoRenderPath']&&this['render'](),this;},'bfsCreateWaterFlowDirection'(g=![],w=!![],I=![]){let Q=[],k=[[0x0,0x1],[0x0,-0x1],[0x1,0x0],[-0x1,0x0]],f=['Right','Left','Down','Up'],G=(function(){let u={};for(let O=0x0;O<f['length'];O++){u[f[O]]=k[O];}return u;}());G['NoWater']=G['Static']=[0x0,0x0];let z=[],e=[],X=[],F=[],H={'Left':[0x0,0x1],'Right':[0x0,-0x1],'Up':[0x1,0x0],'Down':[-0x1,0x0]};for(let u=0x0;u<=oS['R']+0x1;u++){z[u]=[],e[u]=[],F[u]=[],X[u]=[];for(let O=0x0;O<=oS['C']+0x1;O++){var W,t;((W=oGd['$GdType'])===null||W===void 0x0?void 0x0:(t=W[u])===null||t===void 0x0?void 0x0:t[O])===0x2?z[u][O]='Static':z[u][O]='NoWater',e[u][O]=Infinity,X[u][O]=-0x1,F[u][O]=Infinity;}}if(I===![])for(let D=0x1;D<=oS['R'];D++){oGd['$GdType'][D][oS['C']]===0x2&&Q['push']({'R':D,'C':oS['C'],'step':0x0,'searchIndex':D,'turns':0x0,'direction':-0x1});}else for(let V of I){Q['push']({'R':V[0x0],'C':V[0x1],'step':0x0,'searchIndex':Q['length'],'turns':0x0,'direction':-0x1});}for(let Z of Q){U(Z);}{let J=Q['reverse']();for(let d of J){U(d);}}function U(L){let l=[];l['push'](L),e[L['R']][L['C']]=L['step'],X[L['R']][L['C']]=L['searchIndex'],F[L['R']][L['C']]=L['turns'];while(l['length']>0x0){let h=l[0x0];l['shift']();let Y='';for(let N=0x0;N<k['length'];N++){let S={'R':h['R']+k[N][0x0],'C':h['C']+k[N][0x1],'step':h['step']+0x1,'searchIndex':h['searchIndex'],'direction':N};S['turns']=h['turns']+(N!=h['direction']?0x1:0x0);if(S['R']<0x1||S['R']>oS['R']||S['C']<0x1||S['C']>oS['C']||e[S['R']][S['C']]<S['step'])continue;if(oGd['$GdType'][S['R']][S['C']]===0x2){if(e[S['R']][S['C']]===S['step']&&F[S['R']][S['C']]<S['turns'])continue;e[S['R']][S['C']]=S['step'],X[S['R']][S['C']]=S['searchIndex'],F[S['R']][S['C']]=S['turns'],(e[S['R']][S['C']]>S['step']||X[S['R']][S['C']]==S['searchIndex'])&&(Y['length']>0x0&&(Y+='\x20'),Y+=f[N]),l['push'](S);}}Y['length']!==0x0?z[h['R']][h['C']]=Y:z[h['R']][h['C']]='Static';}}if(w){let L=['Left','Right','Up','Down'];for(let h=0x1;h<=oS['R'];h++){for(let Y=0x1;Y<=oS['C'];Y++){l(h,Y);}}function l(N,S){if(z[N][S]==='Static'){let v='';for(let n=0x0;n<k['length'];n++){var a,P;let[s,K]=k[n];((a=oGd['$GdType'])===null||a===void 0x0?void 0x0:(P=a[N+s])===null||P===void 0x0?void 0x0:P[S+K])===0x2&&z[N+s][S+K]['split']('\x20')['forEach'](b=>{if(n<0x2&&/Left|Right/['test'](b)||n>0x1&&/Up|Down/['test'](b)){let[E,A]=G[b];if(/NoWater/['test'](z[N+E][S+A]))return;v['length']>0x0&&(v+='\x20'),v+=b;}});}let M={};v['split']('\x20')['forEach'](b=>{M[b]=!![];});M['Left']&&M['Right']&&z[N][S+0x1]['includes']('Left')&&z[N][S-0x1]['includes']('Right')&&(delete M['Left'],delete M['Right']);M['Up']&&M['Down']&&(delete M['Up'],delete M['Down']);v='';let p=[];for(let b in M){if(b['length']<0x1)continue;v['length']>0x0&&(v+='\x20'),v+=b,p['push']([N+G[b][0x0],S+G[b][0x1]]);}v['length']==0x0?!['NoWater','Static']['includes'](z[N+0x1][S])||!['NoWater','Static']['includes'](z[N-0x1][S])||!['NoWater','Static']['includes'](z[N][S-0x1])||!['NoWater','Static']['includes'](z[N][S+0x1])?z[N][S]='Left':z[N][S]='Static':(z[N][S]=v,p['forEach'](E=>{l(...E);}));}}}return g?[z,e,F]:z;},'createWaterFlowDirection'(g=[]){let w=[],I={'Right':[0x0,0x1],'Left':[0x0,-0x1],'Down':[0x1,0x0],'Up':[-0x1,0x0]},Q=oGd['$GdType'],k=oGd['$WaterFlowDirection'];if(g&&g['length']===0x0)for(let G=0x1;G<=oS['R'];G++){oGd['$GdType'][G][oS['C']]===0x2&&w['push']([G,oS['C']]);}else g&&(w=w['concat'](g));function f(z,e,X){let F=![],H=[];X['add'](z+'_'+e);if(Q[z][e-0x1]!==0x2&&Q[z-0x1][e]!==0x2&&Q[z+0x1][e]!==0x2)return k[z][e]='Left',!![];for(let W in I){let[t,U]=I[W],[u,O]=[z+t,e+U];Math['inRange'](u,0x1,oS['R'])&&Math['inRange'](O,0x1,oS['C'])&&Q[u][O]===0x2&&!X['has'](u+'_'+O)&&f(u,O,X)&&(F=!![],!k[z][e]['includes'](W)&&H['push'](W));}return F&&H['length']>0x0&&(k[z][e]!=='Static'&&k[z][e]['length']>0x0?k[z][e]+='\x20':k[z][e]='',k[z][e]+=H['join']('\x20')),F;}for(let[z,e]of w){let X=new Set();f(z,e,X);}},async'wateranim'(g,i,w=-0x14,I=0x1){oSym['addTask'](((i-0x1)*0x32*Math['random']()+(g-0x1)*Math['random']()*0x14+Math['random']()*0x64)*oSym['NowSpeed'],()=>{let Q=NewImg('water_'+g+'_'+i,null,'left:'+(i*0x50+0x32)+'px;top:'+(g*0x64+w)+'px;z-index:1;pointer-events:none;opacity:0;transform:scale('+I+')',EDPZ);Q['src']=oDynamicPic['require']('images/Props/WaterPath/water.webp',Q),oEffects['Animate'](Q,{'opacity':0x1},0.3);});},async'render'(){let g=this,i=NewEle('','canvas','display:none;left:115px;',{'width':0x384,'height':0x258},null),I=NewEle('tGround_MaskImage','canvas','left:115px;',{'width':0x384,'height':0x258},FightingScene),Q=i['getContext']('2d'),k=I['getContext']('2d'),f=new Image(),G=new Image();f['src']='images/Props/WaterPath/edgeMask.webp',G['src']=oS['DKind']?'images/Props/WaterPath/fullWater.webp':'images/Props/WaterPath/fullWaterNight.webp',await oLoadRes['loadElement']([f,G]),k['drawImage'](G,0x0,0x0,0x384,0x258);for(let[W,t]of g['points']){var z,e,F,H;let[U,u]=[GetX(t)+oS['EDAllScrollLeft'],GetY(W)],[O,D]=[(GetX(oS['C'])-GetX(0x1))/(oS['C']-0x1)/0x2,GetY(W)-GetY(W-0x1)],V=oGd['$WaterFlowDirection'],Z=V[W][t],[J,d,L,l]=[!![],!![],!![],!![]],[N,S,a,P]=[![],![],![],![]];L=((z=V[W-0x1])===null||z===void 0x0?void 0x0:z[t])=='NoWater'||W<=0x1,l=((e=V[W+0x1])===null||e===void 0x0?void 0x0:e[t])=='NoWater'||W>=0x5,J=((F=V[W])===null||F===void 0x0?void 0x0:F[t-0x1])=='NoWater',d=((H=V[W])===null||H===void 0x0?void 0x0:H[t+0x1])=='NoWater',P=!L&&!J,S=!L&&!d,a=!l&&!J,N=!l&&!d,Q['globalCompositeOperation']='source-over',Q['fillRect'](U-O,u-D,O*0x2,D),Q['globalCompositeOperation']='destination-out',L&&Q['drawImage'](f,0x0,0x0,0x51,0x5a,U-O,u-D-0x8,O*0x2,D),l&&Q['drawImage'](f,0x51,0x0,0x51,0x5a,U-O,u-D+0xa,O*0x2,D),J&&Q['drawImage'](f,0xa2,0x0,0x51,0x5a,U-O-0x9,u-D,O*0x2,D),d&&Q['drawImage'](f,0xf3,0x0,0x51,0x5a,U-O+0x9,u-D,O*0x2,D),P&&Q['drawImage'](f,0x144,0x0,0x18,0x18,U-O-0x8,u-D-0x8,0x18,0x18),S&&Q['drawImage'](f,0x195-0x18,0x0,0x18,0x18,U+O-0x18+0x8,u-D-0x8,0x18,0x18),a&&Q['drawImage'](f,0x144,0x5a-0x18,0x18,0x18,U-O-0x8,u-0x18+0x8,0x18,0x18),N&&Q['drawImage'](f,0x195-0x18,0x5a-0x18,0x18,0x18,U+O-0x18+0x8,u-0x18+0x8,0x18,0x18);if(Z!=='NoWater')g['wateranim'](W,t);if(Z['includes']('Left'))NewImg('wave_'+W+'_'+t,'images/Props/WaterPath/wave.webp','left:'+(t*0x50+0x3c)+'px;top:'+(W*0x64-0x19)+'px;transform:scale(0.7);z-index:1;pointer-events:none',EDPZ);if(Z['includes']('Right'))NewImg('wave_'+W+'_'+t,'images/Props/WaterPath/wave.webp','left:'+(t*0x50+0x3c)+'px;top:'+(W*0x64-0x19)+'px;transform:scale(0.7)\x20rotate(180deg);z-index:1;pointer-events:none',EDPZ);if(Z['includes']('Up'))NewImg('wave_'+W+'_'+t,'images/Props/WaterPath/wave.webp','left:'+(t*0x50+0x3c)+'px;top:'+(W*0x64-0x19)+'px;transform:scale(0.7)\x20rotate(90deg);z-index:1;pointer-events:none',EDPZ);if(Z['includes']('Down'))NewImg('wave_'+W+'_'+t,'images/Props/WaterPath/wave.webp','left:'+(t*0x50+0x3c)+'px;top:'+(W*0x64-0x19)+'px;transform:scale(0.7)\x20rotate(270deg);z-index:1;pointer-events:none',EDPZ);}k['globalCompositeOperation']='destination-in',k['drawImage'](i,0x0,0x0,0x384,0x258);},async'update'(){for(let g=0x1;g<=($User['LowPerformanceMode']?0x6:0xf);g++){await oSym['Sleep']($User['LowPerformanceMode']?0x14:0xa);let c=$('tGround_MaskImage');if(!c)return;let w=c['getContext']('2d');w['globalCompositeOperation']=g==($User['LowPerformanceMode']?0x6:0xf)?'source-in':'source-atop',w['globalAlpha']=g==($User['LowPerformanceMode']?0x6:0xf)?0x1:$User['LowPerformanceMode']?0.5:0.2;let I=new Image();I['src']=oS['DKind']?'images/Props/WaterPath/fullWater.webp':'images/Props/WaterPath/fullWaterNight.webp',await oLoadRes['loadElement']([I]),w['drawImage'](I,0x0,0x0,0x384,0x258);}}},changeDKind=async()=>{let{background_day:background_day='images/interface/Mirage.webp',background_night:background_night='images/interface/Mirage_Night.webp',background_sky:background_sky='images/interface/Mirage_Sky.webp'}=oS['changeDKindConfig'],g=oS['DKind'],i=$('tGround'),c=$('tGround_Image'),w=$('tGround_Sky'),I='cubic-bezier(0.4,\x200.0,\x201,\x201)',Q;w['style']['background']='url('+background_sky+')',oS['DKind']^=0x1;if(g===0x1){Q=NewEle('tGround_Image_New','div','opacity:0;background:url('+background_night+');',{'className':'standardGround'},i);!$User['LowPerformanceMode']?(oEffects['Animate'](c,{'filter':'sepia(0.4)\x20saturate(1.8)\x20brightness(0.9)'},1.4/oSym['NowSpeed'],I),await oEffects['animatePromise'](w,{'filter':'opacity(1)'},{'duration':1.4/oSym['NowSpeed'],'easing':I}),oEffects['Animate'](w,{'filter':'opacity(0)'},1.547/oSym['NowSpeed'],I,null,0.8/oSym['NowSpeed'])):await oSym['Sleep'](3.6/oSym['NowSpeed']);oWaterPath['update']();for(let f of $P){if(typeof(f===null||f===void 0x0?void 0x0:f['DayNightSwitch'])!=='undefined')f['DayNightSwitch']();}for(let G=0x1;G<=oS['R'];G++){oIceRoad['renderSingleR'](G);}await oEffects['animatePromise'](Q,{'opacity':'1','filter':'none'},{'duration':2.347/oSym['NowSpeed'],'easing':I});let k=$('sFlagMeterTitleF');k['innerHTML']=k['innerHTML']['replace'](new RegExp($__language_Array__['650e4e62cd251c1e563537ae4c3a1f38'],'g'),$__language_Array__['551317da147ea002b0ad1a04ec795c8e']);}else{Q=NewEle('tGround_Image_New','div','opacity:0;background:url('+background_day+');',{'className':'standardGround'},i);!$User['LowPerformanceMode']&&(Q['style']['filter']='sepia(0.4)\x20saturate(1.8)\x20brightness(0.9)',oEffects['Animate'](c,{'filter':'sepia(0.4)\x20saturate(1.8)\x20brightness(0.9)'},0x2/oSym['NowSpeed'],I));oEffects['Animate'](Q,{'opacity':'1','filter':'none'},2.147/oSym['NowSpeed'],I,null,1.443/oSym['NowSpeed']);!$User['LowPerformanceMode']?await oEffects['animatePromise'](w,{'filter':'opacity(1)'},{'duration':0x2/oSym['NowSpeed'],'easing':I}):await oEffects['animatePromise'](w,{'filter':'opacity(0)'},{'duration':3.6/oSym['NowSpeed'],'easing':I});for(let e of $P){if(typeof(e===null||e===void 0x0?void 0x0:e['DayNightSwitch'])!=='undefined')e['DayNightSwitch']();}for(let X=0x1;X<=oS['R'];X++){oIceRoad['renderSingleR'](X);}oWaterPath['update'](),await oEffects['animatePromise'](w,{'filter':'opacity(0)'},{'duration':1.6/oSym['NowSpeed'],'easing':I});let z=$('sFlagMeterTitleF');z['innerHTML']=z['innerHTML']['replace'](new RegExp($__language_Array__['551317da147ea002b0ad1a04ec795c8e'],'g'),$__language_Array__['650e4e62cd251c1e563537ae4c3a1f38']);}i['insertBefore'](Q,c),ClearChild(c),Q['id']='tGround_Image';},oTombstone={'tombCroods':null,'tombConfigs':[{'type':'tomb',get'style'(){return'background-position:'+[-0x7b,-0xf6,-0x1ec]['random']()+'px\x200';},'reward':null},{'type':'tomb_plant','style':'background-position:-738px\x200;','reward'(g,i){ThrowACard(this['__RewardPlants__']['random'](),[GetX(i)-0x32,GetY(g)-0x64],![],{'delta':0x1e,'vy':-0x4});}},{'type':'tomb_plant_buff','style':'background-position:-861px\x200;','reward'(g,i){let c=[]['concat'](AllPopularPlantsArr);if($('dSunNum')['style']['visibility']=='hidden')c['splice'](0x1,0x1);ThrowACard(c['random'](),[GetX(i)-0x32,GetY(g)-0x64],![],{'delta':0x1e,'vy':-0x4});}},{'type':'tomb_sun','style':'background-position:-369px\x200;','reward'(g,c){for(let w=-0x1;w<=0x1;w+=0x2){AppearSun(GetX(c)+0x2d,GetY(g)-0x32,0x32,![],0x32-Math['random']()*0xa);}}},{'type':'tomb_sun_buff','style':'background-position:0\x200;','reward'(g,c){for(let w=-0x1;w<=0x1;w++){AppearSun(GetX(c)+0x2d,GetY(g)-0x32,0x32,![],0x32-Math['random']()*0xa);}}},{'type':'tomb_tool','style':'background-position:-615px\x200;','reward'(g,i){let c=[]['concat'](AllToolsArr);if($('dSunNum')['style']['visibility']=='hidden')c['splice'](0x0,0x1);ThrowACard(c['random'](),[GetX(i)-0x32,GetY(g)-0x64],![],{'delta':0x1e,'vy':-0x4});}},{'type':'tomb_necro','style':'background-position:-984px\x200;','reward':null}],'tombMap':null,'Init'(){var g,c;if(typeof AllPlantsArr==='undefined'||oS['PName']['length']===0x0)return;isNullish(oS['TombConfig'])&&(oS['TombConfig']={},oS['TombConfig']['rewardPlantsSize']=0x1);this['tombCroods']=new Set();let{rewardPlantsPool:w,rewardPlantsSize:I}=oS['TombConfig'],Q=[],k=0x0,f=0x0;((g=w)===null||g===void 0x0?void 0x0:g['length'])>0x0?k++:f=AllPopularPlantsArr['length'];w=(c=w)!==null&&c!==void 0x0?c:AllPlantsArr;if(!I||I<0x1)I=w['length']-f;for(let G=0x0;G<Math['min'](I,w['length']-f);G++){let z=w['random']();AllPopularPlantsArr['includes'](z)&&!k||Q['includes'](z)?G--:Q['push'](z);}oS['LoadingPName']['push'](...Q,...AllPopularPlantsArr,...AllToolsArr),this['__RewardPlants__']=Q;if(isNullish(this['tombMap'])){let e=this['tombMap']=new Map();this['tombConfigs']['forEach'](X=>{e['set'](X['type'],X);});}},'getPlaces'(g=undefined){var i,w,I,Q;let k=[],f=[];if((i=g)!==null&&i!==void 0x0&&i['AvailableR']||(w=g)!==null&&w!==void 0x0&&w['AvailableC']){var G,z,e,X;k=(G=(z=g)===null||z===void 0x0?void 0x0:z['AvailableR'])!==null&&G!==void 0x0?G:Array['getRangedArray'](0x1,oS['R']),f=(e=(X=g)===null||X===void 0x0?void 0x0:X['AvailableC'])!==null&&e!==void 0x0?e:Array['getRangedArray'](0x1,oS['C']),g=[];}if(g===undefined||(I=g)!==null&&I!==void 0x0&&I['RangeR']||(Q=g)!==null&&Q!==void 0x0&&Q['RangeC']){var F,H,W,t;let U=[0x1,oS['R']],u=[0x1,oS['C']];U=(F=(H=g)===null||H===void 0x0?void 0x0:H['RangeR'])!==null&&F!==void 0x0?F:U,u=(W=(t=g)===null||t===void 0x0?void 0x0:t['RangeC'])!==null&&W!==void 0x0?W:u,k=Array['getRangedArray'](...U),f=Array['getRangedArray'](...u),g=[];}if(g['length']===0x0)for(let O=k['length']-0x1;O>=0x0;--O){for(let D=f['length']-0x1;D>=0x0;--D){g['push']([k[O],f[D]]);}}return g;},'appear'(g,c=undefined,w=[]){if(oS['DKind']){console['warn']('[PVZTR]\x20Tombstones\x20cannot\x20exist\x20during\x20the\x20day!');return;}const I=oTombstone;if(w['length']>0x0)for(let k=w['length']-0x1;k>=0x0;--k){w[k]=I['tombMap']['get'](w[k]);}else w=I['tombConfigs'],w['splice'](0x6,0x1);c=I['getPlaces'](c);let Q=c['length'];while(g>0x0&&Q-->0x0){let f=Math['floor'](c['length']*Math['random']()),[G,z]=c[f];c['splice'](f,0x1);let e=w['random']();I['appearSingle'](G,z,e)&&g--;}},'appearSingle'(g,c,w){let I=oTombstone;if(oS['DKind']){console['warn']('[PVZTR]\x20Tombstones\x20cannot\x20exist\x20during\x20the\x20day!');typeof w==='string'&&(w=I['tombMap']['get'](w));w['type']=='tomb_necro'&&PlaceZombie(oNecromancerZombie,g,c,0x1);return;}let Q=g+'_'+c,k=![];for(let t=0x0;t<=PKindUpperLimit&&!k;t++){var f,G,z,e;let U=(f=oGd['$'])===null||f===void 0x0?void 0x0:(G=f[g+'_'+c+'_'+t])===null||G===void 0x0?void 0x0:G['isPlant'];(U===![]||U===0x0||((z=oGd['$'])===null||z===void 0x0?void 0x0:(e=z[g+'_'+c+'_'+t])===null||e===void 0x0?void 0x0:e['EName'])==='oPricklyRose')&&(k=!![]);}if(oGd['isLocked'](g,c)||oGd['$GdType'][g][c]===0x2||k)return![];typeof w==='string'&&(w=I['tombMap']['get'](w));for(let u=0x0;u<=PKindUpperLimit;u++){if(u==0x3)continue;let O=oGd['$'][g+'_'+c+'_'+u];O&&(O['isPlant']?O['Bouncerandom']():O['Die']('JNG_TICKET_Tombstone'));}oGd['killAll'](g,c,'JNG_TICKET_Tombstone'),oGd['$Tombstones'][Q]=w,oGd['$LockingGrid'][Q]=!![],I['tombCroods']['add'](Q);let{type:X,style:F}=w,H=0x66,W=0x86,r=NewEle('Tomb_'+Q,'div','left:'+(GetX(c)-H/0x2-0x8)+'px;top:'+(GetY(g)-0x19)+'px;z-index:'+GetMidY(g)+';clip:rect(0,auto,0,0);'+F,{'className':'Tombstone'},oZombieLayerManager['$Containers'][g]);return oAudioManager['playAudio']('gravestone_rumble'),r['dataset']['jngTombType']=X,oEffects['Animate'](r,{'top':GetY(g)-W+0xc+'px','clip':'rect(0,auto,'+W+'px,0)'},'slow','ease-out',D=>{D['style']['clip']='rect(0,auto,auto,0)';}),oEffects['ImgSpriter']({'ele':NewEle('Dirt_'+Math['random'](),'div','position:absolute;background:url(images/Zombies/dirt.png)\x20no-repeat;z-index:'+(0x3*g+0x2)+';left:'+(0x2f3-(0x9-c)*0x50)+'px;top:'+(0x64*(g-0x1)+0x28)+'px;height:162px;width:126px;',0x0,EDPZ),'styleProperty':'X','changeValue':-0x7e,'frameNum':0x16,'callback':D=>oEffects['fadeOut'](D,'slow',ClearChild)}),w['type']=='tomb_necro'&&function D(){if(!$('Tomb_'+Q)||oGd['$'][g+'_'+c+'_1'])return;let V;if(oS['isStartGame'])V=NewImg('soulfire_'+g+'_'+c,'images/Zombies/soulfire.webp','left:-20px;top:-10px;pointer-events:none',r);oSym['addTask'](0x258,()=>{if(!$('Tomb_'+Q)||oGd['$'][g+'_'+c+'_1'])return;V&&oEffects['Animate'](V,{'opacity':0x0},0.3/oSym['NowSpeed'],null,ClearChild);if(oP['FlagZombies']==oP['FlagNum']){let Z=0x0;for(let J of $Z)if(J['isCounted']&&!J['necro'])Z++;if(!Z)return;}if(oS['isStartGame'])I['placeZombies']([oZombie,oConeheadZombie,oPeashooterZombie,oNewspaperZombie,oSadakoZombie,oSkatingZombie,oStrollZombie],[[g,c]],0x1);oSym['addTask'](0x44c,D);});}(),!![];},'disappear'(){const g=oTombstone;if(!oGd['$Tombstones'])return;for(let i of g['tombCroods']){g['disappearSingle'](i);}},'disappearSingle'(g,i,c=!![]){let w=oTombstone,I=g;if(oGd['isValidCrood'](g)){let f=I['match'](/(?<R>\d+)_(?<C>\d+)/)['groups'];g=f['R'],i=f['C'];}else I=g+'_'+i;let Q=$('Tomb_'+I);if(oGd['$Tombstones'][I]['type']=='tomb_necro'&&oS['DKind']&&!oGd['$'][I+'_1']){oAudioManager['playAudio']('necrotransform');let G=NewImg('transform_'+Math['random'](),'images/Zombies/NecromancerZombie/switchform.webp','left:'+(i*0x50-0x1e)+'px;top:'+(g*0x64-0x7d)+'px;z-index:'+(0x3*g+0x2)+';opacity:0;',EDPZ);oEffects['Animate'](G,{'opacity':0x1},0.3*oSym['NowSpeed']);let e=PlaceZombie(oNecromancerZombie,+g,+i,0x1);oSym['addTask'](0x32,X=>{oEffects['Animate'](G,{'opacity':0x0},0.3*oSym['NowSpeed'],null,ClearChild);});}let k=()=>{delete oGd['$Tombstones'][I],w['tombCroods']['delete'](I),oGd['unlockGrid'](g,i),ClearChild(Q);};c?(oEffects['Animate'](Q,{'opacity':0x0},0x1/oSym['NowSpeed'],'ease-in'),oSym['addTask'](0x64,k)):k();},'destroy'(g,i){let c=oTombstone,w=g+'_'+i,{reward:I}=oGd['$Tombstones'][w];I&&I['call'](c,g,i),delete oGd['$Tombstones'][w],oGd['unlockGrid'](g,i),c['tombCroods']['delete'](w),ClearChild($('Tomb_'+w));},'placeZombies'(g=oS['ZName'],c=undefined,w=0x0){const I=oTombstone,Q=TypeOf(g)==='Array';c=I['getPlaces'](c);let k={};for(let f=c['length']-0x1;f>=0x0;--f){k[c[f][0x0]+'_'+c[f][0x1]]=!![];}if(Q)for(let G=g['length']-0x1;G>=0x0;--G){(!g[G]['prototype']['CanAppearFromTomb']||g[G]['prototype']['isPuppet'])&&g['splice'](G,0x1);}if(!Q||g['length']>0x0)for(let z of I['tombCroods']){if(!k[z])continue;let e,{R:X,C:F}=z['match'](/(?<R>\d+)_(?<C>\d+)/)['groups'];e=Q?g['random']():g,PlaceZombie(e,+X,+F)['necro']=w;}}};var ThrowACard=function(g,i=[0x12c,0x12c],c,w={}){oAudioManager['playAudio']('throw1');!i instanceof Array&&(i=[i['x'],i['y']]);i[0x0]=Math['min'](i[0x0],oS['W']-0x82);let{vy:vy=-0x6,ay:ay=0.4,vx:vx=0x2*(Math['random']()-0.5),countdown:countdown=0x3e8,delta:delta=0x28}=w;delta=Math['round'](delta/0x2*(0x2*Math['random']()));const I=g,Q=I['prototype'];if(!Q['PicArr'][Q['CardGif']])return;const k='BonusCard'+Math['random'](),f=0x3c,G='width:100px;height:'+f*0x2+'px;cursor:pointer;clip:rect(auto,auto,60px,auto);z-index:253;',z='top:'+i[0x1]+'px;left:'+(i[0x0]+oS['FightingSceneLeft'])+'px;transform:scale(0);'+G,e=NewEle(k,'div',z+G+'position:\x20absolute;\x20background-size:100%;',0x0,EDAll),X=NewEle(k+'img','div','width:100px;height:'+f*0x2+'px;background-image:url('+Q['PicArr'][Q['CardGif']]+');background-size:100px\x20120px;',{'onmousedown':u=>{U(u,F);},'ontouchstart':u=>{U(u,F);}},e);let F={'DID':k,'PName':I,'hasAnim':![],'Ele':e,'Eleimg':X},H=i[0x0]+oS['FightingSceneLeft'],W=i[0x1],r=Math['min'](i[0x1]+delta,oS['H']-f);const t=e['style'];oEffects['Animate'](e,{'transform':'scale(1)'},0.1/oSym['NowSpeed'],'linear'),function u(){(function(){if(W<=r){vy+=ay,t['setProperty']('left',(H+=vx)+'px'),t['setProperty']('top',(W+=vy)+'px');return;}if(F['hasOwnProperty']('countdown')){var O,D;((O=oS)===null||O===void 0x0?void 0x0:(D=O['ChoseCardObj'])===null||D===void 0x0?void 0x0:D['DID'])!==F['DID']&&(F['countdown']-=0x3,F['countdown']<=0x12c&&!F['hasAnim']&&(oEffects['Animate'](e,'CardBlink','slow',null,null,null,'infinite'),F['hasAnim']=!![]),F['countdown']<=0x0&&(e['onmousedown']=null,oEffects['Animate'](e,{'transform':'scale(0)'},0.1,'linear',ClearChild)));}else F['countdown']=countdown;}()),(!F['countdown']||F['countdown']>=0x0)&&oSym['addTask'](0x3,u);}();function U(O,D){oS['Chose']===-0x1&&CancelShovel();if(oS['Chose']===0x1&&!oS['ChoseCardObj']){CancelPlant();return;}if(oS['ChoseCardObj'])return;O['stopPropagation']();if(O['cancelable'])O['preventDefault']();ClearChild($('MovePlant')),oAudioManager['playAudio']('seedlift');let V=oS['ChoseCardObj']=D,Z=O['clientX']-EDAlloffsetLeft||H,J=O['clientY']||W,d=V['PName']['prototype'];oS['Chose']=0x1,V['hasAnim']=![],V['Ele']['style']['cssText']+='animation-fill-mode:forwards;animation-iteration-count:0;';let L=NewImg('MovePlant',d['PicArr'][d['StaticGif']],'left:'+Z+'px;top:'+(J+0x14-d['height'])+'px;z-index:258;',EDAll);SetStyle(L,oS['ChoseCardObj']['PName']['prototype']['ImgStyle']),EditImg(L['cloneNode'](![]),'MovePlantAlpha','',{'visibility':'hidden','opacity':0.4,'z-index':0x1e},FightingScene),EditCompositeStyle({'ele':L,'addFuncs':[['translateX',oS['EDAllScrollLeft']-d['width']/0x2+'px']],'option':0x2}),V['Ele']['style']['backgroundImage']='url(images/Card/CardSelected.webp)',SetAlpha(V['Eleimg'],0.4),V['Appeared']=!![],SetHidden($('dTitle')),GroundOnmousemove=function(S){let a=oS['ChoseCardObj']['PName'],P=S['clientX']-EDAlloffsetLeft,v=S['clientY'];if(IsMobile&&S['targetTouches']){let A=S['targetTouches'][0x0];[P,v]=[A['clientX']-0x3c,A['clientY']];}let[[M,p],[n,s]]=[ChosePlantX(P),ChosePlantY(v)],[K]=GetAP(P,v,s,p),b=a['prototype'],E=$('MovePlantAlpha');SetStyle($('MovePlant'),{'left':P+'px','top':v+0x14-b['height']+'px'}),b['CanGrow'](K,s,p)?(SetStyle(E,{'visibility':'visible','left':M+0x73+b['GetDX'](b)+'px','top':n-b['height']+b['GetDY'](s,p,K)+'px'}),PosHighlight(s,p)):(SetHidden(E),ClearChild($('HighlightLane'),$('HighlightColumn')));};let l=GrowPlant,h=CancelPlant,Y=ViewPlantTitle;GrowPlant=function(S,a,P,v,M){let n=oS['ChoseCardObj'],s=n['PName'],K=s['prototype'],b=n['DID'];if(K['CanGrow'](S,v,M)){oAudioManager['playAudio'](oGd['$GdType'][v][M]===0x2?'plant_water':'plant'+Math['floor'](0x1+Math['random']()*0x2));let E=new s()['Birth'](a,P,v,M,S);c&&c(E);const A=$('imgGrowSoil');A['src']=GrowSoilImg,SetStyle(A,{'left':a+0x55+'px','top':P-0x2d+'px','z-index':0x3*v+0x1,'visibility':'visible'}),oSym['addTask'](0x64,SetHidden,[A]),delete oS['ChoseCardObj'],oS['Chose']=0x0,GroundOnmousemove=()=>{},ClearChild($('MovePlant'),$('MovePlantAlpha'),n['Ele']),n['countdown']&&(n['countdown']=-0x1),CancelPlant(),N();}else(IsMobile||v<0x1||M<0x1||M>0x9)&&(CancelPlant(),N());},CancelPlant=function(){let S=oS['ChoseCardObj'];oS['Chose']=0x0,delete oS['ChoseCardObj'],ClearChild($('MovePlant'),$('MovePlantAlpha'),$('HighlightLane'),$('HighlightColumn')),S&&(SetAlpha(S['Eleimg'],0x64,0x1),S['Ele']['style']['backgroundImage']=''),GroundOnmousemove=()=>{},N();},ViewPlantTitle=function(){};function N(){[GrowPlant,CancelPlant,ViewPlantTitle]=[l,h,Y];}}return F;},toWin=()=>{if(oS['isStartGame']===0x2)return;AutoClickSun(),AutoClickCoins(),oS['isStartGame']=0x2,NewEle('DivA','div','position:absolute;width:'+oS['W']+'px;height:600px;background:#FFF;opacity:0;z-index:257;left:'+oS['EDAllScrollLeft']+'px;pointer-events:'+(IsDevEnvi?'none':'auto'),0x0,EDAll),dispatchEvent(EVENT_ENDGAME);let g=null;[oS['LoadMusic'],oS['StartGameMusic']]['forEach'](c=>{g=oAudioManager['getDom'](c);if(g)return;}),g?oEffects['AudioFadeOut'](g,0x0,0.8/oSym['NowSpeed'],()=>{PauseGame(),oP['FlagToEnd'](),oAudioManager['refreshTicket']();}):(PauseGame(),oP['FlagToEnd'](),oAudioManager['refreshTicket']());},toOver=function(g){dispatchEvent(EVENT_ENDGAME),oAudioManager['allResPaused'](),oAudioManager['playAudio']('scream'),oAudioManager['pauseMusic'](),SetNone($('dCardList'),$('dTop')),SetBlock($('shade'));let i=c=>{oS['DynamicDifficulty']&&oP['operateDynamicDifficulty'](-0x1),CSpeed(0x1),SetNone($('shade')),$('shade')['style']['opacity']=0x0;};oEffects['fadeTo']($('shade'),0.375,0.1),oEffects['Animate'](NewEle('GameOver','div','background-position:0\x20-'+(g-0x1)*0x1b7+'px;',null,EDAll),{'transform':'scale(1)'},0.3,'cubic-bezier(.4,0,.2,1)'),oEffects['Animate'](NewEle(Math['random'](),'div','position:absolute;width:112px;height:46px;left:428px;top:646px;z-index:310;',{'className':'jngButton\x20voidButton\x20oneLineVoidButton','innerText':$__language_Array__['cb0606394a07800fcae8c2ff27751b9a'],'onclick'(){i();if(oS['Lvl']==='FanmadeWorld_Challenge')SelectModal('FanmadeTools/Fuben_FanmadeWorld.js');else/Fanmade/['test'](oS['Lvl'])?oS['OriginLvl']?SelectModal(oS['OriginLvl']):SelectModal('index','Service'):SelectModal(oS['Lvl']);}},EDAll),{'top':'520px'},0.225,'cubic-bezier(0.4,\x200.0,\x200.6,\x201)',null,0.1),oEffects['Animate'](NewEle(Math['random'](),'div','position:absolute;left:576px;top:646px;z-index:310;',{'className':'jngButton\x20voidButton\x20oneLineVoidButton','innerText':$__language_Array__['6e728824a27399b6bc583c5a41e20134'],'onclick'(){i(),Exitlevel();}},EDAll),{'top':'520px'},0.2,'cubic-bezier(0.4,\x200.0,\x200.6,\x201)',null,0.15),oSym['Stop']();},sunManager=(function(){let g=0x0;Object['defineProperty'](oS,'SunNum',{'configurable':![],'get'(){return g;},'set'(i){if(typeof i==='number'){i=Math['Clamp'](i,0x0,0x26ac);if(i===g)return;if($User['LowPerformanceMode']||i<g)g=i,ESSunNum['innerText']=g;else{g=i;let c=i,w=Number(ESSunNum['innerText']),I=-0x1;(function Q(k=0x0){if(c!==g||I===g||ESSunNum['style']['visibility']==='hidden')return;ESSunNum['innerText']=I=Math['round'](Math['Lerp'](w,c,Math['sin'](k/0x7*0x5a*Math['DegToRad']))),oSym['addTask'](0x3,Q,[k+0x1]);}());}$P['length']&&MonitorCard();}else i===null&&(g=null);}});}()),local_Settings=(function(){let g=$User['LowPerformanceMode'],i=$User['Async_GIFS_Animate'];Object['defineProperty']($User,'LowPerformanceMode',{'get':c=>g,'set':c=>{return typeof c=='string'?g=c=='true'||c=='1':g=c,localStorage['JNG_PVZTR_LOW_PERFORMANCE_MODE']=g,g;}}),Object['defineProperty']($User,'Async_GIFS_Animate',{'get':c=>i,'set':c=>{return typeof c=='string'?i=c=='true'||c=='1':i=c,localStorage['JNG_PVZTR_ASYNC_GIFS_ANIMATE']=i,i;}});if(localStorage['JNG_PVZTR_LOW_PERFORMANCE_MODE'])$User['LowPerformanceMode']=localStorage['JNG_PVZTR_LOW_PERFORMANCE_MODE'];else{if(IsMobile)$User['LowPerformanceMode']=!![];else try{$User['LowPerformanceMode']=UserPerformance['CPU']+UserPerformance['MEM']<0x8;}catch(c){console['log']('Unable\x20To\x20Get\x20System\x20Performance');}}localStorage['JNG_PVZTR_ASYNC_GIFS_ANIMATE']&&($User['Async_GIFS_Animate']=localStorage['JNG_PVZTR_ASYNC_GIFS_ANIMATE']);}()),oCoinContent={'Init'(){let g=Number['parseInt'](localStorage['JNG_TR_Coins']);this['__ele__']=$('dCoinContent'),this['update'](isNaN(g)?0x0:g),this['canHide']=!![],Object['defineProperty']($User,'Coins',{'get':i=>this['__value__'],'set':i=>{this['update'](i),this['canHide']&&this['hideWithDelay']();}});},'update'(g){this['__value__']=localStorage['JNG_TR_Coins']=g,this['__updateTicket__']=Math['random']()+'',$('dnumberMoneyOfUser')['innerText']=g['toLocaleString']();},'show'(){const g=this['__ele__'];return GetStyle(g,'opacity')!=='1'&&(oEffects['StopAllAnims'](g,!![]),oEffects['Animate'](g,{'opacity':0x1},0.2)),this;},'hide'(){return oEffects['Animate'](this['__ele__'],{'opacity':0x0},0.3,'linear'),this;},'hideWithDelay'(){let g=this['__updateTicket__'];return oSym['addTask'](0xc8,i=>this['__updateTicket__']===g&&this['hide']()),this;}},oCoin=NewO({'throwIt'(g={'x':0x12c,'y':0x12c}){oAudioManager['playAudio']('coin_fall');const i=this['ele'];return i['style']['left']=g['x']+oS['EDAllScrollLeft']+'px',i['style']['top']=g['y']+'px',ThrowADom(this['ele'],{'downline':0x23+0x5*Math['random']()}),oSym['addTask'](0x3e8,c=>{this['canDisappear']&&(i['style']['pointer-events']='none',oEffects['fadeOut'](i,0.5,ClearChild));}),this;},'collect'(){oAudioManager['playAudio']('collect_coin');const g=this['ele'];return g['style']['pointer-events']='none',this['canDisappear']=![],oCoinContent['show'](),oEffects['Animate'](g,{'left':'695px','top':'-20px'},0.4,'ease-out',i=>{$User['Coins']+=this['value'],setTimeout(c=>oEffects['fadeOut'](g,0.2,ClearChild),0x1),delete this['ele'],delete oGd['$Coins'][this['id']];}),this;}},function(g='silver',i){this['canDisappear']=!![],this['id']='Coin_'+Math['random'](),this['type']=g,this['value']=i||$SEql(g,{'silver':0xa,'gold':0x64,'diamond':0x3e8,'default':0xa});let c=NewImg(this['id'],null,'width:72px;height:72px;z-index:32;',EDAll,{'width':0x48,'height':0x48,'className':'coins_collect'});c['src']=oDynamicPic['require']('images/Props/Coins/'+g+'.webp',c),c['addEventListener'](IsMobile?'touchstart':'mouseover',this['collect']['bind'](this),{'once':!![]}),this['ele']=c,oGd['$Coins'][this['id']]=this;}),oPropSym={get'staticInforms'(){return{'cherry_bomb':{'cname':$__language_Array__['149b85ed9d52fcf8ec21ffd84c614802'],'img':'images/Props/PropsIcon/cherry_bomb.webp','shopImg':'images/Plants/CherryBomb/0.webp','object':oCherryBomb,'price':0x12c,'css':'bottom:100px','coolTime':0x5,'description':$__language_Array__['73c32037ce49df0d9e45190c88c3aa06']},'light':{'cname':$__language_Array__['cbd77d42257eaf96c224910d4b348522'],'img':'images/Props/PropsIcon/light.webp','shopImg':'images/Props/Light/p.gif','object':oLight,'price':0x96,'coolTime':0x1e,'description':$__language_Array__['1d24c439176cbf39bc7a19f98e759c91']},'LSP':{'cname':$__language_Array__['5d98914c8c3b5513593f8c7abbde8c1d'],'img':'images/Props/PropsIcon/protect.webp','shopImg':'images/Props/LSP/LSP.gif','object':oLSP,'css':'bottom:100px','price':0xc8,'coolTime':0x12,'description':$__language_Array__['0450190c5ac61f664f1fe565b026257b']},'bat_staff':{'cname':$__language_Array__['a1645fefdec3c145472ecdbb7ee964da'],'img':'images/Props/PropsIcon/bat_staff.webp','shopImg':'images/Props/BatStaff/BatStaff.webp','object':oBatStaff,'price':0xaf,'coolTime':0x2d,'description':$__language_Array__['6644553d6659cfa5e4520bf83a841dcb']}};},'Init'(){return this['readData'](),this;},'readData'(){var g;let c=this['staticInforms'];this['data']=JSON['parse']((g=localStorage['JNG_TR_PurchasedProps'])!==null&&g!==void 0x0?g:'{}');let w=[];for(let I in this['data']){(isNaN(Number(this['data'][I]))||Number(this['data'][I])<0x1||!c[I])&&w['push'](I);}for(let Q of w){delete this['data'][Q];}this['saveStorage']();},'addProp'(g,i=0x1){return this['readData'](),this['data'][g]===void 0x0?this['data'][g]=i:this['data'][g]+=i,this['saveStorage'](),this;},'ChosePlant'(g,i,c,w=()=>{}){i={'PName':i};let I=![];oS['Chose']===-0x1&&CancelShovel();if(oS['Chose']===0x1&&!oS['ChoseCardObj']){CancelPlant();return;}if(oS['ChoseCardObj'])return;g['stopPropagation'](),g['preventDefault'](),ClearChild($('MovePlant')),oAudioManager['playAudio']('seedlift');let Q=oS['ChoseCardObj']=i,k=g['clientX']-EDAlloffsetLeft||0x2d5,f=g['clientY']||0x226,G=Q['PName']['prototype'];oS['Chose']=0x1;let z=NewImg('MovePlant',G['PicArr'][G['StaticGif']],'left:'+k+'px;top:'+(f+0x14-G['height'])+'px;z-index:258;',EDAll);SetStyle(z,oS['ChoseCardObj']['PName']['prototype']['ImgStyle']),EditImg(z['cloneNode'](![]),'MovePlantAlpha','',{'visibility':'hidden','opacity':0.4,'z-index':0x1e},FightingScene),EditCompositeStyle({'ele':z,'addFuncs':[['translateX',oS['EDAllScrollLeft']-G['width']/0x2+'px']],'option':0x2}),SetHidden($('dTitle')),GroundOnmousemove=function(W){let r=oS['ChoseCardObj']['PName'],t=W['clientX']-EDAlloffsetLeft,U=W['clientY'];if(IsMobile&&W['targetTouches']){let L=W['targetTouches'][0x0];[t,U]=[L['clientX']-0x3c,L['clientY']];}let[[u,O],[D,V]]=[ChosePlantX(t),ChosePlantY(U)],[Z]=GetAP(t,U,V,O),J=r['prototype'],d=$('MovePlantAlpha');SetStyle($('MovePlant'),{'left':t+'px','top':U+0x14-J['height']+'px'}),J['CanGrow'](Z,V,O)?(SetStyle(d,{'visibility':'visible','left':u+0x73+J['GetDX'](J)+'px','top':D-J['height']+J['GetDY'](V,O,Z)+'px'}),PosHighlight(V,O)):(SetHidden(d),ClearChild($('HighlightLane'),$('HighlightColumn')));};let e=GrowPlant,X=CancelPlant,F=ViewPlantTitle;GrowPlant=function(W,r,t,U,u){let O=oS['ChoseCardObj'],D=O['PName'],V=D['prototype'],Z=O['DID'];if(V['CanGrow'](W,U,u)){oAudioManager['playAudio'](oGd['$GdType'][U][u]===0x2?'plant_water':'plant'+Math['floor'](0x1+Math['random']()*0x2));let J=new D()['Birth'](r,t,U,u,W);const d=$('imgGrowSoil');d['src']=GrowSoilImg,SetStyle(d,{'left':r+0x55+'px','top':t-0x2d+'px','z-index':0x3*U+0x1,'visibility':'visible'}),oSym['addTask'](0x64,SetHidden,[d]),delete oS['ChoseCardObj'],oS['Chose']=0x0,GroundOnmousemove=()=>{},ClearChild($('MovePlant'),$('MovePlantAlpha')),I=!![],CancelPlant(),H();}else(IsMobile||U<0x1||u<0x1||u>0x9)&&(CancelPlant(),H());},CancelPlant=function(){oS['Chose']=0x0,delete oS['ChoseCardObj'],ClearChild($('MovePlant'),$('MovePlantAlpha'),$('HighlightLane'),$('HighlightColumn')),GroundOnmousemove=()=>{},I?c():w(),H(),MonitorCard();},ViewPlantTitle=function(){};function H(){[GrowPlant,CancelPlant,ViewPlantTitle]=[e,X,F];}},'useProp'(g,i,c,w=()=>{}){oAudioManager['playAudio']('throw1');let I,Q,k=this;return k['readData'](),(I=k['staticInforms'][g]['object'])&&k['ChosePlant'](c,I,()=>{i&&(--k['data'][g]<=0x0&&((()=>{delete k['data'][g];})()),k['saveStorage']()),w(!![]);},()=>{w(![]);}),k;},'saveStorage'(){return localStorage['JNG_TR_PurchasedProps']=JSON['stringify'](this['data']),this;},'isPropUnlocked'(g){var i;let c=JSON['parse']((i=localStorage['JNG_TR_PropsUnlock'])!==null&&i!==void 0x0?i:'{}');return!!c[g];}},oPropSelectGUI={'Init'(){var g,i;if(oPropSym['data']['length']<=0x0||((g=oS)===null||g===void 0x0?void 0x0:g['FixedProps']['length'])>0x0)return this;return this['propsDom']=$('dSelectProp'),this['wrapDom']=this['propsDom']['querySelector']('#dWrap'),this['listDom']=this['propsDom']['querySelector']('#dList'),this['PropsJSON']=oPropSym['data'],this['PropsList']=new Set(Object['keys'](this['PropsJSON'])),this['PropsSelectedList']=new Set(),this['PropsPrevUsedList']=JSON['parse']((i=localStorage['JNG_TR_PropsUsedPrev'])!==null&&i!==void 0x0?i:'{}'),this['render'](),this;},'show'(){var g;if(oPropSym['data']['length']<=0x0||((g=oS)===null||g===void 0x0?void 0x0:g['FixedProps']['length'])>0x0)return this;return oEffects['Animate'](this['propsDom'],{'top':'515px'},0.225,'cubic-bezier(0.0,\x200.0,\x200.2,\x201)'),this;},'hide'(){var g;if(oPropSym['data']['length']<=0x0||((g=oS)===null||g===void 0x0?void 0x0:g['FixedProps']['length'])>0x0)return this;return SetHidden(this['listDom']),oEffects['Animate'](this['propsDom'],{'top':'585px'},0.195,'cubic-bezier(0.4,\x200.0,\x201,\x201)'),this;},'render'(){const{propsDom:g,wrapDom:i,PropsJSON:c}=this,w=getBorderCanvasDom('images/Props/Shop/buttonSlot.png',0xa,0xa,0xc7,0x15);EditEle(w,null,null,g,{'id':'dBottomBar'});let I=0x0,Q=Object['keys'](c),k=Object['keys'](oPropSelectGUI['PropsPrevUsedList']);while(I<=0x1){var f,G;let z=k['length']?(f=k[I])!==null&&f!==void 0x0?f:'addIcon':(G=Q[I])!==null&&G!==void 0x0?G:'addIcon';if(!z['length'])z='addIcon';this['renderIcon'](I,z),I++;}return i['style']['width']=I*0x5c+'px',this['renderList'](),this;},'renderIcon'(g,i){let c='IconWrap_'+g,w='<img\x20class=\x22dLatterIcon\x22\x20src=\x22images/Props/Shop/button.png\x22>',I=this['wrapDom']['querySelector']('#'+c);return!I?I=NewEle(c,'div','left:'+g*0x5c+'px;',{'className':'IconWrap'},this['wrapDom']):this['PropsSelectedList']['delete'](I['dataset']['jngEname']),i==='addIcon'?w+='<img\x20class=\x22dFrontIcon\x22\x20src=\x27images/Props/Shop/addIcon.png\x27\x20height=\x2277\x22\x20width=\x2277\x22>':(w+='<img\x20class=\x22dFrontIcon\x22\x20src=\x27'+oPropSym['staticInforms'][i]['img']+'\x27\x20height=\x2277\x22\x20width=\x2277\x22><span\x20class=\x22dNumText\x22>×'+this['PropsJSON'][i]+'</span>',this['PropsSelectedList']['add'](i)),I['dataset']['jngEname']=i,I['innerHTML']=w,I['querySelector']('.dFrontIcon')['onclick']=this['clickPropIcon']['bind'](this,g),this;},'renderList'(){for(let g in this['PropsJSON']){NewImg('PropSelect_ListIcon_'+g,oPropSym['staticInforms'][g]['img'],null,this['listDom'],{'className':'ListIcon','onclick':this['clickListItem']['bind'](this,g)});}return NewImg('PropSelect_ListIcon_addIcon','images/Props/Shop/addIcon_small.png',null,this['listDom'],{'className':'ListIcon','onclick':this['clickListItem']['bind'](this,'addIcon')}),this['updateList'](),this;},'updateList'(){return this['PropsList']['forEach'](g=>{let i=$('PropSelect_ListIcon_'+g);this['PropsSelectedList']['has'](g)?SetNone(i):SetBlock(i);}),this;},'clickPropIcon'(g){oAudioManager['playAudio']('Close');const i=this['listDom'],c=[-0x26,0x34];return this['index']=g,GetStyle(i,'visibility')==='hidden'?(SetStyle(i,{'visibility':'visible','left':c[g]+'px'}),this['wrapDom']['querySelector']('#IconWrap_'+g)['dataset']['jngEname']==='addIcon'?SetNone($('PropSelect_ListIcon_addIcon')):SetBlock($('PropSelect_ListIcon_addIcon'))):SetHidden(i),this;},'clickListItem'(g){return oAudioManager['playAudio']('pause'),SetHidden(this['listDom']),this['renderIcon'](this['index'],g),this['updateList'](),this;}},oPropUseGUI={'Init'(){var g,i,c,w;let I=oPropSelectGUI['PropsSelectedList'];this['PropsJSON']={};if(((g=oS)===null||g===void 0x0?void 0x0:g['FixedProps']['length'])>0x0&&((i=oS)===null||i===void 0x0?void 0x0:i['FixedProps'])!=='disabled')this['PropsJSON']=oS['FixedProps'];else{if((I===null||I===void 0x0?void 0x0:I['size'])>0x0&&((c=oS)===null||c===void 0x0?void 0x0:c['FixedProps'])!=='disabled')for(let Q of I){this['PropsJSON'][Q]={'num':oPropSym['data'][Q],'canRecorded':!![]};}else{if((oPropSym===null||oPropSym===void 0x0?void 0x0:oPropSym['data']['length'])>0x0&&!I&&((w=oS)===null||w===void 0x0?void 0x0:w['FixedProps'])!=='disabled'){let k=Object['keys'](oPropSym['data'])['splice'](0x0,0x2);for(let f of k){this['PropsJSON'][f]={'num':oPropSym['data'][f],'canRecorded':!![]};}}else return;}}this['PropKindNum']=this['PropsJSON']['length'],this['propsDom']=$('dPropsContent'),this['wrapDom']=this['propsDom']['querySelector']('#dWrap'),this['upDom']=$('dUP'),this['render'](),SetBlock(this['propsDom']),oEffects['Animate'](this['propsDom'],{'top':'600px'},0.225,'cubic-bezier(0.0,\x200.0,\x200.2,\x201)');},'updateNums'(){var g,i;if(((g=oS)===null||g===void 0x0?void 0x0:g['FixedProps']['length'])>0x0&&((i=oS)===null||i===void 0x0?void 0x0:i['FixedProps'])!=='disabled')return;oPropSym['readData']();let c=Object['keys'](this['PropsJSON'])['splice'](0x0,0x2);for(let w of c){this['PropsJSON'][w]['num']=oPropSym['data'][w];}},'render'(){const{propsDom:g,wrapDom:i,PropKindNum:c,PropsJSON:w}=this,I=getBorderCanvasDom('images/Props/Shop/buttonSlot.png',0xa,0xa,c*0x5c+0xf,0x15);EditEle(I,null,null,g,{'id':'dBottomBar','onclick':this['show']['bind'](this)});let Q=![];i['onmouseenter']=()=>Q=!![],i['onmouseleave']=()=>{oSym['addTask'](0x12c,()=>!Q&&this['hide']()),Q=![];};let k=0x0,f='',G=this;for(let z in w){let e=w[z],X='IconWrap_'+z,F=NewEle(X,'div','left:'+k*0x5c+'px;',{'className':'IconWrap'},i);F['innerHTML']='<img\x20class=\x22dLatterIcon\x22\x20src=\x22images/Props/Shop/button.png\x22><canvas\x20class=\x22dCoolIcon\x22\x20height=\x2277\x22\x20width=\x2277\x22></canvas><img\x20class=\x22dFrontIcon\x22\x20src=\x27'+oPropSym['staticInforms'][z]['img']+'\x27><span\x20class=\x22dNumText\x22>×'+(e['num']===Infinity?'∞':e['num'])+'</span>',(e['DOM_FrontIcon']=F['querySelector']('.dFrontIcon'))['onclick']=function(H){G['getPropCard']['bind'](G)(z,H);},(e['DOM_FrontIcon']=F['querySelector']('.dFrontIcon'))['ontouchstart']=function(H){G['getPropCard']['bind'](G)(z,H);},e['DOM_CoolIcon']=F['querySelector']('.dCoolIcon'),e['DOM_NumText']=F['querySelector']('.dNumText'),k++;}i['style']['width']=k*0x5c+'px',this['upDom']['style']['left']=k*0x5c/0x2+0x44-0x9+'px';},'drawCoolTimeCircle'(g,i){g['clearRect'](0x0,0x0,0x4d,0x4d),g['save'](),g['beginPath'](),g['strokeStyle']=i['color'],g['globalAlpha']=0.7,g['lineWidth']=i['r'],g['translate'](i['x'],i['y']),g['scale'](-0x1,0x1),g['translate'](-i['x'],-i['y']),g['arc'](i['x'],i['y'],i['r']/0x2,Math['PI']*0x3/0x2,Math['PI']*0x3/0x2+Math['PI']*0x2*i['percent'],![]),g['stroke'](),g['restore']();},'beginCool'(g){let i=oPropSym['staticInforms'][g]['coolTime']*0x64,c=i,w=this['drawCoolTimeCircle'],I=this['PropsJSON'][g]['DOM_CoolIcon'],Q=I['getContext']('2d');SetStyle(I,{'display':'block','opacity':0x1}),function k(){c=Math['max'](c-0xa,0x0),c>0x0?(w(Q,{'x':38.5,'y':38.5,'r':33.5,'percent':c/i,'color':'black'}),oSym['addTask'](0xa,k)):(w(Q,{'x':38.5,'y':38.5,'r':33.5,'percent':0x1,'color':'white'}),oEffects['Animate'](I,{'opacity':0x0},0.5,'linear',SetNone));}();},'getPropCard'(g,i){this['updateNums']();const c=this['PropsJSON'][g],w=this['PropsJSON'][g]['DOM_CoolIcon'],I=w['getContext']('2d');let Q=w['style']['cssText'];SetStyle(w,{'display':'block','opacity':0x1}),this['drawCoolTimeCircle'](I,{'x':38.5,'y':38.5,'r':33.5,'percent':0x1,'color':'black'}),oPropSym['useProp'](g,c['canRecorded'],i,k=>{k?(c['DOM_NumText']['innerText']='×'+(c['num']===Infinity?'∞':--c['num']),c['num']>0x0&&this['beginCool'](g)):w['style']['cssText']=Q;});},'show'(){const g=this['upDom'];if(GetStyle(g,'opacity')!=='1')return;oEffects['Animate'](g,{'opacity':0.03},0.2),oEffects['Animate'](this['wrapDom'],{'top':'-70px','height':'70px','pointer-events':'auto'},0.3,'ease-in-out',i=>{g['style']['opacity']=0x0;});},'hide'(){const g=this['upDom'];if(GetStyle(g,'opacity')!=='0')return;oEffects['Animate'](this['wrapDom'],{'top':0x0,'height':0x0,'pointer-events':'none'},0.3,'ease-in-out',i=>{oEffects['Animate'](g,{'opacity':0.97},0.2,'linear',c=>{g['style']['opacity']=0x1;});});}},PlaySubtitle=(g,i)=>{let c=$('ZimuRQ');g?(SetBlock(c),$('Zimu')['innerText']=g):(SetNone(c),$('Zimu')['innerText']='');;i&&oSym['addTask'](i,SetNone,[c]);},ClickSpeed=function(){PauseGame(),oAudioManager['playAudio']('pause'),ShowSpeed();},ShowSpeed=function(){jngTemplate['require']('dSpeedContainer'),oS['Lvl']=='Forest1'&&(PlaySubtitle(),ClearChild($('PointerUD2'))),SetNone($('Menu')),SetBlock($('dSpeedContainer')),!localStorage['JNG_DEV']&&SetBlock($('shade'));},ShowCue=function(g,i,w,I,Q=0x0){var k=$('dCue');oAudioManager['playAudio']('click3'),SetBlock(k),k['style']['left']=g+Q+'px',k['style']['top']=i+'px',$('dCueName')['innerHTML']=w,$('dCueTooltip')['innerHTML']=I;},HiddenSpeed=function(){oAudioManager['playAudio']('Close'),SetNone($('dSpeedContainer'),$('shade'),oMenu['_Menu'],oMenu['_shade']),oS['Lvl']&&ResetGame(),oAudioManager['allResPauseCanceled']();},CSpeed=function(g,i=!![]){i&&oAudioManager['playAudio']('bottom');jngTemplate['require']('dSpeedContainer');if(g instanceof Array){$User['NowStep']=oSym['NowStep']=g[0x0],$User['TimeStep']=oSym['TimeStep']=g[0x1],$User['NowSpeed']=oSym['NowSpeed']=g[0x0]/g[0x1]*0xa;return;}if(!$User['LowPerformanceMode'])g>0x2?($User['NowStep']=oSym['NowStep']=1.7,$User['TimeStep']=oSym['TimeStep']=0x11/g):($User['NowStep']=oSym['NowStep']=0x1,$User['TimeStep']=oSym['TimeStep']=0xa/g);else{if(g>0x2)$User['NowStep']=oSym['NowStep']=2.2,$User['TimeStep']=oSym['TimeStep']=0x16/g;else g>0x1?($User['NowStep']=oSym['NowStep']=1.7,$User['TimeStep']=oSym['TimeStep']=0x11/g):($User['NowStep']=oSym['NowStep']=0x1,$User['TimeStep']=oSym['TimeStep']=0xa/g);}$User['NowSpeed']=oSym['NowSpeed']=g,SpeedMenuServices['_set_ball_position']();},ClickRules=function(g){jngTemplate['require']('rules'),oAudioManager['playAudio']('pause'),SetBlock($('rules'),$('shade'));var i=$('rules');switch(g){case'sy':i['style']['background-position']='0\x200';break;case'jf':i['style']['background-position']='-427px\x200';break;}},CloseNewPlant=()=>{oAudioManager['pauseMusic'](),SetHidden($('dNewPlant')),Exitlevel(oS['Lvl']),oAudioManager['playAudio']('Close');},CloseProp=()=>{oAudioManager['pauseMusic'](),SetHidden($('dNewProp')),Exitlevel(oS['Lvl']),oAudioManager['playAudio']('Close');},Exitlevel=function(g=oS['Lvl'],i){let c=Number(g['replace'](/-\w+$/)['replace'](/[^0-9]/ig,'')),w=Math['ceil'](c/0x5),I=!![],Q=null;switch(!![]){case/Tutorial/['test'](g):w='Forest_SelectionMap_1';break;case/Forest/['test'](g):w='Forest_SelectionMap_'+w;break;case/Marsh/['test'](g):w='Marsh_SelectionMap_'+w;break;case/Polar/['test'](g):w='Polar_SelectionMap_'+w;break;case/Industry/['test'](g):w='Industry_SelectionMap_'+w;break;case/Mirage/['test'](g):w='Mirage_SelectionMap_'+w;break;case/Season_Sp\d/['test'](g):w='Fuben_Spring_SelectionMap',Q='SelectionMap',I=![];break;case/Season_S\d/['test'](g):w='Fuben_Summer_SelectionMap',Q='SelectionMap',I=![];break;case/Season_A/['test'](g):w='Fuben_Autumn_SelectionMap',Q='SelectionMap',I=![];break;case/Season_W|Season_EXTRA/['test'](g):w='Fuben_Winter_SelectionMap',Q='SelectionMap',I=![];break;case/Lab/['test'](g):w='lab',Q='Service',I=![];break;case/Act|test/['test'](g):w='index',Q='Service',I=![];break;case/Everyday/['test'](g):w='Room',Q='AS_Room',I=![];break;case/FanmadeWorld_Challenge/['test'](g):w='Fuben_PlayerChallenge_SelectionMap',Q='SelectionMap',I=![];break;case/Fanmade|LevelLoader|Achievement|pvp/['test'](g):w='Room',Q='AS_Room',I=![];break;default:console['error'](''+$__language_Array__['38ec56cabcb703dc74c6da5306abb571'][0x0]+g);return;}if(i)return I?w:Q+'/'+w+'.js';I?oSelectionMap['refreshModal'](w):SelectModal(w,Q),oS['Slots']=0xa,oS['EDAllScrollLeft']=0x0,delete oS['coolSpeed'];},NextLevel=function(g=oS['Lvl']){let c=Number(g['replace'](/-\w+$/)['replace'](/[^0-9]/ig,'')),w=oSelectionMap['_WorldsList_'],I=oSelectionMap['_MapLevelNum_'];for(let Q=w['length']-0x1;Q>=0x0;--Q){if(g['substring'](0x0,w[Q]['length'])===w[Q])return c<I[w[Q]][I[w[Q]]['length']-0x1]?''+w[Q]+(c+0x1):w[Q+0x1]+'1';}},GetWin=function(g,i,c){oAudioManager['pauseMusic'](),oAudioManager['playAudio']('winmusic'),oSym['Clear'](),SetStyle(g,{'cursor':'default'})['onclick']=null,oEffects['fadeIn']($('DivA'),0x6,w=>{/(Forest|Marsh|Polar|Industry)_SelectionMap_\d/['test'](i)?(oSelectionMap['_CurrentPage_']=i,SelectModal('selectionmap','Service')):SelectModal(i),c&&c();},[0x0,0x64]);},ThrowADom=(g,i={})=>{var c,w;let I=Number['parseFloat'](g['style']['left']),Q=Number['parseFloat'](g['style']['top']),{width:width=(c=g['width'])!==null&&c!==void 0x0?c:GetStyle(g,'width',!![]),height:height=(w=g['height'])!==null&&w!==void 0x0?w:GetStyle(g,'height',!![]),downline:downline=0x32+0x5*Math['random'](),border:border={'minx':0x109,'maxx':oS['W'],'miny':0x0,'maxy':0x258},ease:ease='cubic-bezier(.28,-2,0.95,1)',goingToCenter:goingToCenter=![]}=i;border['maxx']-=width,border['maxy']-=height;let k=Math['min'](Math['max'](border['minx']+0x32,I),border['maxx']-0x32),f=Math['min'](Math['max'](border['miny']+0x32,Q),border['maxy']-0x32);I!==k&&(g['style']['left']=k+'px'),Q!==f&&(g['style']['top']=f+'px');let G=g['parentNode'],z=g['style']['transform'],e=NewEle('ThrowADom_Wrap_'+Math['random'](),'div',g['style']['cssText'],{'className':'ThrowADom_Wrap'},G);g['style']['left']=0x0,g['style']['top']=0x0,g['style']['pointer-events']='none',e['append'](g);let X=k+0x46*(Math['random']()-0.5),F=Math['min'](f+downline,border['maxy']),H=f,W=F-Number['parseFloat'](e['style']['top']),r=0.05*Math['random']()+0.55;if(goingToCenter){let t=Vector2['MoveTowards'](new Vector2(k,f),new Vector2((border['minx']+border['maxx'])/0x2,border['miny']+border['maxy']/0x2),0x82);X+=t['x']-k,H+=t['y']-f,r*=1.2;}oEffects['Animate'](e,{'transform':'scale(1)'},0.1),oEffects['Animate'](e,{'left':X+'px','top':H+'px'},r),oEffects['Animate'](g,{'top':W+'px'},r,ease,()=>{G['replaceChild'](g,e),SetStyle(g,{'top':F+H-f+'px','left':X+'px','width':width+'px','height':height+'px','pointer-events':'auto'});});},ShowWinItem=g=>{let i=EditCompositeStyle({'ele':g,'targetFunc':'scale'});if(i!==''&&i!=='1'&&g['tagName']==='IMG')g['onload']=c=>{let w=g['offsetWidth'],I=g['offsetHeight'],Q=w*i,k=I*i,f=oP['LastDeathPosition']['x']-Q/0x2,G=oP['LastDeathPosition']['y']-k/0x2,z=NewEle('WinItem_'+Math['random'](),'canvas','left:'+f+'px;top:'+G+'px;',{'width':Q,'height':k,'className':'WinItem'});z['getContext']('2d')['drawImage'](g,0x0,0x0,w,I,0x0,0x0,Q,k),z['onclick']=g['onclick']['bind'](z),g['parentNode']['replaceChild'](z,g),ThrowADom(z,{'width':Q,'height':k,'goingToCenter':!![]});};else{let c=g['offsetWidth'],w=g['offsetHeight'],I=oP['LastDeathPosition']['y']-w/0x2,Q=oP['LastDeathPosition']['x']-c/0x2;SetStyle(g,{'top':I+'px','left':Q+'px'})['classList']['add']('WinItem'),ThrowADom(g,{'width':c,'height':w,'goingToCenter':!![]});}},GetPlantCardDom=(g,i=EDAll,c='',w)=>{w=w||{'onclick':function(){GetNewCard(this,g,NextLevel());}};let I=g;typeof g!=='string'&&(I=g['prototype']['PicArr'][g['prototype']['CardGif']]);let Q=NewEle('newPlantCard_wrap_'+Math['random'](),'div',c,w,i);return Q['classList']['add']('NewPlantCard_Wrap'),NewImg('newPlantCard_img_'+Math['random'](),I,null,Q,{'className':'NewPlantCard_Img'}),NewEle('newPlantCard_cardSunNum_'+Math['random'](),'div','',{'className':'cardSunNum2','innerText':g['prototype']['SunNum']},Q),Q;},GetNewCard=(g,i,c)=>{oAudioManager['playAudio']('winmusic'),oSym['Clear'](),g['style']['pointer-events']='none',oEffects['Animate'](g,{'left':'525px','top':'131px','transform':'scale(2)'},0x5,'ease-out')['onclick']=null,oEffects['fadeIn']($('DivA'),0x6,function(){jngTemplate['require']('dNewPlant'),oAudioManager['playMusic']('plantsgarden'),ClearChild(g),SetHidden(EDAll,$('dTop'));const w=i['prototype'];!localStorage['JNG_TR_GotPlants']&&(localStorage['JNG_TR_GotPlants']='[]');let I=JSON['parse'](localStorage['JNG_TR_GotPlants']);I['push'](w['EName']),localStorage['JNG_TR_GotPlants']=JSON['stringify'](I['unique']()),$('iNewPlantCard')['src']=w['PicArr'][w['StaticGif']],$('dNewPlantName')['innerText']=w['CName'],$('dNewPlantTooltip')['innerHTML']=w['Tooltip'],$('dNewPlantSunNum')['innerHTML']=w['SunNum'],$('dNewPlantcoolTime')['innerHTML']=w['coolTime'],$('dNewPlantStory')['innerHTML']=w['Story'],$('btnNextLevel')['onclick']=function(){oAudioManager['pauseMusic'](),SelectModal(c),oAudioManager['playAudio']('pause');},SetVisible($('dNewPlant'));});},GetNewProp=function(g,i,c,w,I,Q,f){oAudioManager['playAudio']('winmusic'),oSym['Clear'](),SetStyle(g,{'cursor':'default'})['onclick']=null,oEffects['fadeIn']($('DivA'),0x6,function(){jngTemplate['require']('dNewProp'),oAudioManager['playMusic']('plantsgarden'),SetHidden(EDAll,$('dTop'));let G=$('iNewProp');G['style']['cssText']='',G['style']['background-image']=/\.\w+/['test'](i)?'url('+i+')':'url(images/interface/'+i+'.png)',Q&&f?(G['style']['top']=Q,G['style']['left']=f):G['style']['cssText']+=Q,$('dNewPropName')['innerHTML']=c,$('dNewPropTooltip')['innerHTML']=w,$('NextLevel')['onclick']=function(){oAudioManager['pauseMusic'](),SetHidden($('dNewProp')),/(Forest|Marsh|Polar|Industry|Mirage)_SelectionMap_\d/['test'](I)?(oSelectionMap['_CurrentPage_']=I,SelectModal('selectionmap','Service')):SelectModal(I),oAudioManager['playAudio']('pause');},SetVisible($('dNewProp'));},[0x0,0x64]);},PlaceZombie=function(g,i,c,w=!![],I=![]){if(oS['isStartGame']===0x2)return;const Q=new g();if(!Object['hasOwn'](Q['__proto__'],'ArHTML')){Q['Init'](GetX(c),g['prototype'],oGd['$ZF'],oS['R']+0x1);if(localStorage['JNG_DEV'])console['warn']('[PVZTR]\x20Try\x20to\x20place\x20a\x20zombie\x20before\x20initializing\x20it:\x20',Q);}let k;return typeof w==='boolean'||typeof w==='number'?(k={},k['useDirtAnim']=k['useEleBodyAnim']=c<=oS['C']?w:![]):k=w,oP['AppearUP'](Q,i,c,k,I),Q;},hasPlants=function(g=!![],i){let c=[],w=new Set(['oBrains','oIBrains','oLawnCleaner','oApple']);for(let I of $P){let Q=g?!w['has'](I['EName'])&&I['isPlant']:!![],k=i?i(I):!![];Q&&k&&c['push'](I);}return c;},oFlagContent={'fullValue':null,'curValue':null,'fullWidth':211.5,'headWidth':0x1c,'init'({MeterType:MeterType='RightBar\x20GreenBar',HeadType:HeadType='NormalHead',fullValue:g,curValue:curValue=0x0,canMoveHead:canMoveHead=!![]}){this['__ContainerEle__']=$('dFlagMeterContent'),this['__MeterEle__']=$('dFlagMeterBar'),this['__HeadEle__']=$('dFlagHead'),this['__MeterEle__']['className']=MeterType,this['__HeadEle__']['className']=HeadType,this['fullValue']=g,this['curValue']=curValue,this['canMoveHead']=canMoveHead;const i=(this['fullValue']===0x0?0x0:curValue/g)*this['fullWidth'];return this['__MeterEle__']['style']['width']=i+'px',canMoveHead&&(this['__HeadEle__']['style']['right']=i-this['headWidth']/0x2+'px'),this;},'update'({MeterType:g,curValue:i,animConfig:animConfig={}}){animConfig=Object['assign']({'disabled':![],'duration':0.3},animConfig),g&&(this['__MeterEle__']['className']=g);if(i!==null&&i!==void 0x0&&i<=this['fullValue']){this['curValue']=i;const c=(this['fullValue']===0x0?0x1:i/this['fullValue'])*this['fullWidth'],w=c+'px',I=this['__MeterEle__'];if(animConfig['disabled']!==!![]){const{duration:Q,ease:k,callback:f}=animConfig;oEffects['Animate'](I,{'width':w},Q,k,f);}else I['style']['width']=w;this['canMoveHead']&&(this['__HeadEle__']['style']['right']=c-this['headWidth']/0x2+'px');}},'show'(){return this['__ContainerEle__']['style']['visibility']='visible',this;},'hide'(){return this['__ContainerEle__']['style']['visibility']='hidden',this;}};const SkipLoading=()=>{oS['Lvl']==='selectionmap'?oSelectionMap['finishLoadPage']():oS['LoadReady'](oS);},willPlayDialogue=(g=-0x1)=>{if(!$User['IS_PLOT_OPEN'])return-0x1;if(localStorage['JNG_DEV']==='true')return 0x0;return!sessionStorage['___PLAY_DIALOGUE___'+oS['Lvl']+'_'+(g>=0x0?g:oS['isStartGame'])]?(sessionStorage['___PLAY_DIALOGUE___'+oS['Lvl']+'_'+(g>=0x0?g:oS['isStartGame'])]=0x1,0x0):-0x1;};