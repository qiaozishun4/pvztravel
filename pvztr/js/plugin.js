'use strict';const IsMobile=/Android|iPhone|iPad/['test'](navigator['userAgent']),UserPerformance={'CPU':navigator['hardwareConcurrency'],'MEM':navigator['deviceMemory'],'online':navigator['onLine']},IsTestingEnvi=![],IsDevEnvi=/^(http|https):\/\/localhost/['test'](location['href'])||/^(http|https):\/\/(\d+)\.(\d+)\.(\d+)\.(\d+)/['test'](location['href']),IsHttpEnvi=![],CanXHR=![];Reflect['defineProperty'](Object['prototype'],'length',{'enumerable':![],'configurable':![],'get'(){return Object['keys'](this)['length'];}}),Object['prototype'][Symbol['iterator']]=function(){const g=Object['values'](this);return Array['prototype'][Symbol['iterator']]['call'](g);},Reflect['defineProperty'](Array['prototype'],'random',{'enumerable':![],'value'(){return this[Number['parseInt'](Math['random']()*this['length'])];}}),Reflect['defineProperty'](String['prototype'],'reverse',{'enumerable':![],'value'(){return this['split']('')['reverse']()['join']('');}}),Reflect['defineProperty'](EventTarget,'__jngListenerRecord__',{'enumerable':![],'configurable':![],'value':new WeakMap()}),Reflect['defineProperty'](EventTarget['prototype'],'removeEventListenerRecord',{'enumerable':![],'value'(g,i){let c=this!==null&&this!==void 0x0?this:window,w=EventTarget['__jngListenerRecord__'],I=w['get'](c),Q=I===null||I===void 0x0?void 0x0:I[g];if(Q!==null&&Q!==void 0x0&&Q['get'](i)){let k=Q['get'](i);c['removeEventListener'](g,k),Q['delete'](i),Q['size']<=0x0&&delete I[g];}}}),Reflect['defineProperty'](EventTarget['prototype'],'addEventListenerRecord',{'enumerable':![],'value'(g,i,c){let w=this!==null&&this!==void 0x0?this:window,I=i,Q=EventTarget['__jngListenerRecord__'];c!==null&&c!==void 0x0&&c['once']&&(I=()=>{i['call'](w),w['removeEventListenerRecord'](g,i);});w['addEventListener'](g,I);let k;!Q['has'](w)?(k={},Q['set'](w,k)):k=Q['get'](w);let f=k[g];isNullish(f)&&(f=k[g]=new Map()),!f['has'](i)&&f['set'](i,I);}});const ClearEventListeners=(g,i)=>{var c;let w=EventTarget['__jngListenerRecord__'],I=(c=w['get'](g))===null||c===void 0x0?void 0x0:c[i];if(!isNullish(I))for(let[Q]of I){g['removeEventListenerRecord'](i,Q);}};Reflect['defineProperty'](Array['prototype'],'shuffle',{'enumerable':![],'value'(){const g=this,i=g['length']-0x1;return g['forEach']((c,w)=>{if(w!==i){const I=Math['floor'](Math['random']()*(i-w))+w+0x1;[g[w],g[I]]=[g[I],g[w]];}}),g;}}),Reflect['defineProperty'](Array['prototype'],'unique',{'enumerable':![],'value'(){return Array['from'](new Set(this));}}),Reflect['defineProperty'](Array['prototype'],'delete',{'enumerable':![],'value'(g,i){const c=this;if(i){let w=c['indexOf'](g);return w>-0x1&&c['splice'](w,0x1),c;}return c['forEach']((I,Q)=>I===g&&c['splice'](Q,0x1)),c;}}),Reflect['defineProperty'](localStorage['__proto__'],'getJsonItem',{'enumerable':![],'value'(...g){var c;let w=JSON['parse']((c=localStorage[g[0x0]])!==null&&c!==void 0x0?c:'{}');for(let I=0x1;I<g['length'];I++){w=w[g[I]];if(!w)return w;}return w;}}),Reflect['defineProperty'](Array['prototype'],'getValueIndexedJson',{'enumerable':![],'value'(){let g={};const c=this;for(let w=c['length']-0x1;w>=0x0;w--){g[c[w]]=w;}return g;}}),Reflect['defineProperty'](localStorage['__proto__'],'setJsonItem',{'enumerable':![],'value'(...g){var c;if(g['length']<0x2)return;if(g['length']==0x2)return localStorage[g[0x0]]=g[0x1],g[0x1];let w=JSON['parse']((c=localStorage[g[0x0]])!==null&&c!==void 0x0?c:'{}'),I=w;for(let Q=0x1;Q<g['length']-0x2;Q++){!I[g[Q]]&&(I[g[Q]]={}),I=I[g[Q]];}return I[g[g['length']-0x2]]=g[g['length']-0x1],localStorage[g[0x0]]=JSON['stringify'](w),w;}}),Object['assignWithoutOverwrite']=function(g,...i){return i['forEach'](c=>{for(let w in c){(g[w]===undefined||g[w]===null)&&(g[w]=c[w]);}}),g;},Math['inRange']=function(g,i,c){return i<=g&&g<=c;},Math['Clamp']=function(g,i,c){return Math['min'](Math['max'](g,i),c);},Math['LerpUnclamped']=function(g,i,c){return g+(i-g)*c;},Math['Lerp']=function(g,i,c){return c=Math['Clamp'](c,0x0,0x1),Math['LerpUnclamped'](g,i,c);},Math['distance']=function(g,i){const[c,w,I,Q]=[...g,...i];return Math['hypot'](c-I,w-Q);},Math['MoveTowards']=(g,i,c)=>{if(i instanceof Array){let k=[i[0x0]-g[0x0],i[0x1]-g[0x1]],f=Math['distance']([0x0,0x0],k);if(f<=c||f==0x0)return i;return[g[0x0]+k[0x0]/f*c,g[0x1]+k[0x1]/f*c];}let w=i-g,I=w*w;if(I==0x0||c>=0x0&&I<=c*c)return i;let Q=I;return g+w/Q*c;},Math['DegToRad']=Math['PI']/0xb4,Math['RadToDeg']=0xb4/Math['PI'],Math['seededRandomV2']=(g=null,i=null)=>{i>g&&([i,g]=[g,i]);let[c,w]=Math['seedV2'],I=BigInt(c),Q=BigInt(w);c=Q,I^=I<<0x17n,I^=I>>0x11n,I^=Q,I^=Q>>0x1an,w=I,Math['seedV2']={'val':[c%BigInt(0x4e34d4b9425abc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000),w%BigInt(0x4e34d4b9425abc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000)]};let k=Number((c+w)%BigInt(0xde0b6b3a7640000))/0xde0b6b3a7640000;return g===null||i===null?k:k*(g-i)+i;},Math['_twoPI_']=Math['PI']*0x2;{let __tmpSummon__=null,__summoned__=0x1;Math['Grandom']=(g=0x0,i=0x1)=>{if(__summoned__^=0x1)return __tmpSummon__*i+g;let c=0x1-Math['random'](),w=Math['random'](),I=Math['sqrt'](-0x2*Math['log'](c)),Q=Math['_twoPI_']*w;return __tmpSummon__=I*Math['sin'](Q),I*Math['cos'](Q)*i+g;};};Reflect['defineProperty'](Math,'seedV2',{'configurable':![],'get'(){return this['val'];},'set'(g){if(g instanceof Array){this['val']=g;for(let c=0x1;c<=0xa;c++){Math['seededRandomV2']();}}else this['val']=g['val'];}}),Math['seedV2']=[0x3,0x2],Array['getRangedArray']=(g,c)=>{let w=[];for(let I=g;I<=c;++I){w['push'](I);}return w;};class Vector2{constructor(g=0x0,i=0x0){this['x']=g,this['y']=i;}['add'](g,i=![]){return!i?new Vector2(this['x']+g['x'],this['y']+g['y']):(this['x']+=g['x'],this['y']+=g['y'],this);}['sub'](g,i=![]){return!i?new Vector2(this['x']-g['x'],this['y']-g['y']):(this['x']-=g['x'],this['y']-=g['y'],this);}['mul'](g,i=![]){return!isNaN(g)?!i?new Vector2(this['x']*g,this['y']*g):(this['x']*=g,this['y']*=g,this):this['x']*g['y']-g['x']*this['y'];}['div'](g,i=![]){return!i?new Vector2(this['x']/g,this['y']/g):(this['x']/=g,this['y']/=g,this);}static['Dot'](g,i){return g['x']*i['x']+g['y']*i['y'];}get['sqrMagnitude'](){return this['x']**0x2+this['y']**0x2;}get['magnitude'](){return Math['hypot'](this['x'],this['y']);}static['Rad'](g,i){return Math['atan2'](i['y']-g['y'],i['x']-g['x']);}static['Angle'](g,i){return Vector2['Rad'](g,i)*Math['RadToDeg'];}['getRad'](g){return Vector2['Rad'](this,g);}['getAngle'](g){return Vector2['Angle'](this,g);}get['normalized'](){return this['div'](this['magnitude']);}static['Normalize'](g){return g['normalized'];}static['Distance'](g,i){return g['sub'](i)['magnitude'];}['toArray'](){return[this['x'],this['y']];}static['toVector'](g){return new Vector2(...g);}static['Lerp'](g,i,c){return c=Math['Clamp'](c,0x0,0x1),new Vector2(g['x']+(i['x']-g['x'])*c,g['y']+(i['y']-g['y'])*c);}static['MoveTowards'](g,i,c=0x0){let w=new Vector2(i['x']-g['x'],i['y']-g['y']),I=w['magnitude'];if(I<=c||I==0x0)return i;return new Vector2(g['x']+w['x']/I*c,g['y']+w['y']/I*c);}['rotate'](g){let i=this,c=[Math['cos'](g),Math['sin'](g)];return new Vector2(c[0x0]*i['x']-c[0x1]*i['y'],c[0x1]*i['x']+c[0x0]*i['y']);}}const $=g=>g&&document['getElementById'](g),$$=g=>g&&document['querySelector'](g),$n=g=>document['createElement'](g),__cssNumberWhiteList__={'column-count':0x1,'columns':0x1,'font-weight':0x1,'line-height':0x1,'opacity':0x1,'z-index':0x1,'zoom':0x1,'animation-iteration-count':0x1},ClearChild=(...g)=>g['forEach'](i=>(i===null||i===void 0x0?void 0x0:i['remove'])&&i['remove']()),SetBlock=(...g)=>g['forEach'](i=>i['style']['display']='block'),SetNone=(...g)=>g['forEach'](i=>(i===null||i===void 0x0?void 0x0:i['style'])&&(i['style']['display']='none')),SetVisible=(...g)=>g['forEach'](i=>i&&(i['style']['visibility']='visible')),SetHidden=(...g)=>g['forEach'](i=>i['style']['visibility']='hidden'),SetAlpha=(g,i)=>g['style']['opacity']=i,innerText=(g,i)=>g['innerText']=i,SetStyle=(g,i)=>{const c=g['style'];for(let w in i){let I=i[w];I&&typeof I==='number'&&!__cssNumberWhiteList__[w]&&(I+='px'),localStorage['JNG_DEV']&&/[a-z]+[A-Z]+/['test'](w)&&console['warn']('[PVZTR]\x20It\x20is\x20not\x20recommended\x20to\x20use\x20camel\x20style\x20named\x20style\x20key\x20values:\x20'+w),c['setProperty'](w,I);}return g;},GetStyle=(g,i,c=![])=>{let w=g['style'][i]||getComputedStyle(g,null)['getPropertyValue'](i);return c&&(w=Number['parseFloat'](w)),w;},NewEle=function(g,i,c,w,I){const Q=$n(i);return Q['id']=g,!isNullish(c)&&Q['setAttribute']('style',c),Object['assign'](Q,w),I&&I['appendChild'](Q),Q;},NewImg=function(g,i,c,w,I){let Q={'src':i};return Object['assign'](Q,I),NewEle(g,'img',c,Q,w);},NewScript=(g,i)=>{g=g||'jng_script_'+Math['random']();if($(g))return new Promise(c=>c());else{const c=NewEle(g,'script',null,{'src':i},document['head']);return new Promise(w=>{c['onload']=w;});}},EditEle=function(g,i,c,w,I){if(i){for(let Q in i)g['setAttribute'](Q,i[Q]);}return SetStyle(g,c),Object['assign'](g,I),w&&w['appendChild'](g),g;},EditImg=function(g,i,c,w,I){return SetStyle(g,w),i&&(g['id']=i),c&&(g['src']=c),I&&I['appendChild'](g),g;},getBorderCanvasDom=function(g,i,c,w,I){let Q=NewEle('','canvas'),k=Q['getContext']('2d'),f=new Image();return f['src']=g,f['onload']=function(){Q['width']=w,Q['height']=I!==null&&I!==void 0x0?I:f['height'],k['drawImage'](f,0x0,0x0,i,f['height'],0x0,0x0,i,f['height']),k['drawImage'](f,f['width']-c,0x0,c,f['height'],w-c,0x0,c,f['height']);let G=w-i-c,z=f['width']-i-c;k['drawImage'](f,i,0x0,z,f['height'],i,0x0,G,f['height']);},Q;},EditCompositeStyle=({ele:g,styleName:styleName='transform',delFuncs:delFuncs=[],addFuncs:addFuncs=[],targetFunc:targetFunc='',option:option=0x1})=>{const c=g['style'];let w=c[styleName],I=w['split'](/\s*\(|\)\s*/)['filter'](G=>G),Q=[],k='';function f(G,z){let e;for(let X=0x0;X<delFuncs['length'];X++){e=delFuncs[X];if(e instanceof Array){if(G===e[0x0]&&z===e[0x1])return!![];}else{if(G===e)return!![];}}return![];}for(let G=0x0;G<I['length'];G+=0x2){let z=I[G],e=I[G+0x1];e=e['replace'](/"/g,'');if(z===targetFunc)return e;!f(z,e)&&Q['push']([z,e]);}return Q['concat'](addFuncs)['forEach'](X=>{k+='\x20'+X[0x0]+'('+X[0x1]+')\x20';}),option===0x2&&c['setProperty'](styleName,k),k;},isNullish=g=>g===void 0x0||g===null,TypeOf=g=>Object['prototype']['toString']['call'](g)['slice'](0x8,-0x1),dasherize=g=>{return g['replace'](/([A-Z]+)([A-Z][a-z])/g,'$1_$2')['replace'](/([a-z\d])([A-Z])/g,'$1_$2')['replace'](/_/g,'-')['replace'](/^webkit-/,'-webkit-')['toLowerCase']();},oURL={'getParam'(g,i){let c=g['indexOf']('?');if(c<0x0)return;let w=g['substring'](c+0x1)['split']('&'),I={};for(let Q of w){let{_key:k,_value:f}=/(?<_key>\w+)=(?<_value>\w+)/['exec'](Q)['groups'];if(i===k)return f;I[k]=f;}return(i!==null&&i!==void 0x0?i:!![])?I:void 0x0;},'setParam'(g,i,c){let w=g['indexOf']('?'),I='',Q='';w<0x0?I=g+'?':(I=g['substring'](0x0,w+0x1),Q=g['substring'](w+0x1));let k={};if(typeof i==='string'&&(c!==null&&c!==void 0x0?c:![]))k[i]=c;else typeof i==='object'&&i!==null&&(k=i);for(let f in k){let G=Q['indexOf'](f);if(G>=0x0){let z=new RegExp('('+f+'=)(\x5cw+)');Q=Q['replace'](z,(e,X)=>X+k[f]);}else Q['at'](-0x1)!=='&'&&(Q+='&'),Q+=f+'='+k[f];}return I+Q;},'removeParam'(g,i){let c=g['indexOf']('?'),w='',I='';if(c>=0x0){if(i===void 0x0||i===null)g=g['substring'](0x0,c);else{typeof i==='string'&&(i=[i]);for(let Q of i){if(g['indexOf'](Q)<0x0)continue;let k=new RegExp(Q+'=\x5cw+&{0,1}');g=g['replace'](k,'');}g=g['replace'](/[\?,&]*$/,'');}}return g;}},CEasing={'Sine'(g){return(Math['sin'](Math['Clamp'](g,0x0,0x1)*Math['PI']-Math['PI']/0x2)+0x1)/0x2;},'InSine'(g){return 0x1-Math['cos'](Math['Clamp'](g,0x0,0x1)*Math['PI']/0x2);},'OutSine'(g){return Math['sin'](Math['Clamp'](g,0x0,0x1)*Math['PI']/0x2);},'Quad'(g){g=Math['Clamp'](g,0x0,0x1)*0x2;if(g<0x1)return 0.5*g*g;return-0.5*(--g*(g-0x2)-0x1);},'InQuad'(g){return g*g;},'OutQuad'(g){return-g*(g-0x2);},'HigherPower'(g,i=0x3){g=Math['Clamp'](g,0x0,0x1)*0x2;if(g<0x1)return 0.5*Math['pow'](g,i);return-0.5*Math['pow'](0x2-g,i)+0x1;},'InHigherPower'(g,i=0x3){return Math['pow'](g,i);},'OutHigherPower'(g,i=0x3){return 0x1-Math['pow'](0x1-g,i);}},One_Dimensional_Intersection=(g,i,c,w,I=![])=>{return I&&(g>i&&([i,g]=[g,i]),c>w&&([w,c]=[c,w])),c<=i&&g<=w;},TextToHTML=function(g,c=![]){let w=c?[]:'';function I(G){c?w['push'](G):w+=G;}let Q={'\x0a':'<br/>','\x09':'&nbsp;&nbsp;&nbsp;&nbsp;'},k='',f=[0x1];for(let G in Q){k['length']>0x0&&(k+='|'),k+='('+G+')';}k=new RegExp(k,'g'),g=g['replace'](k,function(z,e){return f['push'](Q[z]),String['fromCharCode'](0x1);});for(let z=0x0;z<g['length'];z++){g[z]['charCodeAt']()===0x1?I(f[f[0x0]++]):I(g[z]);}return w;},decryptRC4=(g,c)=>{var w,I,Q,f,G,z=c,e='',c=[],X=[],F=z['length'],H=g['length'];for(w=0x0;w<0x100;w++){c[w]=z[w%F]['charCodeAt'](),X[w]=w;}for(I=w=0x0;w<0x100;w++){I=(I+X[w]+c[w])%0x100,f=X[w],X[w]=X[I],X[I]=f;}for(G=I=w=0x0;w<H;w++){G=(G+0x1)%0x100,I=(I+X[G])%0x100,f=X[G],X[G]=X[I],X[I]=f,Q=X[(X[G]+X[I])%0x100],e+=String['fromCharCode'](g[w]['charCodeAt']()^Q);}return e;};let Tmp_Save_Resources=!![],ResourcesDatabase=null;!Tmp_Save_Resources&&indexedDB['deleteDatabase']('JNG_PVZTR_RES');const openDB=async function(g,i){if(!Tmp_Save_Resources)return;let c=i||0x1,w=new Promise(async function(I,Q){let k=indexedDB['open'](g,c);k['onerror']=function(f){console['log']('open\x20Database\x20error!'),indexedDB['deleteDatabase']('JNG_PVZTR_RES');},k['onsuccess']=function(f){I(f),console['log']('open\x20Database\x20success!');},k['onupgradeneeded']=async function(f){var G=f['target']['result'];f['oldVersion']>=0x1&&await G['deleteObjectStore']('images'),!G['objectStoreNames']['contains']('images')&&await G['createObjectStore']('images',{'keyPath':'src'}),console['log']('indexedDB\x20version\x20change\x20to\x20'+c);};});return w;},getDataByKey=function(g,i,c){if(!Tmp_Save_Resources)return null;return new Promise(function(w,I){var Q=g['transaction'](i,'readwrite'),k=Q['objectStore'](i),f=k['get'](c);f['onsuccess']=function(G){w(G['target']['result']);},f['onerror']=function(){reslove(null);};});},putDataByKey=function(g,i,c,w){if(!Tmp_Save_Resources)return null;return new Promise(function(I,Q){let k;!w?k=c:k={'src':c,'data':w};var f=g['transaction'](i,'readwrite')['objectStore'](i)['put'](k);f['onsuccess']=function(G){I(!![]);},f['onerror']=function(G){I(![]);};});};(async function(){Tmp_Save_Resources&&(ResourcesDatabase=(await openDB('JNG_PVZTR_RES',0x3))['target']['result']);}());