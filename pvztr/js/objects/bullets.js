'use strict';let CBullets=NewO({'EName':'CBullets','NormalGif':0x0,'SplashGif':0x1,'oriLeft':0x0,'oriTop':0x0,'start':0x0,'isBackwardstart':0x0,'pixelToparr':[0x5f,0x6e,0x5a,0x69],'recentportalid':null,'Width':0x0,'autoShadow':![],'liveTime':0x0,'Birth'(g=[],i,c,w,I,Q,k,f){var G,z;let e=this,F=(Q!==null&&Q!==void 0x0?Q:e['EName'])+'_'+Math['random']();return e['id']=F,e['Attack']=(G=k!==null&&k!==void 0x0?k:e['Attack'])!==null&&G!==void 0x0?G:0x14,e['oriLeft']=e['pixelLeft']=i,e['start']=e['oriLeft'],e['oriTop']=e['pixelTop']=c,e['PicArr']=(z=e['PicArr'])!==null&&z!==void 0x0?z:g,e['R']=w,e['zIndex']=I!==null&&I!==void 0x0?I:0x3*w+0x1,e['Ele']=NewImg(F,e['PicArr'][e['NormalGif']],'left:'+e['pixelLeft']+'px;top:'+e['pixelTop']+'px;z-index:'+e['zIndex']+';will-change:transform;',EDPZ),e['autoShadow']&&!$User['LowPerformanceMode']&&(e['EleShadow']=NewEle(F+'_Shadow','div','z-index:1;opacity:0.5;background-size:29px;background-repeat:\x20no-repeat;width:29px;top:'+(GetY(e['R'])-0x14)+'px;left:'+e['pixelLeft']+'px;will-change:transform;',{'className':'Shadow'},EDPZ)),oBu['add'](e,F),e['privateBirth'](e,f),e;},'privateBirth'(){},'CheckDie'(g){let i=g['pixelLeft'];if(i>oS['W']||i<0x0||g['liveTime']>0x1194)return!![];return![];},'Update'(g,i=0x1){if(g['CheckDie'](g)){g['Destroy'](g);return;}g['liveTime']+=i,g['Move'](g,i);},'Move'(g){g['Die'](g);},'Die'(g,i=!![]){g['Destroy'](i);},'Destroy'(g=!![]){let i=this;g&&ClearChild(i['Ele'],i['EleShadow']),oBu['del'](i);},'GetPortal'(g,i,c,w,I,Q=0x0){let k=-0x1,f=-0x1,G=oGd['$PortalsMap'];for(let z=w?oS['C']:0x1;w?z>0x0:z<=oS['C'];w?z--:z++){let e=$P[G[g+'_'+z]];if(!e||e['id']===this['recentportalid'])continue;if((w&&GetC(I)+Q>e['C']||!w&&GetC(I)<=e['C'])&&(!w&&GetX(e['C'])-0x32<=this['pixelLeft']||w&&GetX(e['C'])>=this['pixelLeft']-Q*0x50)){if(oGd['$Portals'][e['Color']]['length']<=0x1)continue;f=e['Color'],k=c[f]['findIndex'](X=>{return e['id']==X['id'];});break;}}return[k,f];},'EnterPortal'(g,i,c,w,I,Q){let k=w[I];if(k['length']<=0x1)return[-0x1];else{let f=Math['floor'](Math['random']()*k['length']);while(!k[f]||f==Q)f=Math['floor'](Math['random']()*k['length']);g['recentportalid']=k[f]['id'];let G=k[f]['R'],z=k[f]['C']+(g['EName']=='oZombiePeaBullet'?0x0:0x1),e=g['pixelLeft']=GetX(z)-(g['Direction']?0x46:0x32)-(g['EName']=='oShiitakeBullet'?0x19:0x0);if(!g['Direction']&&z==0xa)e=g['pixelLeft']+=0x32;g['start']=e;for(let X=g['R']<=G?g['R']+0x1:g['R']-0x1;g['R']<=G?X<=G:X>=G;g['R']<=G?X++:X--){g['pixelTop']=g['pixelTop']+(g['R']<=G?g['pixelToparr'][X-0x2]:-g['pixelToparr'][X-0x1]);}return g['R']=G,g['zIndex']=0x3*G+0x1,[G,z,e];}}}),oPeaBullet=InheritO(CBullets,{'EName':'oPeaBullet','Speed':0x5,'Direction':0x0,'PeaProperty':0x0,'Width':0x1e,'autoShadow':!![],'Move'(g,i){!g['_ZJudgeFun']&&(g['_ZJudgeFun']=u=>{var O,D;return u['isPuppet']||u['height']-((O=(D=u['HeadTargetPosition'][u['isAttacking']])===null||D===void 0x0?void 0x0:D['y'])!==null&&O!==void 0x0?O:0x0)-u['DivingDepth']>Math['abs'](g['pixelTop']+g['Width']*1.5-GetY(g['R']))&&u['pixelTop']+u['height']>g['pixelTop'];});let c=g['id'],w=g['Ele'],I=g['Attack'],Q=g['Direction'],k=g['pixelLeft'],f=k+g['Speed']*(-Q*0x2+0x1)*i,G=g['R'],z=g['PeaProperty'],e=GetC(k),X=GetC(f),F=oGd['$Torch'],H=oGd['$Obstacle'],W=oGd['$Portals'],x=g['GetPortal'](G,X,W,Q,g['start']),r=x[0x0],t=x[0x1],U=i>5.1?oZ['getZ'+Q+'Spd'](g,G,g['_ZJudgeFun'],i):oZ['getZ'+Q](k+g['Width'],G,g['_ZJudgeFun']);if(H[G+'_'+e]&&g['C']!=e)g['Destroy']();else{z<0x1&&F[G+'_'+e]&&g['C']!=e&&(oAudioManager['playAudio']('firepea'),z=++g['PeaProperty'],g['C']=e,w['src']=oDynamicPic['require']('images/Plants/PB'+z+Q+'.webp',w));if(U&&U['Altitude']==0x1&&(z==0x1||!U['Ethereal'])&&!(r>-0x1&&t>-0x1&&W[t][r]))U['get'+['Snow','','Fire'][z+0x1]+'Pea'](U,I*Math['max'](0x1,z+0x1),Q),g['Die'](g);else{if(r>-0x1&&t>-0x1&&W[t][r]){let u=g['EnterPortal'](g,G,e,W,t,r);u[0x0]>-0x1&&([G,e,g['pixelLeft']]=u);}k=g['pixelLeft']+=g['Speed']*(-Q*0x2+0x1)*i,w['style']['setProperty']('z-index',''+g['zIndex']),w['style']['setProperty']('transform','translateX('+(k-g['oriLeft'])+'px)\x20translateY('+(g['pixelTop']-g['oriTop'])+'px)'),g['EleShadow']&&g['EleShadow']['style']['setProperty']('transform','translateX('+(k-g['oriLeft']+0x18)+'px)\x20translateY('+(g['pixelTop']-g['oriTop'])+'px)');}}},'Die'(g){let i=g['id']+'_die',c='images/Plants/PeaBulletHit'+g['PeaProperty']+'.webp',w=NewImg(i,null,'left:\x20'+(g['pixelLeft']+0x19)+'px;\x20top:\x20'+(g['pixelTop']-0x17)+'px;\x20z-index:'+g['zIndex']+';width:\x2046px;\x20height:\x2060px;\x20position:\x20absolute;',EDPZ);w['src']=oDynamicPic['require'](c,w,!![]),oSym['addTask'](0x32,ClearChild,[w]),g['Destroy'](g);}}),oZombiePeaBullet=InheritO(oPeaBullet,{'EName':'oZombiePeaBullet','Direction':0x1,'moveCnt':0x0,'Attack':0x14,'deltaStature':0x0,'isBackwardstart':0x1,'privateBirth'(g){g['Ele']['style']['transform']='rotateY(180deg)',g['start']-=0x14;},'Move'(g,c){let w=g['id'],I=g['Ele'],Q=g['Attack'],k=g['Direction'],f=g['pixelLeft'],G=f+g['Speed']*(-k*0x2+0x1)*c,z=g['R'],e=g['PeaProperty'],X=GetC(f+0x19),F=GetC(G),H=oGd['$Torch'],W=oGd['$Portals'],x=g['GetPortal'](z,F,W,k,g['start'],g['isBackwardstart']),r=x[0x0],t=x[0x1],U=0x0;if(r>-0x1&&t>-0x1&&W[t][r]){let O=g['EnterPortal'](g,z,X,W,t,r);O[0x0]>-0x1&&([z,X,f]=O,g['pixelLeft']=O[0x2],g['isBackwardstart']=0x0);}else e<0x1&&H[z+'_'+X]&&g['C']!=X&&(U=0x1,oAudioManager['playAudio']('firepea'),e=++g['PeaProperty'],g['C']=X,I['src']=oDynamicPic['require']('images/Plants/PB'+e+'0.webp',I));if(!U&&(g['moveCnt']++%0x3===0x0||c>0x5)){var u;let D,V,Z;for(let J=0x0;J<=PKindUpperLimit;J++){V=oGd['$'][z+'_'+X+'_'+J],!isNullish(V)&&V['EName']!=='oTorchwood'&&(J==0x0?Z=V['Stature']-0x1:Z=0x0,V['Stature']+Z-g['deltaStature']>=0x0&&(D=V));}if((u=D)!==null&&u!==void 0x0&&u['isPlant']){D['getHurt'](null,0x0,Q*Math['max'](0x1,e+0x1)),g['Die'](g);return;}g['moveCnt']=0x0;}f=g['pixelLeft']+=g['Speed']*(-k*0x2+0x1)*c,I['style']['setProperty']('transform','translateX('+(f-g['oriLeft'])+'px)\x20translateY('+(g['pixelTop']-g['oriTop'])+'px)\x20rotateY(180deg)'),g['EleShadow']&&g['EleShadow']['style']['setProperty']('transform','translateX('+(f-g['oriLeft'])+'px)\x20translateY('+(g['pixelTop']-g['oriTop'])+'px)');},'Die'(g){let i=g['id']+'_die',c='images/Plants/PeaBulletHit'+g['PeaProperty']+'.webp',w=NewImg(i,null,'left:\x20'+g['pixelLeft']+'px;\x20top:\x20'+(g['pixelTop']-0x17)+'px;\x20z-index:'+g['zIndex']+';width:\x2046px;\x20height:\x2060px;\x20position:\x20absolute;transform:rotateY(180deg);',EDPZ);w['src']=oDynamicPic['require'](c,w,!![]),oSym['addTask'](0x32,ClearChild,[w]),g['Destroy'](g);}}),oRadishBullet=InheritO(CBullets,{'EName':'oRadishBullet','Speed':0x10,'Direction':0x0,'Width':0x4a,'DeltaMove':0x0,'Attack':0x28,'Birth'(g,i,c,w,I,Q){let k=this,f=(Q!==null&&Q!==void 0x0?Q:k['EName'])+'_'+Math['random']();return k['id']=f,k['pixelTop']=c,k['oriLeft']=k['pixelLeft']=i,k['PicArr']=g,k['R']=w,k['zIndex']=I!==null&&I!==void 0x0?I:0x3*w+0x1,k['Ele']=NewImg(f,k['PicArr'][k['NormalGif']],'left:'+k['pixelLeft']+'px;top:'+k['pixelTop']+'px;z-index:'+k['zIndex']+';will-change:transform;',EDPZ),function G(){let z=oZ['getArZ'](i,Math['min'](i+0x14a,oS['W']),k['R'],e=>{var F,H;return(e['isPuppet']||e['height']-((F=(H=e['HeadTargetPosition'][e['isAttacking']])===null||H===void 0x0?void 0x0:H['y'])!==null&&F!==void 0x0?F:0x0)-e['DivingDepth']>0x50)&&e['Altitude']===0x1&&!e['Ethereal'];});z['forEach'](e=>e['getPea'](e,k['Attack']));}(),oBu['add'](k,f),k;},'Move'(g,i){g['DeltaMove']+=g['Speed']*i,g['pixelLeft']+=g['Speed']*i,g['Ele']['style']['setProperty']('transform','translateX('+(g['pixelLeft']-g['oriLeft'])+'px)'),g['DeltaMove']>0x14a-($User['LowPerformanceMode']?0x0:0x1)*g['Speed']*0xf&&g['Die'](g);},'CheckDie'(g){if(g['pixelLeft']>oS['W']||g['pixelLeft']+g['Width']<0x0)return!![];return![];},'Die'(g){$User['LowPerformanceMode']?g['Destroy'](!![]):(oEffects['Animate'](g['Ele'],{'opacity':0x0},0.2/oSym['NowSpeed'],null),g['Die']=()=>{g['DeltaMove']>0x14a&&g['Destroy'](!![]);});}}),oSnowPeaBullet=InheritO(oPeaBullet,{'EName':'oSnowPeaBullet','PeaProperty':-0x1}),oShroomBullet=InheritO(CBullets,{'EName':'oShroomBullet','Speed':0x5,'Direction':0x0,'Width':0xb,'CurDistance':0x0,'MaxDistance':-0x1,'Move'(g,i){!g['_ZJudgeFun']&&(g['_ZJudgeFun']=u=>{var O,D;return u['isPuppet']||u['height']-((O=(D=u['HeadTargetPosition'][u['isAttacking']])===null||D===void 0x0?void 0x0:D['y'])!==null&&O!==void 0x0?O:0x0)-u['DivingDepth']>Math['abs'](g['pixelTop']+g['Width']*1.5-GetY(g['R']))&&u['pixelTop']+u['height']>g['pixelTop'];});let c=g['id'],w=g['Ele'],I=g['Attack'],Q=g['Direction'],k=g['pixelLeft'],f=k+g['Speed']*(-Q*0x2+0x1)*i,G=g['R'],z=GetC(k),e=GetC(f),X=oGd['$Obstacle'],F=oGd['$Portals'],H=g['start'],W=g['GetPortal'](G,e,F,Q,g['start']),x=W[0x0],r=W[0x1],t=i>5.1?oZ['getZ'+Q+'Spd'](g,G,g['_ZJudgeFun'],i):oZ['getZ'+Q](k+g['Width'],G,g['_ZJudgeFun']);const U=g['MaxDistance'];if(U>0x0&&g['CurDistance']>=U||X[G+'_'+z]&&g['C']!==z)g['Destroy']();else{if(t&&t['Altitude']===0x1&&!t['Ethereal']&&!(x>-0x1&&r>-0x1&&F[r][x]))t['getPea'](t,I,Q),g['Die'](g);else{if(x>-0x1&&r>-0x1&&F[r][x]){let V=g['EnterPortal'](g,G,z,F,r,x);V[0x0]>-0x1&&([G,z,g['pixelLeft']]=V),g['CurDistance']+=GetC(H)==F[r][x]['C']?0x64:0xb4;}const u=g['Speed']*(-Q*0x2+0x1)*i,O=g['pixelLeft']+=u,D=g['pixelTop']-g['oriTop'];g['CurDistance']+=Math['abs'](u),w['style']['setProperty']('z-index',''+g['zIndex']),w['style']['setProperty']('transform','translateX('+(O-g['oriLeft'])+'px)\x20translateY('+D+'px)');}}},'Die'(g){let i=g['id']+'_die',c=g['PicArr'][g['SplashGif']],w=NewImg(i,null,'left:\x20'+g['pixelLeft']+'px;\x20top:\x20'+(g['pixelTop']-0xe)+'px;\x20z-index:'+g['zIndex']+';width:34px;height:30px;position:\x20absolute;',EDPZ);w['src']=oDynamicPic['require'](c,w,!![]),oSym['addTask'](0x32,ClearChild,[w]),g['Destroy'](!![]);}}),oPepperBullet=InheritO(oPeaBullet,{'EName':'oPepperBullet','CanAttackCheck'(){},'autoShadow':![],'Attack':0x10,'Width':0x21,'isBackwardstart':0x1,'Move'(g,i){!g['_ZJudgeFun']&&(g['_ZJudgeFun']=D=>{var V,J;return D['isPuppet']||D['height']-((V=(J=D['HeadTargetPosition'][D['isAttacking']])===null||J===void 0x0?void 0x0:J['y'])!==null&&V!==void 0x0?V:0x0)-D['DivingDepth']>Math['abs'](g['pixelTop']+g['Width']*1.5-GetY(g['R']))&&D['pixelTop']+D['height']>g['pixelTop'];});let c=g['id'],w=g['Ele'],I=g['Attack'],Q=g['Direction'],k=g['pixelLeft'],f=k+g['Speed']*(-Q*0x2+0x1)*i,G=g['R'],z=g['PeaProperty'],e=GetC(k),X=GetC(f),F=oGd['$Obstacle'],H=oGd['$Portals'],W=g['GetPortal'](G,X,H,Q,g['start'],g['isBackwardstart']),x=W[0x0],r=W[0x1],t=Q*g['Speed'],U=i>0x5?oZ['getZ'+Q+'Spd'](g,G,g['_ZJudgeFun'],i):oZ['getZ'+Q](k+g['Width'],G,g['_ZJudgeFun']);if(F[G+'_'+e]&&g['C']!=e)g['Destroy']();else{var u,O;if(!(x>-0x1&&r>-0x1&&H[r][x])&&U&&U['height']-((u=(O=U['HeadTargetPosition'][U['isAttacking']])===null||O===void 0x0?void 0x0:O['y'])!==null&&u!==void 0x0?u:0x0)-U['DivingDepth']>0x50&&U['Altitude']==0x1&&!U['Ethereal'])U['getPea'](U,I,Q),g['Die'](g);else{if(x>-0x1&&r>-0x1&&H[r][x]){let D=g['EnterPortal'](g,G,e,H,r,x);D[0x0]>-0x1&&([G,e,g['pixelLeft']]=D,g['isBackwardstart']=0x0);}k=g['pixelLeft']+=g['Speed']*(-Q*0x2+0x1)*i,w['style']['setProperty']('z-index',''+g['zIndex']),w['style']['setProperty']('transform','rotateY('+(g['Direction']?0xb4:0x0)+'deg)\x20translateX('+(k-g['oriLeft'])*(g['Direction']?-0x1:0x1)+'px)\x20translateY('+(g['pixelTop']-g['oriTop'])+'px)');}}},'Die'(g){let i=NewImg(g['id']+'_die',null,'left:\x20'+(g['pixelLeft']-g['Direction']*0x25)+'px;\x20top:\x20'+(g['pixelTop']-0xf)+'px;\x20z-index:'+g['zIndex']+';position:absolute;',EDPZ);i['src']=oDynamicPic['require'](g['PicArr'][g['SplashGif']],i,!![]),oSym['addTask'](0x32,ClearChild,[i]),g['Destroy'](!![]);}}),oThrowBullet=InheritO(CBullets,{'EName':'oThrowBullet','Width':0x0,'Height':0x0,'YAxisVelocity':-0xa,'Gravity':0.2,'imgRotate':-Math['PI']/0x2,'currentRotate':-Math['PI']/0x2,'rotateType':0x0,'Update'(g,i=0x1){if(g['CheckDie'](g)){g['Destroy'](g);return;}$User['TaskForceTimeSync']?g['Move'](g,i)&&(g['liveTime']+=i):$User['LowPerformanceMode']?g['Move'](g,i)&&(g['liveTime']+=i):g['liveTime']%0x2==0x0?g['Move'](g,i*0x2)&&g['liveTime']++:g['liveTime']++;},'getTotalTime'(g,i,c){let[w,I]=i,[Q,k]=c,f=Math['abs'](g['YAxisVelocity']/g['Gravity']),G=I-0x1/0x2*g['Gravity']*f**0x2,z=k-G,e=Math['sqrt'](0x2*Math['abs'](z)/g['Gravity']);return f+e;},'getRelativePos'(g,i){var c;const w=i['HeadTargetPosition'];let I=(c=w[i['isAttacking']])!==null&&c!==void 0x0?c:w[0x0],Q=i['pixelTop']+i['DivingDepth']+I['y']-g['Height'],k=I['x'],f=i['WalkDirection']?i['width']-k:k,G=i['X']+f-g['Width'];return[G,Q];},'Birth'(g=[],i,c,w,I,Q,k,f=0x14,G={}){var z;let e=this,F=(Q!==null&&Q!==void 0x0?Q:e['EName'])+'_'+Math['random']();e['id']=F,e['Attack']=f,e['pixelTop']=c,e['oriLeft']=e['pixelLeft']=i,e['PicArr']=(z=e['PicArr'])!==null&&z!==void 0x0?z:g,e['R']=w,e['zIndex']=I!==null&&I!==void 0x0?I:0x3*w+0x1;let H=e['getRelativePos'](e,k);return e['YAxisVelocity']*=Math['Clamp'](Math['abs']((H[0x0]-i)/0x190),0.8,0x1),e['throwTotalTime']=e['getTotalTime'](e,[i,c],H),e['zombieTarget']=k,e['rotateSpeed']=Math['DegToRad']*(Math['random']()*0x3+0x2),e['Ele']=NewImg(F,e['PicArr'][e['NormalGif']],'left:'+e['pixelLeft']+'px;top:'+e['pixelTop']+'px;z-index:'+e['zIndex']+';transform:rotate('+e['currentRotate']+'rad);',EDPZ),!$User['LowPerformanceMode']&&(e['EleShadow']=NewEle(F+'_Shadow','div','opacity:0.5;background-size:29px;background-repeat:\x20no-repeat;width:29px;left:'+(e['pixelLeft']+0xf)+'px;top:'+(GetY(e['R'])-0x14)+'px;z-index:1;',{'className':'Shadow'},EDPZ)),Object['assign'](e,G),oBu['add'](e,F),e['privateBirth'](e),e;},'Move'(g,i){let c=g['Ele'],[w,I]=[g['pixelLeft'],g['pixelTop']],[Q,k]=g['getRelativePos'](g,g['zombieTarget']);g['YAxisVelocity']+=g['Gravity']*i;let f=g['pixelLeft']=Math['LerpUnclamped'](g['oriLeft'],Q,g['liveTime']/g['throwTotalTime']),G=g['pixelTop']+=(g['YAxisVelocity']-g['Gravity']/0x2*i)*i;$Z[g['zombieTarget']['id']]&&g['YAxisVelocity']>0x0&&(G=g['pixelTop']=Math['min'](k+0x1,g['pixelTop']));let z;g['rotateType']==0x0?z=g['currentRotate']=Math['atan2'](G-I,f-w)+g['imgRotate']:z=g['currentRotate']+=g['rotateSpeed']*i;c['setAttribute']('style','left:\x20'+f+'px;\x20top:\x20'+G+'px;\x20transform:\x20rotate('+z+'rad);\x20z-index:\x20'+g['zIndex']+';');g['EleShadow']&&g['EleShadow']['style']['setProperty']('left',f+0xf+'px');!$Z[g['zombieTarget']['id']]&&(k=GetY(g['zombieTarget']['R'])-0x5a);if(f>=Q&&(Q<=g['oriLeft']||G>=k&&g['YAxisVelocity']>0x0)||Math['abs'](Q-g['oriLeft'])<0x1e)return g['AttackZombie'](g,c),![];return!![];},'AttackZombie'(g,i){}}),oAloeBullet=InheritO(oThrowBullet,{'EName':'oAloeBullet','Width':0x16,'Height':0x23,'Attack':0xa0,'imgRotate':1.2494,'currentRotate':1.2494,'PicArr':['images/Plants/IceAloe/Bullet.webp','images/Plants/IceAloe/BulletHit.webp'],'AttackZombie'(g,i){if(i){let I=NewImg(g['id']+'_die',null,'left:'+(g['pixelLeft']-0x28)+'px;top:'+(g['pixelTop']-0x14)+'px;z-index:'+g['zIndex']+';',EDPZ);I['src']=oDynamicPic['require'](g['PicArr'][g['SplashGif']],i),ClearChild(i),oSym['addTask'](0x46,ClearChild,[I]);}let[c,w]=g['getRelativePos'](g,g['zombieTarget']);for(let Q of oZ['getArZ'](c-0x2d,c+0x5a,g['zombieTarget']['R'])){if(Q['Altitude']<0x0||Q['Altitude']>0x1||Q['Ethereal'])continue;Q['getSlow'](Q,0x5dc),Q['getHit2'](Q,g['Attack']);}g['EleShadow']&&oEffects['fadeOut'](g['EleShadow'],0.1/oSym['NowSpeed'],ClearChild),g['Die'](g,![]);}}),oCabbageBullet=InheritO(oThrowBullet,{'EName':'oCabbageBullet','Width':0x1d,'Height':0x1e,'Attack':0x28,'currentRotate':Math['PI']/0x3,'rotateType':0x1,'PicArr':['images/Plants/Cabbage/Bullet.png','images/Plants/Cabbage/bulletHit.webp'],'HitZombie'(g,i){g['getPea'](g,0x0),g['getHit2'](g,i['Attack']);},'AttackZombie'(g,i){if(i){let w=NewImg(g['id']+'_die',null,'left:'+g['pixelLeft']+'px;top:'+g['pixelTop']+'px;z-index:'+g['zIndex']+';',EDPZ);w['src']=oDynamicPic['require'](g['PicArr'][g['SplashGif']],i),ClearChild(i),oSym['addTask'](0x46,ClearChild,[w]);}g['EleShadow']&&oEffects['fadeOut'](g['EleShadow'],0x1/oSym['NowSpeed'],ClearChild);let c=g['zombieTarget'];$Z[c['id']]&&c['Altitude']>=0x0&&c['Altitude']<=0x1&&!c['Ethereal']&&g['HitZombie'](c,g),g['Die'](g,![]);}}),oKernelBullet=InheritO(oThrowBullet,{'EName':'oKernelBullet','Width':0x13,'Height':0x5,'Attack':0x14,'currentRotate':Math['PI']/0x3,'rotateType':0x1,'isButter':![],'PicArr':['images/Plants/KernelPult/corn.webp','images/Plants/KernelPult/corn_hit.webp'],'HitZombie'(g,i){i['isButter']?(oAudioManager['playAudio']('butter'),g['getButter'](),g['getHit2'](g,i['Attack'])):(oAudioManager['playAudio']('kernelpult'+Math['floor'](Math['random']()*0x2+0x1)),g['getHit2'](g,i['Attack']));},'AttackZombie'(g,i){if(i){let w=g['pixelLeft'],I=g['pixelTop'],[Q,k]=g['getRelativePos'](g,g['zombieTarget']);Math['abs'](Q-g['oriLeft'])<0x1e&&$Z[g['zombieTarget']['id']]&&(w=Q,I=k);let f=NewImg(g['id']+'_die',null,'left:'+w+'px;top:'+I+'px;z-index:'+g['zIndex']+';',EDPZ);f['src']=oDynamicPic['require'](g['PicArr'][g['SplashGif']],i),ClearChild(i),oSym['addTask'](0xd,ClearChild,[f]);}g['EleShadow']&&oEffects['fadeOut'](g['EleShadow'],0x1/oSym['NowSpeed'],ClearChild);let c=g['zombieTarget'];$Z[c['id']]&&c['beAttacked']&&c['Altitude']>=0x0&&c['Altitude']<=0x1&&!c['Ethereal']&&g['HitZombie'](c,g),g['Die'](g,![]);}}),oButterBullet=InheritO(oKernelBullet,{'EName':'oButterBullet','isButter':!![],'PicArr':['images/Plants/KernelPult/butter.webp','images/Plants/KernelPult/butter_hit.webp'],'Width':0x5,'Height':0xa,'Attack':0x28}),oMelonBullet=InheritO(oThrowBullet,{'Width':0xa,'Height':0x14,'AudioArr':['melonimpact1','melonimpact2'],'PicArr':['images/Plants/MelonPult/bullet.webp'],'AttackZombie'(g,c){const w=g['zombieTarget'],I=g['pixelLeft'],Q=g['pixelTop'],k=g['R'];oAudioManager['playAudio'](g['AudioArr']['random']());$Z[w['id']]&&w['Altitude']>=0x0&&w['Altitude']<=0x1&&!w['Ethereal']&&w['getHit2'](w,g['Attack']);for(let z=Math['max'](0x1,k-0x1);z<=Math['min'](k+0x1,0x5);z++){for(let e of oZ['getArZ'](I-0x32,I+0x46,z)){if(e['Altitude']<0x0||e['Altitude']>0x1||e===w||e['Ethereal'])continue;let X=g['Attack'];e['isPuppet']&&(X+=0x3c),e['getHit2'](e,e['isPuppet']?Math['floor'](X/1.5):Math['floor'](X/0x3));}}let f=[],G=GetC(w['ZX']);for(let F=0x0;F<Math['round'](0x5+Math['random']()*0x4);F++){let H=0x1-Math['random']()*3.5,W=0.2,x=Math['random']()*0x4-0x2,r=Math['random']()*0.25*(x>0x0?0x1:-0x1),t=Math['random']()*0.8+0x1,U=0x32,u=U+Math['random']()*0x12-0x9,O=GetY(k)-0xa-(Q-0x14)+(u-U);f['push']({'src':'images/Plants/MelonPult/piece'+(0x1+Math['floor'](Math['random']()*0x7))+'.webp','rotate':Math['random']()*0x168,'x':0x32+Math['random']()*0x12-0x9,'y':u,'width':Math['round'](0x12+(Math['random']()*0x6-0x2)*1.5),'height':Math['round'](0x12+(Math['random']()*0x6-0x2)*1.5),'move'(){let D=this;D['x']+=x,D['y']+=H,H+=W,D['y']=Math['min'](O,D['y']),D['y']==O&&(oGd['$GdType'][k][G]!=0x2?(H=-H/0x3,r/=1.2):t-=0.1),D['rotate']+=r,D['alpha']=Math['max'](0x0,Math['min'](t,0x1)),t-=0.05;}});}oEffects['Particle']({'height':0xc8,'width':0x64,'wrap':EDPZ,'style':'left:'+(-oS['EDAllScrollLeft']+I-0x2d)+'px;top:'+(Q-0x28)+'px;z-index:'+g['zIndex'],'canvasFunction'(D){oSym['addTask'](0x2d,V=>{oEffects['fadeOut'](D,0.25/oSym['NowSpeed'],ClearChild);});},'objects':f}),g['Die'](g);}});var oEichhorniaBullet=InheritO(oCabbageBullet,{'EName':'oEichhorniaBullet','OwnerPlant':null,'PicArr':['images/Plants/Eichhornia/bullet.webp','images/Plants/Eichhornia/bulleteffect.webp'],'privateBirth'(g){g['EleShadow']&&SetStyle(g['EleShadow'],{'width':'86px','height':'36px','transform':'scale(0.75)','background-size':'auto','top':GetY(g['R'])-0x1e+'px'});},'HitZombie'(g,i){g['getPea'](g,0x0),g['getHit2'](g,i['Attack']),i['OwnerPlant']&&$Z[g['id']]&&g['FreeSlowTime']+g['FreeFreezeTime']>0x0&&(i['OwnerPlant']['HP']=Math['min'](i['OwnerPlant']['HP']+0x32,i['OwnerPlant']['maxHP']));}}),oShiitakeBullet=InheritO(oPeaBullet,{'EName':'oShiitakeBullet','Speed':0x6,'Width':0x28,'autoShadow':!![],'Attack':0xc8,'privateBirth'(g){g['start']+=0x50;},'Move'(g,i){!g['_ZJudgeFun']&&(g['_ZJudgeFun']=t=>{var U,u;return!t['isGoingDie']&&t['beAttacked']&&!t['Ethereal']&&t['Altitude']===0x1&&(t['isPuppet']||t['height']-((U=(u=t['HeadTargetPosition'][t['isAttacking']])===null||u===void 0x0?void 0x0:u['y'])!==null&&U!==void 0x0?U:0x0)-t['DivingDepth']>Math['abs'](g['pixelTop']+g['Width']*1.5-GetY(g['R']))&&t['pixelTop']+t['height']>g['pixelTop']);});let c=g['id'],w=g['Ele'],I=g['Attack'],Q=g['Direction'],k=g['pixelLeft'],f=k+g['Speed']*(-Q*0x2+0x1)*i,G=g['R'],z=GetC(k),e=GetC(f),X=oGd['$Obstacle'],F=oGd['$Portals'],H=g['GetPortal'](G,e,F,Q,g['start']),W=H[0x0],x=H[0x1],r=i>5.1?oZ['getZ'+Q+'Spd'](g,G,g['_ZJudgeFun'],i):oZ['getZ'+Q](k+g['Width'],G,g['_ZJudgeFun']);;if(X[G+'_'+z]&&g['C']!==z)g['Destroy']();else{if(r&&!(W>-0x1&&x>-0x1&&F[x][W])){oAudioManager['playAudio']('shiitakeHit'),r['getHit0'](r,this['Attack'],0x0);if(r['EName']==='oSculpture')r['Move'](![],0x0,'right');else!g['isPuppet']&&r['Bounce']({'velocity':-1.5,'distance':1.45+(Math['random']()-0.35)/0x2});g['Die'](g);}else{if(W>-0x1&&x>-0x1&&F[x][W]){let t=g['EnterPortal'](g,G,z,F,x,W);t[0x0]>-0x1&&([G,z,g['pixelLeft']]=t);}k=g['pixelLeft']+=g['Speed']*(-Q*0x2+0x1)*i,w['style']['setProperty']('z-index',''+g['zIndex']),w['style']['setProperty']('transform','translateX('+(k-g['oriLeft'])+'px)\x20translateY('+(g['pixelTop']-g['oriTop'])+'px)'),g['EleShadow']&&g['EleShadow']['style']['setProperty']('transform','translateX('+(k-g['oriLeft']+0x51)+'px)\x20translateY('+(g['pixelTop']-g['oriTop'])+'px)');}}},'Die'(g){let i=g['id']+'_die',c='images/Plants/Shiitake/bulletHit.webp',w=NewImg(i,null,'left:'+g['pixelLeft']+'px;top:'+g['pixelTop']+'px;\x20z-index:'+g['zIndex']+';position:absolute;',EDPZ);w['src']=oDynamicPic['require'](c,w,!![]),oSym['addTask'](0x14,ClearChild,[w]),g['Destroy'](g);}}),oMonotropaBullet=InheritO(oPeaBullet,{'EName':'oMonotropaBullet','Width':0xe,'autoShadow':!![],'Attack':0x14,'SunPower':0xa,'PicArr':['images/Plants/Monotropa/Bullet.png','images/Plants/Monotropa/BulletHit.png'],'Move'(g,i){!g['_ZJudgeFun']&&(g['_ZJudgeFun']=t=>{var U,u;return t['isPuppet']||t['height']-((U=(u=t['HeadTargetPosition'][t['isAttacking']])===null||u===void 0x0?void 0x0:u['y'])!==null&&U!==void 0x0?U:0x0)-t['DivingDepth']>Math['abs'](g['pixelTop']+g['Width']*1.5-GetY(g['R']))&&t['pixelTop']+t['height']>g['pixelTop'];});let c=g['id'],w=g['Ele'],I=g['Attack'],Q=g['Direction'],k=g['pixelLeft'],f=k+g['Speed']*(-Q*0x2+0x1)*i,G=g['R'],z=GetC(k),e=GetC(f),X=oGd['$Obstacle'],F=oGd['$Portals'],H=g['GetPortal'](G,e,F,Q,g['start']),W=H[0x0],x=H[0x1],r=i>5.1?oZ['getZ'+Q+'Spd'](g,G,g['_ZJudgeFun'],i):oZ['getZ'+Q](k+g['Width'],G,g['_ZJudgeFun']);if(X[G+'_'+z]&&g['C']!==z)g['Destroy']();else{if(r&&r['Altitude']==0x1&&!r['Ethereal']&&!(W>-0x1&&x>-0x1&&F[x][W])){r['getPea'](r,g['Attack'],Q);if(oS['StaticCard']){const t=AppearSun(g['pixelLeft']+g['Width'],g['pixelTop']+0x4,g['SunPower'],0x0,GetY(g['R'])-(g['pixelTop']+0x4)-0x1e-Math['random']()*0xa,-0x32,0x30,0x48);oSym['addTask'](0x64,ClickSun,[t['id']]);}g['Die'](g);}else{if(W>-0x1&&x>-0x1&&F[x][W]){let U=g['EnterPortal'](g,G,z,F,x,W);U[0x0]>-0x1&&([G,z,g['pixelLeft']]=U);}k=g['pixelLeft']+=g['Speed']*(-Q*0x2+0x1)*i,w['style']['setProperty']('z-index',''+g['zIndex']),w['style']['setProperty']('transform','translateX('+(k-g['oriLeft'])+'px)\x20translateY('+(g['pixelTop']-g['oriTop'])+'px)'),g['EleShadow']&&g['EleShadow']['style']['setProperty']('transform','translateX('+(k-g['oriLeft']+0x19)+'px)\x20translateY('+(g['pixelTop']-g['oriTop'])+'px)');}}},'Die'(g){let i=g['id']+'_die',c='images/Plants/Monotropa/BulletHit.png',w=NewImg(i,null,'left:'+(g['pixelLeft']+0x11)+'px;top:'+(g['pixelTop']-6.5)+'px;\x20z-index:'+g['zIndex']+';position:absolute;',EDPZ);w['src']=g['PicArr'][g['SplashGif']],oSym['addTask'](0xa,ClearChild,[w]),g['Destroy'](g);}}),oXshooterLeaf=InheritO(CBullets,{'EName':'oXshooterLeaf','Width':0x16,'Attack':0x11,'autoShadow':![],'Direction':0x0,'Speed':0x4,'liveTime_oSymStep':0x0,'PicArr':['images/Plants/Xshooter/Bullet_Leaf.webp','images/Plants/Xshooter/Bullet_Leaf_Splash.webp'],'privateBirth'(g,i){g['amplitude']=i['amplitude'],g['zombieTarget']=i['zombieTarget'],g['flyingTotalTime']=(g['zombieTarget']['ZX']-g['oriLeft'])/g['Speed'];},'getPosition'(){const g=this['liveTime_oSymStep']/this['flyingTotalTime'],i=0x4*Math['PI'];return Math['sin'](i*g)*this['amplitude']*oSym['NowSpeed'];},'checkZombie'(g){if(g['Ethereal'])return;return Math['inRange'](g['Altitude'],0x1,0x2);},'Move'(g,i){let c=g['zombieTarget']['ZX'],w=g['pixelLeft'],I=g['pixelTop'],Q=i<5.1?oZ['getZ0'](w+0x8,g['R'],g['checkZombie'],i):oZ['getZ0Spd'](g,g['R'],g['checkZombie'],i);if(Q)Q['getPea'](Q,g['Attack'],g['Direction']),g['Die'](g);else{let k=g['oriLeft'],f=g['pixelLeft']+=g['Speed']*i;g['liveTime_oSymStep']+=oSym['NowSpeed'];let G=g['pixelTop']+=g['getPosition'](),z=g['R']=GetR(G+0xf),e=g['zIndex']=0x3*z+0x1,X=Math['atan'](G-I,f-w);g['Ele']['setAttribute']('style','left:\x20'+f+'px;\x20top:\x20'+G+'px;\x20z-index:\x20'+e+';\x20transform:\x20'+($User['LowPerformanceMode']?'none':'rotate('+X+'rad)')+';');}},'Die'(g){let i=g['id']+'_die',c=g['PicArr'][g['SplashGif']],w=NewImg(i,null,g['Ele']['style']['cssText'],EDPZ);w['src']=$User['LowPerformanceMode']?c:oDynamicPic['require'](c,w,!![]),oSym['addTask'](0x11,ClearChild,[w]),g['Destroy'](g);}}),oXshooterFlower=InheritO(oXshooterLeaf,{'EName':'oXshooterFlower','moveType':0x1,'horizontalDirection':0x1,'Attack':0x11,'Attack_horiDir':0x50,'PicArr':['images/Plants/Xshooter/Bullet_Flower.webp','images/Plants/Xshooter/Bullet_Flower_Splash.webp'],'privateBirth'(g,i){var c;let w=g['zombieTarget']=i['zombieTarget'];g['verticalDirection']=i['verticalDirection'];let I=w['ZX']-g['oriLeft'],Q=g['maxVerticalHeight']=(c=i['maxVerticalHeight'])!==null&&c!==void 0x0?c:I>0x8c?0x64:0x32*I/0x8c;g['Speed']=0x4*Q/0x64;},'CheckDie'(g){let i=g['pixelLeft'],c=g['pixelTop'];if(i>0x3e8||i<0x0||c>0x2bc||c<-0x64)return!![];return![];},'Move'(g,i){let c=g['oriLeft'],w=g['oriTop'],I=g['pixelLeft'],Q=g['pixelTop'],k=g['Speed'],f=g['R'],G,z,e=g['moveType'],X=g['verticalDirection'],F=g['horizontalDirection'],H=g['zombieTarget'],W=g['Width'];switch(g['moveType']){case 0x1:{let U=g['Speed']=Math['max'](k-0.1*i,1.5),u=g['maxVerticalHeight'];U*=i,G=I+U,z=w+X*Math['sqrt'](Math['abs'](G-c))*0xa;(X<0x0?z<=w-u||z<=0x32:z>=w+u||z>=0x24e)&&g['moveType']++;break;}case 0x2:{if($Z[H['id']]){let O=g['Speed']=Math['max'](k-0.03*i,0.08);O*=i,G=I+O,z=w+X*Math['sqrt'](Math['abs'](G-c))*0xa,g['Speed']<=0.08&&g['moveType']++;}else{g['moveType']=0x4;return;}break;}case 0x3:{const D=H['ZX'];if($Z[H['id']]){let V=g['Speed']=Math['min'](k+0.2*i,0x7);V*=i,F=g['horizontalDirection']=D>I?0x1:-0x1,G=I+F*V;let Z=g['targetPointY'],J=g['tangent'];if(isNullish(Z)){var x;let d=g['oriDistX']=Math['abs'](D-I),y=(x=H['HeadTargetPosition'][H['isAttacking']])!==null&&x!==void 0x0?x:H['HeadTargetPosition'][0x0];Z=g['targetPointY']=H['pixelTop']+(y['y']+H['height'])/0x2;let L=g['oriDistY']=Math['abs'](Z-Q);X=g['verticalDirection']=Z>Q?0x1:-0x1,J=g['tangent']=L/d;}z=Q+X*J*V;if(g['HitTargetZombieCheck'](I,Q,G,z,D,Z)){g['checkZombie'](H)?(H['getPea'](H,g['Attack'],F===0x1?0x0:0x1),g['Die'](g)):g['moveType']=0x4;return;}}else{g['horizontalDirection']=D<I?-0x1:0x1,g['moveType']=0x4;return;}break;}case 0x4:{let l=g['Speed']+=0.2*i;l*=i,G=I+F*l,z=Q;let h=F===0x1?0x0:0x1,Y=i<=5.1?oZ['getZ'+h](I+(F===0x1?0x1:0x0)*W,f,g['checkZombie']):oZ['getZ'+h+'Spd'](g,f,g['checkZombie'],i);if(Y){Y['getPea'](Y,g['Attack_horiDir'],h),g['Die'](g);return;}break;}}let r=g['R']=GetR(z+0xf),t=Math['atan2'](z-Q,G-I);g['pixelLeft']=G,g['pixelTop']=z,g['Ele']['setAttribute']('style','z-index:\x20'+g['zIndex']+';\x20left:\x20'+G+'px;\x20top:\x20'+z+'px;\x20transform:\x20'+($User['LowPerformanceMode']?'none':'rotate('+t+'rad)'));},'HitTargetZombieCheck'(g,i,c,w,I,Q){let k=new Vector2(c-g,w-i),f=new Vector2(I-g,Q-i),G=Vector2['Dot'](k,f);if(G<0x0)return![];let z=k['sqrMagnitude'];if(G>z)return![];return!![];}}),oCranberryHorizontalBullet=InheritO(oPepperBullet,{'EName':'oCranberryHorizontalBullet','Width':0x19,'PicArr':['images/Plants/Cranberry/Bullet.webp','images/Plants/Cranberry/BulletHit.webp'],'privateBirth'(g,i){g['Speed']=i['Speed'];},'Die'(g){let i=g['id']+'_die',c=NewImg(i,null,'left:\x20'+(g['pixelLeft']+g['Width']-0x32)+'px;\x20top:\x20'+g['pixelTop']+'px;\x20z-index:'+g['zIndex']+';position:\x20absolute;',EDPZ);c['src']=oDynamicPic['require'](g['PicArr'][g['SplashGif']],c,!![]),oSym['addTask'](0x22,ClearChild,[c]),g['Destroy'](g);}}),oCranberryThrowBullet=InheritO(oCabbageBullet,{'EName':'oCranberryThrowBullet','Width':0x19,'Height':0x19,'PicArr':['images/Plants/Cranberry/Bullet.webp','images/Plants/Cranberry/BulletHit.webp'],'HitZombie'(g,i){g['getPea'](g,0x0),g['getHit0'](g,i['Attack']);},'AttackZombie'(g,i){if(i){let w=NewImg(g['id']+'_die',null,'left:'+g['pixelLeft']+'px;top:'+(g['pixelTop']+g['Height']-0x19)+'px;z-index:'+g['zIndex']+';transform:\x20rotate(90deg);',EDPZ);w['src']=oDynamicPic['require'](g['PicArr'][g['SplashGif']],i),ClearChild(i),oSym['addTask'](0x22,ClearChild,[w]);}g['EleShadow']&&oEffects['fadeOut'](g['EleShadow'],0x1/oSym['NowSpeed'],ClearChild);let c=g['zombieTarget'];$Z[c['id']]&&c['Altitude']>=0x0&&c['Altitude']<=0x1&&!c['Ethereal']&&g['HitZombie'](c,g),g['Die'](g,![]);}}),oAyTsaoBullet=InheritO(CBullets,{'EName':'oAyTsaoBullet','Speed':0x5,'Direction':0x0,'Width':0x20,'Attack':0x190,'MoveAttack':0x32,'Scale':1.3,'privateBirth'(g,i){g['ZList']={},g['start']+=0x50;},'Move'(g,i){if(!g['_ZJudgeFun'])g['_ZJudgeFun']=U=>{var u,O;return!g['ZList'][U['id']]&&(U['isPuppet']||U['height']-((u=(O=U['HeadTargetPosition'][U['isAttacking']])===null||O===void 0x0?void 0x0:O['y'])!==null&&u!==void 0x0?u:0x0)-U['DivingDepth']>Math['abs'](g['pixelTop']+g['Width']*1.5-GetY(g['R']))&&U['pixelTop']+U['height']>g['pixelTop']);};let c=g['id'],w=g['Ele'],I=g['Direction'],Q=g['pixelLeft'],k=Q+g['Speed']*[0x1,-0x1][I]*i,f,G=g['R'],z=GetC(Q),e=GetC(k),X=oGd['$Obstacle'],F=oGd['$Portals'],H=g['GetPortal'](G,e,F,I,g['start']),W=H[0x0],x=H[0x1],r=g['Speed']*[0x1,-0x1][I]*i,t;if(r>0x0)t=oZ['getArZ'](Q+g['Width']-r,Q+g['Width'],G,g['_ZJudgeFun']);else t=oZ['getArZ'](Q+g['Width'],Q+g['Width']-r,G,g['_ZJudgeFun']);for(let U of t){if(W>-0x1&&x>-0x1&&F[x][W])break;U&&U['Altitude']==0x1&&!U['Ethereal']&&!g['ZList'][U['id']]&&((U['FreeSlowTime']||U['FreeFreezeTime']||U['FreeVertigoTime'])&&U['getFreeze'](void 0x0,void 0x0,void 0x0,0x0),U['getSlow'](U,0x5dc),U['getPea'](U,g['Attack'],I),g['ZList'][U['id']]=!![],g['Scale']-=0.15,g['Attack']=Math['Clamp'](g['Attack']-g['MoveAttack'],0x0,Infinity));}f=g['Speed']*[0x1,-0x1][I]*i,g['pixelLeft']+=f;if(W>-0x1&&x>-0x1&&F[x][W]){let u=g['EnterPortal'](g,G,z,F,x,W);u[0x0]>-0x1&&([G,z,g['pixelLeft']]=u);}w['style']['setProperty']('z-index',''+g['zIndex']),w['style']['setProperty']('transform','translateX('+(g['pixelLeft']-g['oriLeft'])+'px)\x20translateY('+(g['pixelTop']-g['oriTop'])+'px)\x20scale('+g['Scale']+')'),g['Attack']==0x0&&g['Destroy']();}}),oPricklyRoseBullet=InheritO(CBullets,{'EName':'oPricklyRoseBullet','Speed':0x5,'Direction':0x0,'Width':0x20,'Attack':0x14,'isBackwardstart':0x1,'privateBirth'(g,i){g['ZList']={},g['start']+=0x32;},'Move'(g,i){if(!g['_ZJudgeFun'])g['_ZJudgeFun']=U=>{var u,O;return!g['ZList'][U['id']]&&(U['isPuppet']||U['height']-((u=(O=U['HeadTargetPosition'][U['isAttacking']])===null||O===void 0x0?void 0x0:O['y'])!==null&&u!==void 0x0?u:0x0)-U['DivingDepth']>Math['abs'](g['pixelTop']+g['Width']*1.5-GetY(g['R']))&&U['pixelTop']+U['height']>g['pixelTop']);};let c=g['id'],w=g['Ele'],I=g['Direction'],Q=g['pixelLeft'],k=Q+g['Speed']*[0x1,-0x1][I]*i,f,G=g['R'],z=GetC(Q),e=GetC(k),X=oGd['$Obstacle'],F=oGd['$Portals'],H=g['GetPortal'](G,e,F,I,g['start'],g['isBackwardstart']),W=H[0x0],x=H[0x1],r=g['Speed']*[0x1,-0x1][I]*i,t;if(r>0x0)t=oZ['getArZ'](Q+g['Width']-r,Q+g['Width'],G,g['_ZJudgeFun']);else t=oZ['getArZ'](Q+g['Width'],Q+g['Width']-r,G,g['_ZJudgeFun']);for(let U of t){if(W>-0x1&&x>-0x1&&F[x][W])break;U&&U['Altitude']==0x1&&!U['Ethereal']&&!g['ZList'][U['id']]&&(U['getEroded'](U,g['Attack'],void 0x0,void 0x0,I),g['ZList'][U['id']]=!![]);}f=g['Speed']*[0x1,-0x1][I]*i,g['pixelLeft']+=f;if(W>-0x1&&x>-0x1&&F[x][W]){let u=g['EnterPortal'](g,G,z,F,x,W);u[0x0]>-0x1&&([G,z,g['pixelLeft']]=u,g['isBackwardstart']=0x0);}w['style']['setProperty']('z-index',''+g['zIndex']),w['style']['setProperty']('transform','rotateY('+(g['Direction']?0xb4:0x0)+'deg)\x20translateX('+(Q-g['oriLeft'])*(g['Direction']?-0x1:0x1)+'px)\x20translateY('+(g['pixelTop']-g['oriTop'])+'px)'),g['ZList']['length']>0x2&&g['Destroy']();}});