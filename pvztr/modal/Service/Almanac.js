'use strict';{jngTemplate['require']('dAlmanac');const CardArea=$('dCardArea'),ImageBox=$('dImageBox'),TextArea=$('dTextArea'),CNameSpan=$('sCName'),PlantCardHash=new Map();let tmpPlant,tempPlantCardDom;const InitPCard=()=>{let g=![];for(let i of AllCommonPlantsArr['concat'](AllExpPlantsArr)){let c=i['prototype'],w=NewEle('ACard_'+c['EName'],'div','background-image:url('+c['PicArr'][c['CardGif']]+');',{'className':'plantCard','onclick'(){oAudioManager['playAudio']('tap'),tempPlantCardDom!==this&&(tempPlantCardDom&&(tempPlantCardDom['style']['filter']=''),this['style']['filter']='brightness(70%)',tempPlantCardDom=this,ViewPlantAlmanac(i,c));}},CardArea);w['innerHTML']='<span\x20class=\x22cardSunNum2\x22>'+c['SunNum']+'</span>',!g&&(g=!![],w['click']());}},ViewPlantAlmanac=(g,i)=>{var c;tmpPlant&&tmpPlant['Die']('JNG_TICKET_SuperPower'),SetStyle(EDPZ,{'top':'110px','left':'270px'}),tmpPlant=CustomSpecial(g,0x1,0x6),CNameSpan['innerText']=i['CName'];let w=$(tmpPlant['id'])['childNodes'][0x1];if(tmpPlant['Immediately']){var I;w['src']=tmpPlant['PicArr'][(I=tmpPlant['AlmanacGif'])!==null&&I!==void 0x0?I:tmpPlant['StaticGif']];}else{var Q;w['src']=tmpPlant['PicArr'][(Q=tmpPlant['AlmanacGif'])!==null&&Q!==void 0x0?Q:tmpPlant['NormalGif']];}TextArea['innerHTML']=''+$__language_Array__['c5a7f34143c1301bb5d18d58b592f0a7'][0x0]+i['SunNum']+$__language_Array__['c5a7f34143c1301bb5d18d58b592f0a7'][0x1]+i['coolTime']+$__language_Array__['c5a7f34143c1301bb5d18d58b592f0a7'][0x2]+i['Tooltip']+$__language_Array__['c5a7f34143c1301bb5d18d58b592f0a7'][0x3]+((c=i['Story'])!==null&&c!==void 0x0?c:$__language_Array__['ef1730a0047f98ccd96842bbbae04d6b']);};let tmpZombieCardDom,tempZombie;const JudgeZombieHP=g=>{if(g>=oGargantuar['prototype']['HP'])return $__language_Array__['aeae171183895fe7ae5a0bc0926b20ec'];else{if(g>=oBucketheadZombie['prototype']['HP']+oBucketheadZombie['prototype']['OrnHP'])return $__language_Array__['3405f2ff186476839537048606e34a36'];else{if(g>=oConeheadZombie['prototype']['HP']+oConeheadZombie['prototype']['OrnHP'])return $__language_Array__['415b5fda854907d4f561e5448369dacd'];else return g>=0x10e?$__language_Array__['30af3c819abc33f89c3702b86711a56b']:$__language_Array__['3c39d9a196dbe95f8c3d5329bc73ae07'];}}},InitZCard=()=>{let g,i=![];for(let c of AllCommonZombiesArr){let w=c['prototype'],I=NewEle('ACard_'+w['EName'],'div','background-image:url('+w['GetCardImg']()+');',{'className':'zombieCard','onclick'(){oAudioManager['playAudio']('tap'),tmpZombieCardDom!==this&&(tmpZombieCardDom&&(tmpZombieCardDom['style']['filter']=''),this['style']['filter']='brightness(70%)',tmpZombieCardDom=this,ViewZombieAlmanac(c,w));}},CardArea);!i&&(I['click'](),i=!![]);}},ViewZombieAlmanac=(g,i)=>{tempZombie=new g(),tempZombie['Init'](GetX(0x8),i,oGd['$ZF'],oS['R']+0x1),CNameSpan['innerText']=tempZombie['CName'],ImageBox['innerHTML']=tempZombie['Almanac']['Dom'],TextArea['innerHTML']=''+tempZombie['Almanac']['Tip']+$__language_Array__['25deacf3fce3c005d212416a54562ac9'][0x0]+JudgeZombieHP(i['HP']+i['OrnHP'])+$__language_Array__['25deacf3fce3c005d212416a54562ac9'][0x1]+tempZombie['Almanac']['Speed']+$__language_Array__['25deacf3fce3c005d212416a54562ac9'][0x2]+tempZombie['Almanac']['Weakness']+$__language_Array__['25deacf3fce3c005d212416a54562ac9'][0x3]+tempZombie['Almanac']['Story'];},oAlmanacPage={'render'(g){CardArea['innerHTML']='',ImageBox['innerHTML']='',TextArea['innerHTML']='';if(g==='plant')InitPCard();else g==='zombie'&&InitZCard();},'show'(g){this['render'](g),SetBlock($('dInfoPage'),EDPZ),SetNone($('dIndexPage'));},'hide'(){SetNone($('dInfoPage'),EDPZ),SetBlock($('dIndexPage')),tmpPlant&&tmpPlant['Die']('JNG_TICKET_SuperPower');}};oS['Init']({'LoadMusic':'diary','PicArr':['images/interface/Almanac_Box.webp','images/interface/Almanac_Select_Background.webp'],'backgroundImage':'images/interface/Almanac_Box.webp','LoadAccess'(){$$('#dAlmanac\x20#dIndexPage\x20#title_plant')['innerText']=$__language_Array__['ab189857516b3064986a1f3e3143f5a2'],$$('#dAlmanac\x20#dIndexPage\x20#title_zombie')['innerText']=$__language_Array__['b42840a21e03a770e61e1c384411ec0d'],$$('#dAlmanac\x20#dInfoPage\x20#bClose')['innerText']=$__language_Array__['5dfd65322ae1dbab19c22cd5ce1b1825'],SetBlock($('dIndexPage')),$('exitButtion')['onclick']=()=>{SetNone($('dIndexPage')),SelectModal('index','Service');},$('icon_plant')['onclick']=()=>{oAudioManager['playAudio']('tap'),oAlmanacPage['show']('plant');},$('icon_zombie')['onclick']=()=>{oAudioManager['playAudio']('tap'),oAlmanacPage['show']('zombie');},$$('#dAlmanac\x20#dInfoPage\x20#bClose')['onclick']=()=>{oAudioManager['playAudio']('tap'),oAlmanacPage['hide']();};}});}