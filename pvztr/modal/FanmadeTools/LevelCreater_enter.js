'use strict';{function setActiveCopy(...g){g['forEach'](i=>{i['oncopy']=i['oncontextmenu']=i['onselectstart']=i['onmousedown']=function(c){c['stopPropagation']();};});}function getCookie(g){let c=document['cookie']['split'](';\x20');for(let w=0x0;w<c['length'];w++){let I=c[w]['split']('=');if(I[0x0]==g)return unescape(I[0x1]);}}oS['Init']({'LoadMusic':'Bgm_Tutorial_Fight','backgroundImage':'images/interface/background1.webp','backgroundMask':'BgMask-Tutorial','LoadAccess':function(g){NewEle('jngButton'+Math['random'](),'a','right:1px;top:1px;z-index:258;position:\x20absolute;',{'className':'jngButton\x20Homepage','onclick'(){SelectModal('Room','AS_Room');}},EDAll),NewEle('jngButton'+Math['random'](),'a','right:80px;top:1px;z-index:258;position:\x20absolute;',{'className':'Describe\x20jngButton','onclick':function(){let z=!CanXHR||DataManager['localStart']?$__language_Array__['356b5d28fd259feedad108fc9aa3d0c3']:'';IsMobile&&z['length']==0x0?z=$__language_Array__['0e220262a2645919da501a8267a5d3f5']:z=$__language_Array__['6c40fc9695242050a5c7533f1fbe5f23'],jngAlert['open']({'text':$__language_Array__['a26b100f0c13c36944cd27c0f1c01711']+z,'shade':!![],'type':0x0});}},EDAll);function c(z){let e;try{e=JSON['parse'](z);}catch(X){let F=z;try{F=decodeURI(atob(z));}catch(H){}e=JSON['parse'](decryptRC4(F,'__JN324G_PVZ123_TRAVEL!%#@$as123'));}return e;}NewEle('','input','position:relative;top:0;left:0;',{'type':'button','value':$__language_Array__['d56785271c733adf3f1b62f865e6323c'],'onclick'(){if(!IsMobile){let z=NewEle('','input','',{'type':'file','accept':'.trLevel','onchange'(){this['files'][0x0]&&k(this['files'][0x0],e=>{Q(e,()=>{sessionStorage['LevelCreater_LevelTmp']=e,SelectModal('LevelCreater','FanmadeTools');},![]);}),ClearChild(z);}});z['click']();}else{let e=NewEle('','input','position:\x20absolute;left:\x200px;width:600px;height:\x2020px;font-size:\x2014pt;',{'type':'text','placeholder':$__language_Array__['c46de98d7884a963e45d1a16c577e718'],'onchange'(){ClearChild(e);if(this['value']){let X;Q(X=this['value'],()=>{sessionStorage['LevelCreater_LevelTmp']=X,SelectModal('LevelCreater','FanmadeTools');},![]);}}},EDAll);setActiveCopy(e);}}},EDAll),NewEle('','input','position:relative;',{'type':'button','value':$__language_Array__['11e815aa1bd46d8a5bb4187167547f83'],'onclick'(){delete sessionStorage['LevelCreater_LevelTmp'],SelectModal('LevelCreater','FanmadeTools');}},EDAll),NewEle('','input','position:relative;top:0;left:0;',{'type':'button','value':$__language_Array__['648ae07a32fa7298e7b6a90c3c83b628'],'onclick'(){if(!IsMobile){let z=NewEle('','input','',{'type':'file','accept':'.trLevel','onchange'(){this['files'][0x0]&&k(this['files'][0x0],e=>{I(e);}),ClearChild(z);}});z['click']();}else{let e=NewEle('','input','position:\x20absolute;left:\x200px;width:600px;height:\x2020px;font-size:\x2014pt;',{'type':'text','placeholder':$__language_Array__['c46de98d7884a963e45d1a16c577e718'],'onchange'(){ClearChild(e);let X;(X=this['value'])&&(sessionStorage['LevelCreater_LevelTmp']=X,I(X));}},EDAll);setActiveCopy(e);}}},EDAll);{var w;let z=NewEle('','select','position:relative;',{},EDAll),e=JSON['parse']((w=localStorage['JNG_PVZTR_FANMADE_SAVES'])!==null&&w!==void 0x0?w:'{}');setActiveCopy(z);{let X={},F=[];for(let H in e){F['push']([H,e[H]]);}F['sort'](function(W,x){return x[0x1]['__LEVEL_SAVE_TIME']-W[0x1]['__LEVEL_SAVE_TIME'];});for(let W=0x0;W<Math['min'](F['length'],0x14);W++){X[F[W][0x0]]=F[W][0x1];}e=X,localStorage['JNG_PVZTR_FANMADE_SAVES']=JSON['stringify'](e);};for(let x in e){NewEle('','option','',{'value':x,'innerText':x},z);}NewEle('','input','position:relative;',{'type':'button','value':$__language_Array__['d2654c158800ecbcf2a76846c29dd725'],'onclick'(){if(!z['value'])return;Q(e[z['value']]['text'],r=>{sessionStorage['LevelCreater_LevelTmp']=r,SelectModal('LevelCreater','FanmadeTools');},![]);}},EDAll),NewEle('','input','position:relative;',{'type':'button','value':$__language_Array__['e74aed70ac3fee94adb00304fb4b6aca'],'onclick'(){if(!z['value'])return;I(e[z['value']]['text']);}},EDAll);};function I(r){{Q(r,t=>{sessionStorage['LevelCreater_LevelTmp']=t,SelectModal('LevelLoader','FanmadeTools');});}}function Q(r,t,U=!![]){delete sessionStorage['LevelCreater_LevelName'];let u=![],O='';if(r!=0x3){try{O=c(r),u=!![];}catch{};}else{u=![];return;}let D=-0x1;D=G(O),u&&(!U||D===-0x1)?t(r):f(D);}function k(r,t){const U=new FileReader();U['readAsText'](r),jngAlert['open']({'text':$__language_Array__['f5dd8c9db6a14a695654cbaa3d309e4f'],'shade':!![],'type':0x0}),SetNone($('next')),U['onload']=function(){jngAlert['close'](),SetBlock($('next')),t(U['result']);};}function f(r){let t=$__language_Array__['ca2c5ed717db81dce6c9552e1791545d'];switch(r){case 0x1:t=$__language_Array__['38b28e2fafdaaf6dccfad7cca465b212'];break;case 0x2:t=$__language_Array__['8420b34edc124d377e994c9110857a29'];break;}jngAlert['open']({'text':t,'shade':!![],'type':0x0});}function G(r){let t=-0x1;if(!r['VaseBreaker']){r['PName']['length']*r['ZName']['length']<=0x0&&(t=0x1);r['FlagToSumNum']['a1']['length']===0x0&&(t=0x2);for(let U=0x1;U<r['FlagToSumNum']['a1']['length'];U++){if(isNaN(Number['parseInt'](r['FlagToSumNum']['a2'][U]))){t=0x2;break;}}}return t;}}});}