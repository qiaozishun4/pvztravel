'use strict';{var _localStorage$LvlStor;const plantCreatingObserver={'isWorking':![],'callback':null,'mo':null,'start'(g){const i=this;if(this['isWorking'])return;i['isWorking']=!![],i['callback']=g!==null&&g!==void 0x0?g:i['callback'],isNullish(i['mo'])&&(i['mo']=new MutationObserver(c=>{c['forEach'](w=>{w['addedNodes']['forEach'](I=>{if($P[I['id']])i['callback']($P[I['id']]);});});})),i['mo']['observe'](EDPZ,{'childList':!![],'subtree':!![]});},'stop'(){this['isWorking']=![],this['mo']['disconnect']();}};let LvlStoreName='JNG_TR_Mirage12_GameProgress',GameMode=(_localStorage$LvlStor=localStorage[LvlStoreName])!==null&&_localStorage$LvlStor!==void 0x0?_localStorage$LvlStor:'Tutorial',CardArr=[],CanSummonCard=![];oS['Init']({'PName':[oPuffShroom,oScaredyShroom,oFumeShroom,oShiitake,oSunShroom,oSunFlower,oMonotropa,oPotatoMine2,oSquash,oCherryBomb,oJalapeno,oDoomShroom,oPeashooter,oSnowPea,oRepeater,oXshooter,oCranberry,oCabbage,oKernelPult,oEichhornia,oMelonPult,oIceAloe,oWallNut,oStoneFlower,oTallNut,oPumpkinHead],'ZName':[oZombie,oConeheadZombie,oBucketheadZombie,oBalloonZombie,oSnorkelerZombie,oThiefZombie,oPeashooterZombie,oWallNutZombie,oMembraneZombie,oMakeRifterZombie,oGargantuar,oFootballZombie,oStrollZombie,oCrystal,oImp2],'LevelName':$__language_Array__['06d011c372cbd30a5dc9cf9e8c35255e'],'backgroundImage':'images/interface/Mirage.webp','LoadMusic':'Bgm_Mirage_Ready','StartGameMusic':'Bgm_Mirage_Challenge','CanSelectCard':0x0,'StaticCard':0x0,'LoadAccess':g=>{if(GameMode!=='Tutorial')jngAlert['open']({'text':$__language_Array__['698f11458b82d24129bf784333138fc3'],'shade':!![],'nextHandler'(){localStorage['setItem'](LvlStoreName,'Formal'),SelectModal('Mirage12-1');},'closeHandler'(){localStorage['setItem'](LvlStoreName,GameMode='Tutorial'),g();}});else g();},'StartGame':()=>{Tutorial(()=>{oMiniGames['ConveyorBelt']([oPuffShroom,oPuffShroom,oScaredyShroom,oPeashooter,oWallNut],0x15e,0x2,[oXshooter],0xa);}),oMiniGames['PlantCollapse'](UpRule,GrowPlant);}},{'AZ':[[oZombie,0x1,0x1],[oBalloonZombie,0x1,0x1],[oConeheadZombie,0x1,0x2],[oBucketheadZombie,0x1,0x3],[oWallNutZombie,0x1,0x7],[oPeashooterZombie,0x1,0x8],[oThiefZombie,0x1,0x9,[0x9,0x9,0x9,0xa,0xa,0xa]],[oGargantuar,0x1,0xa,[0xa]]],'FlagNum':0xa,'FlagToSumNum':{'a1':[0x1,0x2,0x4,0x7,0x8,0x9],'a2':[0x1,0x2,0x5,0xc,0x12,0x19,0x23]},'FlagToEnd'(){localStorage['setItem'](LvlStoreName,'Formal'),PlaySubtitle($__language_Array__['edcfba7a7df8cfb6dd8757776b9d5b87']),oEffects['fadeIn']($('DivA'),0x3,()=>{PlaySubtitle(''),SelectModal('Mirage12-1');});}},{'GrowMovePlant':(g,i,c,w,I,Q=0.75)=>{let k=CustomSpecial(g,i,c),f=k['Ele'],G=f['style']['left'],z=f['style']['top'];f['style']['left']=w+'px',f['style']['top']=I+'px',oEffects['Animate'](f,{'left':G,'top':z},Q,'ease-out');},'Tutorial':g=>{let i=NewEle('effect'+Math['random'](),'div','position:absolute;z-index:50;width:1800px;height:600px;background:#000;opacity:0;pointer-events:none;',0x0,EDAll),c,w,I=![],Q=![],k=G=>{if(I)return;switch(G){default:CanSummonCard=![],w=ThrowACard(oPuffShroom,[0x190,0x12c],![],{'countdown':NaN}),(PlaySubtitle($__language_Array__['170aa27a73dc044917ea2c893bd852f6']),G='GrowFirstPlant');break;case'GrowFirstPlant':if($P['length']<=0x5)break;CanSummonCard=![],w=ThrowACard(oPuffShroom,[0x190,0x12c],![],{'countdown':NaN}),(PlaySubtitle($__language_Array__['3be7211200239bd86d648a6fa377d660']),G='GrowFirstPlant'),UpRule['BeforeCollapse']=()=>{G='Rule_1',k(G);},plantCreatingObserver['start'](()=>{if(G!='GrowFirstPlant'||I)return plantCreatingObserver['stop']();w=ThrowACard(oPuffShroom,[0x190,0x12c],![],{'countdown':NaN});});return;case'Rule_1':CanSummonCard=![],UpRule['BeforeCollapse']=()=>{},PlaySubtitle($__language_Array__['6dd5828fe0b3f3771297146ed775532b']),(CancelPlant(),oEffects['Animate'](w['Ele'],{'transform':'scale(0)'},0.1,'linear',ClearChild));for(let z of CardArr)oEffects['Animate'](z['Ele'],{'transform':'scale(0)'},0.1,'linear',ClearChild);CardArr['length']=0x0,(G='GrowSecondPlant',oSym['addTask'](0x190,k,[G]));return;case'GrowSecondPlant':PlaySubtitle($__language_Array__['8dbda218d8cfd0ed37747b1245dcc9ac']),G='GrowSecondPlant',(CancelPlant(),oEffects['Animate'](w['Ele'],{'transform':'scale(0)'},0.1,'linear',ClearChild));for(let e of CardArr)oEffects['Animate'](e['Ele'],{'transform':'scale(0)'},0.1,'linear',ClearChild);CardArr['length']=0x0,w=ThrowACard(oWallNut,[0x190,0x12c],![],{'countdown':NaN}),(CanSummonCard=![],UpRule['BeforeCollapse']=()=>{G='Rule_2',k(G);}),plantCreatingObserver['start'](()=>{if(G!='GrowSecondPlant'||I)return plantCreatingObserver['stop']();if($P['length']==0x32)return G='Rule_2-2',k(G);w=ThrowACard(oWallNut,[0x190,0x12c],![],{'countdown':NaN});});return;case'Rule_2':CanSummonCard=![],UpRule['BeforeCollapse']=()=>{},PlaySubtitle($__language_Array__['dba5a4b768ebb154816f1e9531c7fefe']),(CancelPlant(),oEffects['Animate'](w['Ele'],{'transform':'scale(0)'},0.1,'linear',ClearChild));for(let X of CardArr)oEffects['Animate'](X['Ele'],{'transform':'scale(0)'},0.1,'linear',ClearChild);CardArr['length']=0x0,(G='Rule_3',oSym['addTask'](0x190,k,[G]));return;case'Rule_2-2':CanSummonCard=![],UpRule['BeforeCollapse']=()=>{},PlaySubtitle($__language_Array__['b7e5218ad3e7b70fda3490fde9ea78a0']),(CancelPlant(),oEffects['Animate'](w['Ele'],{'transform':'scale(0)'},0.1,'linear',ClearChild));for(let F of CardArr)oEffects['Animate'](F['Ele'],{'transform':'scale(0)'},0.1,'linear',ClearChild);CardArr['length']=0x0,(G='Rule_3',oSym['addTask'](0x190,k,[G]));return;case'Rule_3':CanSummonCard=![],UpRule['BeforeCollapse']=()=>{},(CancelPlant(),oEffects['Animate'](w['Ele'],{'transform':'scale(0)'},0.1,'linear',ClearChild));for(let H of CardArr)oEffects['Animate'](H['Ele'],{'transform':'scale(0)'},0.1,'linear',ClearChild);CardArr['length']=0x0,oEffects['fadeIn'](i,0x1,()=>{if(Q||I)return;for(let W=0x1;W<=oS['R'];++W)for(let x=0x1;x<=oS['C'];++x)oGd['killAll'](W,x,'JNG_TICKET_SuperPower');PlaySubtitle($__language_Array__['5e4dd304458d7e5ef3f83dd40edb2b44']),oEffects['fadeOut'](i,0x1,()=>{if(Q||I)return;GrowMovePlant(oWallNut,0x3,0x3,-0x64,0x12c),GrowMovePlant(oWallNut,0x3,0x4,-0x64,0x12c),(GrowMovePlant(oWallNut,0x3,0x6,-0x64,0x12c),GrowMovePlant(oWallNut,0x3,0x7,-0x64,0x12c)),(GrowMovePlant(oWallNut,0x1,0x5,-0x64,0x12c),GrowMovePlant(oWallNut,0x2,0x5,-0x64,0x12c)),(GrowMovePlant(oWallNut,0x4,0x5,-0x64,0x12c),GrowMovePlant(oWallNut,0x5,0x5,-0x64,0x12c)),(G='Rule_3-2',oSym['addTask'](0x96,k,[G]));});});return;case'Rule_3-2':CanSummonCard=!![],PlaySubtitle($__language_Array__['5e4dd304458d7e5ef3f83dd40edb2b44']),G='Rule_3-2',w=ThrowACard(oWallNut,[0x190,0x12c],![],{'countdown':NaN}),UpRule['BeforeCollapse']=W=>{let{left:x,right:r,top:t,bottom:U}=W;if(r-x>0x2||U-t>0x2)G='Rule_4',k(G);},plantCreatingObserver['start'](()=>{oSym['addTask'](0x64,()=>{if(G=='Rule_3-2'&&!I)G='Rule_3',k(G);}),plantCreatingObserver['stop']();});return;case'Rule_4':CanSummonCard=!![],UpRule['BeforeCollapse']=()=>{},PlaySubtitle($__language_Array__['771331194934bfe1f9be82f5a53d1f4b']),(G='Rule_5',oSym['addTask'](0x15e,k,[G]));return;case'Rule_5':CanSummonCard=!![],PlaySubtitle($__language_Array__['ee8338de2e2df4cb4bfd19dbb0b2c97f']),ClearChild($('skipTutorial')),I=!![],(CancelPlant(),oEffects['Animate'](w['Ele'],{'transform':'scale(0)'},0.1,'linear',ClearChild));for(let W of CardArr)oEffects['Animate'](W['Ele'],{'transform':'scale(0)'},0.1,'linear',ClearChild);CardArr['length']=0x0,oEffects['fadeIn'](i,0x1,()=>{if(Q)return;for(let x=0x1;x<=oS['R'];++x)for(let r=0x1;r<=oS['C'];++r)oGd['killAll'](x,r,'JNG_TICKET_SuperPower');PlaySubtitle($__language_Array__['e3b6b4e4100c29a87b252f14a5d54501']),g(),oEffects['fadeOut'](i,0x1,()=>{ClearChild(i),oSym['addTask'](0x190,PlaySubtitle,['']);});});return;}oSym['addTask'](0xa,k,[G]);};addEventListenerRecord('jng-event-exitgame',()=>{I=Q=!![];}),k(),NewEle('skipTutorial','button','left:750px',{'innerText':$__language_Array__['63524dd92403b3a82cebe9208edcde15'],'className':'voidButton\x20jngButton','onclick':()=>{jngAlert['open']({'text':$__language_Array__['e9c26da008633f8b16642fa6ee320e70'],'shade':!![],'nextHandler'(){k('Rule_5'),I=!![],k=()=>{};}});}},EDAll);},'UpRule':{'oPuffShroom':oScaredyShroom,'oScaredyShroom':oFumeShroom,'oFumeShroom':oShiitake,'oShiitake':null,'oSunShroom':oSunFlower,'oSunFlower':oMonotropa,'oMonotropa':null,'oPotatoMine2':oSquash,'oSquash':{'Type':'CRand','Kind':[oCherryBomb,oJalapeno,oDoomShroom]},'oPeashooter':{'Type':'PRand','Kind':[oSnowPea,oRepeater,oRepeater,oRepeater]},'oSnowPea':{'Type':'PAll','Kind':[oXshooter],'Num':0x2},'oRepeater':{'Type':'PAll','Kind':[oXshooter],'Num':0x2},'oCranberry':{'Type':'PRand','Kind':[oCabbage,oKernelPult]},'oCabbage':{'Type':'PRand','Kind':[oEichhornia,oMelonPult,oIceAloe]},'oKernelPult':{'Type':'PRand','Kind':[oEichhornia,oMelonPult,oIceAloe]},'oWallNut':{'Type':'PRand','Kind':[oStoneFlower,oTallNut,oPumpkinHead]},'DoubleRule':((()=>{let g=0x0,i=0x0,c=0x0,w;return(I,Q,k,f,G)=>{if(f<=0x3)return Q;g+=0x1,i+=f-0x3;while(f>0x4&&CanSummonCard){Q['push'](...G(k)),f-=0x2;}return Q;};})()),'BeforeCollapse':()=>{},'CreateCard':g=>CardArr['push'](g)}});};