'use strict';{function movePlant(g,i,c){g['oTrigger']&&oT['delP'](g),delete oGd['$'][g['R']+'_'+g['C']+'_'+g['PKind']];let w=GetX(c),I=GetY(i),Q=GetAP(w,I,i,c)[0x0],k=$(g['id']),f=w+g['GetDX'](g),G=I+g['GetDY'](i,c,Q,!![])-g['height'];g['pixelLeft']=f,g['pixelRight']=f+g['width'],g['pixelTop']=G,g['pixelBottom']=G+g['GetDBottom'](g),g['zIndex']=0x3*i,g['InitTrigger'](g,g['id'],g['R']=i,g['C']=c,g['AttackedLX']=f+g['beAttackedPointL'],g['AttackedRX']=f+g['beAttackedPointR']),g['BirthStyle'](g,g['id'],k,Object['assign']({'left':f+'px','top':G+'px','z-index':g['zIndex']},g['ImgStyle'])),oGd['add'](g,i+'_'+c+'_'+g['PKind']);}let canvas,ctx,theSquash;function drawArrow(g,i,c,w,I=0x1e,Q=0x1e,k=0xa,f='#000'){let G=Math['atan2'](i-w,g-c)*0xb4/Math['PI'],z=(G+I)*Math['PI']/0xb4,e=(G-I)*Math['PI']/0xb4,X=Q*Math['cos'](z),F=Q*Math['sin'](z),H=Q*Math['cos'](e),W=Q*Math['sin'](e);ctx['save'](),ctx['beginPath']();let x=g-X,r=i-F;ctx['moveTo'](x,r),ctx['moveTo'](g,i),ctx['lineTo'](c,w),x=c+X,r=w+F,ctx['moveTo'](x,r),ctx['lineTo'](c,w),x=c+H,r=w+W,ctx['lineTo'](x,r),ctx['strokeStyle']=f,ctx['lineWidth']=k,ctx['stroke'](),ctx['restore']();}let oSquash_SpFes2023=InheritO(oSquash,{'EName':'oSquash_SpFes2023','HP':0x3e8,'CheckLoop'(){},'NormalGif':0x6,'AttackGif':0x7,'DropGif':0x8,'TurnGif':0x9,'__Birthed':![],'BirthStyle':(g,i,c,w)=>{EditEle(c,{'id':i,'data-jng-constructor':g['EName']},w,!g['__Birthed']?EDPZ:null),g['__Birthed']=!![];},'NormalAttack':function(g){let i=this,c=i['id'],w=$(c),I=w['childNodes'][0x1],Q=w['childNodes'][0x0],k=i['pixelLeft'],f=i['pixelTop'],G=0x0,z=0x0,e=Math['Clamp'](g['R'],0x1,oS['R']),X=Number['parseFloat'](Q['style']['left']),F=Number['parseFloat'](Q['style']['top']);g['y']>=0x0&&(g['y']=-g['y']/1.2);w['style']['zIndex']=Number(w['style']['zIndex'])+0x1;g['x']<0x0?(I['src']=i['PicArr'][i['TurnGif']],oSym['addTask'](0x4d,H)):H();function H(){let x=0x0;function r(D){x!==(D=Math['sign'](D))&&D!==0x0&&EditCompositeStyle({'ele':I,'delFuncs':['rotateY'],'addFuncs':[['rotateY',-((x=D)-0x1)*0x5a+'deg']],'option':0x2});}SetStyle(w,{'z-index':i['zIndex']+=0x2}),r(g['x']),I['src']=i['PicArr'][i['AttackGif']],i['Stat']=0x1,oAudioManager['playAudio'](i['AudioArr'][Math['floor'](Math['random']()*i['HmmAudioNum'])]);let t=Math['Clamp'](k+g['x'],GetX(0x1)+i['GetDX'](i),GetX(oS['C'])+i['GetDX'](i)),U=Math['min'](f-0x32,GetY(e)+i['GetDY'](e,GetC(t),[],!![])-i['height']-0x96),u=GetY(e)+i['GetDY'](e,GetC(t),[],!![])-i['height'],O=0x1e;oSym['addTask'](0x21,function D(V=0x0){if(i['Stat']===0x2){W(e);return;}if(V>=O+0x1e){G=t-k,z=U-f,SetStyle(I,{'left':G+'px','top':z+'px'}),SetStyle(Q,{'left':G+X+'px','top':F+u-f+'px'}),W(e);return;}let Z=Math['Clamp'](V,0x0,O)/O;G=Math['Lerp'](k,t,Z)-k,z=Math['Lerp'](f,U,0x1-(Z-0x1)**0x2)-f,SetStyle(I,{'left':G+'px','top':z+'px'}),SetStyle(Q,{'left':G+X+'px','top':F+(Math['Lerp'](f,u,Z)-f)+'px'}),$User['LowPerformanceMode']?oSym['addTask'](0x2,D,[V+0x2]):oSym['addTask'](0x1,D,[V+0x1]);});}function W(x){i['Stat']=0x2;let r=i['pixelLeft']+G+i['width']/0x2,[t,U]=[x,Math['Clamp'](GetC(r),0x1,oS['C'])],u=f+z,O=k+G,D=GetY(t)+i['GetDY'](t,U,[],!![])-i['height'],V=GetX(U)+i['GetDX'](i);I['src']=i['PicArr'][i['DropGif']],function Z(J=0x0){if(J>=0x14){movePlant(i,t,U),SetStyle(I,{'left':0x0,'top':0x0,'z-index':0x3*t}),SetStyle(Q,{'left':X+'px','top':F+'px'}),oZ['getArZ'](V-0x46,V+0x82,t)['forEach'](d=>{d['getHit2'](d,0x708);}),oSym['addTask'](0x21,()=>{i['Stat']=0x0,I['src']=i['PicArr'][i['NormalGif']];}),oAudioManager['playAudio'](i['AudioArr'][Math['floor'](Math['random']()*(i['AudioArr']['length']-i['HmmAudioNum']))+i['HmmAudioNum']]);oGd['$GdType'][t][U]!=0x2&&oEffects['ScreenShake']();return;}z=Math['Lerp'](u,D,(J/0x14)**0x2)-f,G=Math['Lerp'](O,V,J/0x14)-k,SetStyle(I,{'top':z+'px','left':G+'px'}),SetStyle(Q,{'left':G+X+'px'}),$User['LowPerformanceMode']?oSym['addTask'](0x4,Z,[J+0x4]):oSym['addTask'](0x2,Z,[J+0x2]);}();}}});oS['Init']({'PName':[oSquash],'ZName':[oZombie,oNewspaperZombie,oBalloonZombie,oConeheadZombie,oBucketheadZombie],'SunNum':0x0,'DKind':0x0,'LevelName':$__language_Array__['b74b6bdcf5f37f15dda918e7144f2100'],'LoadMusic':'Bgm_Forest_Ready','StartGameMusic':'Bgm_Forest_Fight','LoadAccess'(g){canvas=NewEle('','canvas','position:absolute;left:0;top:0;width:'+oS['W']+'px;height:600px;z-index:30;',{'width':oS['W'],'height':0x258},EDPZ),ctx=canvas['getContext']('2d'),oSym['addTask'](0x5a,g),theSquash=CustomSpecial(oSquash_SpFes2023,0x3,0x5);},'StartGame'(){oS['DefaultStartGame'](),function g(){let i=0x0,c={'x':-0x72,'y':-0x202};canvas['onmousedown']=function(w){if(!$P[theSquash['id']])return;if(theSquash['Stat']===0x0)c['x']=w['offsetX'],c['y']=w['offsetY'],i=0x1;else theSquash['Stat']===0x1&&(theSquash['Stat']=0x2);},canvas['onmousemove']=function(w){if(!$P[theSquash['id']])return;i===0x1&&(ctx['clearRect'](0x0,0x0,oS['W'],0x258),drawArrow(c['x'],c['y'],w['offsetX'],w['offsetY']));},canvas['onmouseup']=function(w){if(!$P[theSquash['id']])return;i===0x1&&(ctx['clearRect'](0x0,0x0,oS['W'],0x258),i=0x0,theSquash['NormalAttack']({'x':w['offsetX']-c['x'],'y':w['offsetY']-c['y'],'R':GetR(w['offsetY']-c['y']+theSquash['pixelTop']+theSquash['height']/0x2)}));};}();}},{'AZ':[[oZombie,0x1,0x2],[oNewspaperZombie,0x2,0x4],[oBalloonZombie,0x3,0x1,[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9]],[oConeheadZombie,0x2,0x3],[oBucketheadZombie,0x2,0x6]],'FlagNum':0x9,'FlagToSumNum':{'a1':[0x1,0x2,0x3,0x4,0x5,0x6,0x7,0x8,0x9],'a2':[0x2,0x2,0x1,0x5,0x4,0x7,0x3,0x7,0xf]},'FlagToMonitor':{}});};