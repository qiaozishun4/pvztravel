'use strict';{const playVideoPromise=g=>{return g['play'](),new Promise(i=>{let c=![];g['addEventListener']('ended',()=>{c=!![],i(g);},{'once':!![]}),setTimeout(()=>{!c&&(g['currentTime']=0x0,i(g));},0xbb8);});},goToGame=SelectModal['bind'](null,'Mirage10_C',void 0x0),skipToGame=()=>{jngAlert['open']({'text':$__language_Array__['79eef804d45fe6124d25c8252fdc7e82'],'shade':0x1,'nextHandler':goToGame});},comeHome=()=>{jngAlert['open']({'text':$__language_Array__['b1455ec3b478fa87a37d26bad396fb86'],'shade':0x1,'nextHandler':Exitlevel['bind'](null,void 0x0,void 0x0)});},NewAskConfig1=[{'talkingNPC':'NPC_Zomboss','talkingText':$__language_Array__['472693389e34d2ce293ffae25210b559']},{'talkingNPC':'NPC_Dave','talkingText':$__language_Array__['c64382d7c3aad50b0bbb4657d60fbd72']},{'talkingNPC':'NPC_BlackDave','talkingText':$__language_Array__['929ff130732d3c1a7365c9720ca924ef']},{'talkingNPC':'NPC_Dave','talkingText':$__language_Array__['579f85753e10d7d3b03eae68e51de8dd']},{'talkingNPC':'NPC_BlackDave','talkingText':$__language_Array__['abc2b696a283a9e38e3261c272aaa9d4'],'callback'(){Caipan_Config['mainDialogue'][0x0]['changeCnt']++,Caipan_Config['mainDialogue'][0x0]['talkingText']=$__language_Array__['579f85753e10d7d3b03eae68e51de8dd'],Caipan_Config['vaildAskConfig'][0x0]=[{'talkingNPC':'NPC_BlackDave','talkingText':$__language_Array__['abc2b696a283a9e38e3261c272aaa9d4']}];}}],Caipan_Config={'BtnConfig_common':{'Button_NextDialogue':{'visibility':!![]},'Button_PutEvid':{'visibility':![]},'Button_Ask':{'visibility':![]}},'BtnConfig_special':{'Button_NextDialogue':{'visibility':!![]},'Button_PutEvid':{'visibility':!![]},'Button_Ask':{'visibility':!![]}},'items':[{'id':0x1,'name':$__language_Array__['73513b1d6fb0fafadfe950ab9c0d2dc4'],'src':'images/interface/MarshClue2.webp','description':$__language_Array__['a8ed077e23a03225a387938c4ad7b406']},{'id':0x2,'name':$__language_Array__['2b3425d48238b38fa98b292717ab23f8'],'src':'images/interface/MarshClue1.webp','description':$__language_Array__['323e817cc8fe6f9e199c8b308fb2ee44']},{'id':0x3,'name':$__language_Array__['3b067fda2078b06b515c011d9edfc383'],'src':'images/interface/PolarClue1.webp','description':$__language_Array__['eb278a2cc0d3ba457eef658989085df2']},{'id':0x4,'name':$__language_Array__['8028fbd6f1b456a905de74d7ad58174b'],'src':'images/Props/Industry20/phone.webp','description':$__language_Array__['6f7a853bfbbae32a4b61d18c3f33e6c1']},{'id':0x5,'name':$__language_Array__['ac70c9eed13146f8b7c031569ac68a2a'],'src':'images/interface/Black_Mirror1.webp','description':$__language_Array__['03dd484efe243de2300351940823587d']},{'id':0x6,'name':$__language_Array__['25a580779f7297775072b3935e7659cb'],'src':'images/Props/Clues/RedandBlue.webp','description':$__language_Array__['e300ad7a1385677d90331a93fdfb62a1']},{'id':0x7,'name':$__language_Array__['5c264fd6544b7bc62f18b6f799e245df'],'src':'images/interface/IndustryClue1_1.webp','description':$__language_Array__['1e22b70dd65acddff47ad3ab674b2dc5']}],'diaries':[{'id':0x1,'name':$__language_Array__['5a7d47258499bc43f1477581e054a7b0'],'description':$__language_Array__['7960d32a52af226913c6575fde05cfc7']},{'id':0x2,'name':$__language_Array__['197d188f5233faf262786dd5b0cfec5a'],'description':$__language_Array__['501189d6408bab804773e958a7b58e0a']},{'id':0x3,'name':$__language_Array__['77e6ef871ead3c2afd2b036b05238ada'],'description':$__language_Array__['2488100d9877f7d2027a5b34e21f4c3c']},{'id':0x4,'name':$__language_Array__['f65a4d6c1dc9417e732c65e49dff5f86'],'description':$__language_Array__['8fbac572f3d16939f04feeb0ab18ed04']},{'id':0x5,'name':$__language_Array__['aebcd0d0bbb724fd76e3aa598b9f05a3'],'description':$__language_Array__['4d6a9a63b58e960391272be83d346b7b']},{'id':0x6,'name':$__language_Array__['b420ac2d8b83f64ad021eb9549ca4277'],'description':$__language_Array__['b03d41274db349825c37a0557740f66b']},{'id':0x7,'name':$__language_Array__['1a73389ef6de61dea17fb82fabc96f69'],'description':$__language_Array__['8f527efb408b466f71385ee2e49b0125']}],'startDialogue':[{'talkingNPC':'NPC_Dave','talkingText':$__language_Array__['b962c925a2b10fc21c9bfc2f6da57fce']},{'talkingNPC':'NPC_Zomboss','talkingText':$__language_Array__['8333c7587e001eac21d2f988f409689e']},{'talkingNPC':'NPC_Dave','talkingText':$__language_Array__['f0312bcac3c718469da326c8ea5ebc22']}],'mainDialogue':[{'id':0x0,'changeCnt':0x0,'type':'special','talkingNPC':'NPC_Dave','talkingText':$__language_Array__['d91fe6b8a7ac14b97a03ff8b1e3f521b']}],'vaildAskConfig':[[{'talkingNPC':'NPC_Zomboss','talkingText':$__language_Array__['3da7b1eacc7033722ecf4fac4dc709ff']},{'talkingText':$__language_Array__['75c15bef1a301af541a0360c4696596c']},{'talkingNPC':'NPC_Dave','talkingText':$__language_Array__['a2e6355931cda9a75665b7ee8b599123']},{'talkingText':$__language_Array__['83839a5984afd43114ea8ca2d4218118']},{'talkingNPC':'NPC_BlackDave','talkingText':'……','callback'(){Caipan_Config['mainDialogue'][0x0]['changeCnt']++,Caipan_Config['mainDialogue'][0x0]['talkingText']=$__language_Array__['13aa6818586681f6ec5107ef5c56e81d'],Caipan_Config['vaildAskConfig'][0x0]=NewAskConfig1;}}]],'vaildPutEnvConfig':{get'Dialogue0_Item_7'(){if(Caipan_Config['mainDialogue'][0x0]['changeCnt']<0x2)return;return[{'talkingNPC':'NPC_Zomboss','talkingText':$__language_Array__['24920ced2180cf350b9cf3a9a474a1a3']},{'talkingNPC':'NPC_Dave','talkingText':$__language_Array__['c2fbabefa0f821cb1cc8998833ecac49']},{'talkingNPC':'NPC_Zomboss','talkingText':$__language_Array__['caf629cbd1152a41f198656015f9833d']},{'talkingNPC':'NPC_Dave','talkingText':'……'},{'talkingNPC':'NPC_BlackDave','talkingText':$__language_Array__['a446e48533987bed6199c373379d8c52']},{'talkingNPC':'NPC_Dave','talkingText':$__language_Array__['3682276a053e5aaca0312135562af8f3']},{'talkingNPC':'NPC_Zomboss','talkingText':$__language_Array__['617047aa004e03f48b71f0db0e82aab0']},{'talkingNPC':'NPC_Dave','talkingText':$__language_Array__['ff379a8f8101c76686be76cfc5da3939']},{'talkingNPC':'NPC_Dave','talkingText':$__language_Array__['6f178346a01f95c06c177eb253e073d8']},{'talkingNPC':'NPC_Dave','talkingText':$__language_Array__['455807ae7f03f8f182c6e32de47ebe86']},{'talkingNPC':'NPC_Dave','talkingText':$__language_Array__['d12892f1eef0b27992975cdf905a469a'],'callback'(){$('Button_NextDialogue')['onclick']=goToGame;}}];}},'defaultPutEnvConfig':[{'talkingNPC':'NPC_Zomboss','talkingText':$__language_Array__['9a3e578c00fa214e170bc9efbf140fcf']},{'talkingNPC':'NPC_BlackDave','talkingText':$__language_Array__['76c922461b391dd5672d4c27c61933d0']}]};Object['defineProperty'](Caipan_Config['vaildAskConfig'],'3',{'get'(){return Caipan_Config['mainDialogue'][0x2]['isChanged']?[{'talkingNPC':'NPC_Zomboss','talkingText':$__language_Array__['b6c0b86a1136551bea98b20422823905']},{'talkingText':$__language_Array__['c2812e4f815f438b55021707e42ecc31']},{'talkingNPC':'NPC_Dave','talkingText':$__language_Array__['49a7ffdd329fc252efef6c512dd18fbc']},{'talkingNPC':'NPC_BlackDave','talkingText':$__language_Array__['6a0bee45303cb4f86b44ff4e9532abfb']},{'talkingNPC':'NPC_Dave','talkingText':$__language_Array__['f544fbf4724cac7a024d3603278ea852']},{'talkingNPC':'NPC_Zomboss','talkingText':$__language_Array__['edbd8c5ca121385487cc48b45ab40a3f']},{'talkingText':$__language_Array__['0e5964d678abd96793c3b82ab937cd91']},{'talkingText':$__language_Array__['1d3e06890083150af49f868509bafe3c']},{'talkingNPC':'NPC_Dave','talkingText':$__language_Array__['bc85dd9803de5103bfebbc285ebf9c12'],'callback'(){Caipan_Config['mainDialogue']['push']({'id':0x5,'type':'special','talkingNPC':'NPC_Dave','talkingText':$__language_Array__['664ab4e6f68cf92e3556c6a738075656']});}}]:[{'talkingNPC':'NPC_BlackDave','talkingText':$__language_Array__['de64235a63d0410fa1db3e3d49cfc516']},{'talkingNPC':'NPC_Zomboss','talkingText':$__language_Array__['cc402dfa4e0df0e47bcd7954e4cdb8f9']}];}});const oCaipan={'init'(){this['queue']=[],this['render']();},'render'(){this['$NPC_Dave']=NewEle('NPC_Dave','video','',{'className':'Caipan_NPC','autoplay':![],'controls':![],'muted':!![],'src':'images/Props/Caipan/NPC_Dave.mp4'},EDAll),this['$NPC_Dave_Zomboss']=NewEle('NPC_Dave_Zomboss','video','',{'className':'Caipan_NPC\x20Caipan_NPC_transition','autoplay':![],'controls':![],'muted':!![],'src':'images/Props/Caipan/NPC_Dave_Zomboss.mp4'},EDAll),this['$NPC_Zomboss']=NewEle('NPC_Zomboss','video','',{'className':'Caipan_NPC','autoplay':![],'controls':![],'muted':!![],'src':'images/Props/Caipan/NPC_Zomboss.mp4'},EDAll),this['$NPC_Zomboss_Dave']=NewEle('NPC_Zomboss_Dave','video','',{'className':'Caipan_NPC\x20Caipan_NPC_transition','autoplay':![],'controls':![],'muted':!![],'src':'images/Props/Caipan/NPC_Zomboss_Dave.mp4'},EDAll),this['$NPC_BlackDave']=NewEle('NPC_BlackDave','img','',{'className':'Caipan_NPC','src':'images/Props/Caipan/NPC_BlackDave.webp'},EDAll),this['$TextBox_Wrap']=NewEle('NPC_TextBox_Wrap','div','',{},EDAll),this['$TextBox_Text']=NewEle('NPC_TextBox_Text','p','',{},this['$TextBox_Wrap']),this['$TextBox_ButtonWrap']=NewEle('buttonWrap','div','',{},this['$TextBox_Wrap']),this['$Button_NextDialogue']=NewEle('Button_NextDialogue','button','',{'innerText':$__language_Array__['379059789cc089200419e28d616b04e9'],'onclick':this['renderDialogue']['bind'](this)},buttonWrap),this['$Button_PutEvid']=NewEle('Button_PutEvid','button','',{'innerText':$__language_Array__['04705c59388c152e4c7d2e7345905582'],'onclick':this['showItemBox']['bind'](this)},buttonWrap),this['$Button_Ask']=NewEle('Button_Ask','button','',{'innerText':$__language_Array__['fae7961e2b449ea44609c73f63298c8e'],'onclick':()=>{this['queue']['length']=0x0,this['queue']['push'](...Caipan_Config['vaildAskConfig'][this['curDialogueId']]),this['renderDialogue']();}},buttonWrap),this['$ItemBox_Wrap']=NewEle('ItemBox_Wrap','div','display:none;',{},EDAll);const g=NewEle('ItemBox_List','div','display:block',{'className':'ItemBox_List\x20NoBar'},this['$ItemBox_Wrap']),i=NewEle('DiaryBox_List','div','display:none;',{'className':'ItemBox_List\x20NoBar'},this['$ItemBox_Wrap']),c=(k,f)=>{jngAlert['open']({'text':f,'shade':0x1,'nextText':$__language_Array__['04705c59388c152e4c7d2e7345905582'],'nextHandler':this['putEvn']['bind'](this,k)});};for(let k of Caipan_Config['items']){let{id:f,name:G,description:z,src:e}=k;f='Item_'+f;let X=NewEle(f,'img','',{'src':e,'onclick':()=>c(f,z)},g);}for(let F of Caipan_Config['diaries']){let{id:H,name:W,description:x}=F;H='Diary_'+H;let r=NewEle(H,'div','',{'className':'LvlUI_Industry20Div','innerText':W,'onclick':()=>c(H,x)},i);}const w=NewEle('ItemButton','button','left:0px',{'className':'changeButton','innerText':$__language_Array__['7d90371e25fb6bf73bfb002f13f78d27'],'onclick'(){SetNone(i),SetBlock(g);}},this['$ItemBox_Wrap']),I=NewEle('DiaryButton','button','left:79px;',{'className':'changeButton','innerText':$__language_Array__['ece72bf0c9be230c0115e43b27965d87'],'onclick'(){SetNone(g),SetBlock(i);}},this['$ItemBox_Wrap']),Q=NewEle('CloseItemBoxButton','button','left:714px;',{'className':'changeButton','innerText':$__language_Array__['159a26d55acea599b9f85b4e0f815f16'],'onclick':this['hideItemBox']['bind'](this)},this['$ItemBox_Wrap']);},async'renderDialogue'(){var g,i;const c=this['queue']['shift']();this['curDialogueId']=c['id'];const w=this['$TextBox_Wrap'];SetNone(w);const I=(g=c['type'])!==null&&g!==void 0x0?g:'common',Q=Caipan_Config['BtnConfig_'+I];for(let W in Q){const x=$(W),{visibility:r}=Q[W];r?SetVisible(x):SetHidden(x);}const k=$$('.NPC_isTalking'),f=k===null||k===void 0x0?void 0x0:k['id'],G=(i=c['talkingNPC'])!==null&&i!==void 0x0?i:f,z=$(G);f&&f!==G&&(k['classList']['remove']('NPC_isTalking'),SetNone(k));SetBlock(z),z['classList']['add']('NPC_isTalking');let e=c['transitionVideo'];if(isNullish(e)){if(f==='NPC_Dave'&&G==='NPC_Zomboss')e=this['$NPC_Dave_Zomboss'];else G==='NPC_Dave'&&f==='NPC_Zomboss'&&(e=this['$NPC_Zomboss_Dave']);}!isNullish(e)&&(SetBlock(e),await playVideoPromise(e),SetNone(e));const X=z,F=this['$TextBox_ButtonWrap'];SetBlock(w),this['$TextBox_Text']['innerText']=c['talkingText'];TypeOf(X)==='HTMLVideoElement'&&(SetHidden(F),X['currentTime']=0x0,X['play'](),await playVideoPromise(X),SetVisible(F));const H=c['callback'];H&&H(),this['queue']['length']<=0x0&&this['refreshQueue']();},'Start'(){this['queue']['push'](...Caipan_Config['startDialogue'],...Caipan_Config['mainDialogue']),SetBlock(this['$TextBox_Wrap']),this['renderDialogue']();},'showItemBox'(){SetNone(this['$TextBox_Wrap']),SetBlock(this['$ItemBox_Wrap']);},'hideItemBox'(){SetNone(this['$ItemBox_Wrap']),SetBlock(this['$TextBox_Wrap']);},'putEvn'(g){var i;const c=(i=Caipan_Config['vaildPutEnvConfig']['Dialogue'+this['curDialogueId']+'_'+g])!==null&&i!==void 0x0?i:Caipan_Config['defaultPutEnvConfig'];this['queue']['length']=0x0,this['queue']['push'](...c),this['hideItemBox'](),this['renderDialogue']();},'refreshQueue'(){this['queue']['length']=0x0,this['queue']['push'](...Caipan_Config['mainDialogue']);}};IsDevEnvi&&(window['oCaipan']=oCaipan,window['Caipan_Config']=Caipan_Config),oS['Init']({'PicArr':['images/interface/Mirage.webp','images/interface/MarshClue2.webp','images/interface/MarshClue1.webp','images/interface/PolarClue1.webp','images/Props/Industry20/phone.webp','images/interface/Black_Mirror1.webp','images/Props/Clues/RedandBlue.webp','images/interface/IndustryClue1_1.webp'],'VideoArr':['images/Props/Caipan/NPC_Dave_Zomboss.mp4','images/Props/Caipan/NPC_Zomboss.mp4','images/Props/Caipan/NPC_Zomboss_Dave.mp4'],'LevelName':$__language_Array__['ba50aa7d8a3ae43cfce55e93f1d5760e'],'backgroundImage':'images/interface/Mirage.webp','LoadMusic':'Bgm_Mirage_Ready','backgroundMask':'BgMask-Mirage','LoadAccess'(){oCaipan['init'](),NewEle('skipToGame','button','',{'innerText':$__language_Array__['89f3d040dfff69a22e551d2e2826fca0'],'className':'voidButton\x20jngButton','onclick':skipToGame},EDAll),NewEle('returnHome','button','position:absolute;z-index:4;',{'className':'jngButton\x20Homepage\x20','onclick':comeHome},EDAll),oCaipan['Start']();}},{});}