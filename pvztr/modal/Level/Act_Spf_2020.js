'use strict';{let seed=0x5,seededRandom=function(g,c){g=g||0x1,c=c||0x0,g-=1e-10,seed=(seed*0x2455+0xc091)%0x38f40;var w=seed/0x38f40;return c+w*(g-c);};function unique(g){var c=new Set(g);return[...c];}let Ground=[],leftGe=0x2d;for(let i=0x1;i<=0x5;i++){Ground[i]=[];}function summonRifter(){let g=Math['floor'](seededRandom(0x7,0xe));while(g&&leftGe){let c=Math['floor'](seededRandom(0x1,0x6)),w=Math['floor'](seededRandom(0x3,0xa));!Ground[c][w]&&(Ground[c][w]=!![],CustomSpecial(oRifter,c,w),--g,--leftGe);}}function Protect(g){let c=Math['floor'](seededRandom(0x1,0x3)),w=c;while(c&&leftGe){let Q=Math['floor'](seededRandom(0x1,0x6)),k=Math['floor'](seededRandom(0x3,0x5));!Ground[Q][k]&&(Ground[Q][k]=!![],CustomSpecial(g,Q,k),NewEle(0x0,'div','left:\x20'+(0x8c+(k-0x1)*0x4f)+'px;top:'+(0x50+0x64*(Q-0x1))+'px;',{'className':'sos'},FightingScene),--c,--leftGe);}let I=f=>{const G=g['prototype']['EName'];oMiniGames['ProtectPlants']({'name':w}),removeEventListenerRecord('jng-event-startgame',I);};oS['isStartGame']?I():addEventListenerRecord('jng-event-startgame',I);}function summonCrystal(){let g=Math['floor'](seededRandom(0x1,0x3));while(g&&leftGe){let c=Math['floor'](seededRandom(0x1,0x6)),w=Math['floor'](seededRandom(0x6,0xa));!Ground[c][w]&&(Ground[c][w]=!![],PlaceZombie(oCrystal,c,w),--g,--leftGe);}}function summonObs(){let g=[],c=[oZombiePlusBloodObs,oZombiePlusBloodObs,oZombiePlusBloodObs,oZombiePlusBloodObs,oSummonZombieObs,oSummonZombieObs,oZombieComeOnObs,oZombieComeOnObs,oZombieComeOnObs,oZombieComeOnObs,oZombieComeOnObs];for(let I=0x1;I<=0x5;I++){g[I]=[];}let w=Math['floor'](seededRandom(0x4,0x7));while(w&&leftGe){let Q=Math['floor'](seededRandom(0x1,0x6)),k=Math['floor'](seededRandom(0x6,0xa));if(!g[Q][k]){g[Q][k]=!![];let f=Math['floor'](seededRandom(0x0,c['length']));CustomSpecial(c[f],Q,k),--w,--leftGe;}}}let sunPlant=[oSunShroom,oSunFlower],boomPlant=[oCherryBomb,oBambooUncle],sets=[];sets[0x0]=['images/interface/Forest.webp','BgMask-Forest',0x1,'Bgm_Forest_Ready','Bgm_Forest_Fight',![]],sets[0x1]=['images/interface/Marsh.webp','BgMask-Marsh',0x0,'Bgm_Marsh_Ready','Bgm_Marsh_Fight',![]],sets[0x2]=['images/interface/Polar.webp','BgMask-Polar',0x1,'Bgm_Polar_Ready_1','Bgm_Polar_Fight_1',function(){summonRifter(),oAudioManager['playAudio']('Bgm_Polar_Noise',0x1);}],sets[0x3]=['images/interface/Polar2.webp',![],0x0,'Bgm_Polar_Ready_2','Bgm_Polar_Fight_'+(0x2+Math['round'](Math['random']()*0x2)),function(){summonRifter(),oAudioManager['playAudio']('Bgm_Polar_Noise',0x1),(NewEle('PolarFire2','span',null,0x0,$('tGround')),NewEle('PolarFire','span',null,0x0,$('tGround')));}],sets[0x4]=['images/interface/MarshJx.webp','BgMask-Marsh',0x1,'Bgm_Marsh_Ready_JX','Bgm_Marsh_Fight_JX',g=>{summonObs();}],sets[0x5]=['images/interface/ForestJx.webp','BgMask-Forest',0x0,'Bgm_Forest_Ready_JX','Bgm_Forest_Fight_JX'];let DateInt=[0x183967,0x137aa0,0xbb02d,0x40e36,0xc0f4ec,0x1acda3,0x163b24,0x12e6ab,0xbde373,0x258117,0x881c46,0x246e06,0x1379c0,0x1a4c87,0x1f293][Math['min'](localStorage['JNG_TR_ACT_SPFES_2020'],0xf)-0x1];seed=DateInt;let theLevelType=DateInt%0x6,theSettingNowDay=Math['floor'](seededRandom(0x0,sets['length'])),AllPlants=[oPeashooter,oWallNut,oPotatoMine,oStoneFlower,oRadish,oSnowPea,oRepeater,oTallNut,oPuffShroom,oFumeShroom,oSporeShroom,oAbutilonHybriden,oPumpkinHead,oPepper,oIceAloe,oMonotropa,oSpikeweed,oTorchwood,oKiwibeast,oMiracleImitater,oJalapeno],WillselectP=[],WillselectZ=[oZombie],WillAZ=[[oZombie,0x2,0x1]];if(theLevelType<0x2){let canGivePlants=AllPlants['slice'](0x0);for(let i=0x1;i<=0x8;i++){let selected=Math['floor'](seededRandom(0x0,canGivePlants['length']));WillselectP[i]=canGivePlants[selected],canGivePlants['splice'](selected,0x1);}WillselectP[0x0]=sunPlant[sets[theSettingNowDay][0x2]],WillselectP[0x9]=boomPlant[Math['floor'](seededRandom(0x0,0x2))];}else{if(theLevelType<0x5)WillselectP=AllPlants,WillselectP['splice'](0x1,0x0,oSunFlower,oSunShroom);else{const len=AllPlants['length'];for(let i=0x0;i<=len;i++){let selected=Math['floor'](seededRandom(0x0,len));WillselectP[i]=AllPlants[selected];}}}let FlagN=Math['floor'](seededRandom(0x5,0x9)),allTimes=seededRandom(0x5,0xa),canSelectZ=[oConeheadZombie,oBucketheadZombie,oBalloonZombie,oFootballZombie,oNewspaperZombie,oStrollZombie,oCigarZombie,oFootballZombie,oImp,oCaskZombie,oSadakoZombie,oSkatingZombie,oMakeRifterZombie,oPushIceImp,oMembraneZombie];for(let i=0x1;i<=allTimes;i++){let selected=Math['floor'](seededRandom(0x0,canSelectZ['length']));WillselectZ[i]=canSelectZ[selected];let tmp=WillselectZ[i]['prototype'];WillAZ[i]=[WillselectZ[i],Math['floor'](seededRandom(0x1,0x5/tmp['Lvl']+0x1)),Math['floor'](tmp['Lvl']/1.2*seededRandom(1.4,3.3)/0xa*FlagN)],canSelectZ['splice'](selected,0x1);}let BeginNum=Math['floor'](seededRandom(0x0,0x2)),DI=0x1,a1=[],a2=[];for(let i=0x1;i<=FlagN;i++){a1[i-0x1]=i,i<0x4?BeginNum+=Math['floor'](seededRandom(0x0,i*0x2)):(BeginNum+=Math['floor'](seededRandom(0x2,0x4+0x5*(i-DI))),BeginNum+=Math['floor'](seededRandom(0x0,localStorage['JNG_TR_ACT_SPFES_2020']/0x4))),a2[i-0x1]=BeginNum,i%0x6==0x3&&(DI+=0x6);}theSettingNowDay==0x5&&WillselectZ['push'](oCrystal),oS['Init']({'PName':unique(WillselectP),'ZName':WillselectZ,'CanSelectCard':theLevelType>=0x2&&theLevelType<0x5?0x1:0x0,'StaticCard':theLevelType>=0x5&&theLevelType<0x6?0x0:0x1,'DKind':sets[theSettingNowDay][0x2],'SunNum':0x1c2-sets[theSettingNowDay][0x2]*0x12c,'backgroundImage':sets[theSettingNowDay][0x0],'LevelName':''+$__language_Array__['864111d92028265478f755b078fe1bf1'][0x0]+localStorage['JNG_TR_ACT_SPFES_2020'],'LoadMusic':sets[theSettingNowDay][0x3],'StartGameMusic':sets[theSettingNowDay][0x4],'LoadAccess':function(g){seededRandom(0x0,0x3)<0x1&&Protect(AllPlants[Math['floor'](seededRandom(0x0,AllPlants['length']))]),sets[theSettingNowDay][0x1]&&($('dFightingScene')['className']=sets[theSettingNowDay][0x1]),sets[theSettingNowDay][0x5]&&sets[theSettingNowDay][0x5](),oSym['addTask'](0x5a,function(){g(0x0);},[]);},'StartGame':function(){theSettingNowDay==0x5&&summonCrystal(),theLevelType<0x5?(oAudioManager['pauseMusic'](),oAudioManager['playMusic'](oS['StartGameMusic']),SetVisible($('tdShovel'),$('dFlagMeter'),$('dTop')),oS['InitLawnMover'](),oS['ControlFlagmeter']&&oFlagContent['init']({'fullValue':oP['FlagNum']-0x1,'curValue':0x0}),PrepareGrowPlants(g=>{oP['Monitor'](),BeginCool(),oSym['addTask'](0x7d0+Math['floor'](seededRandom(0x0,localStorage['JNG_TR_ACT_SPFES_2020']-0x1)*0x32),c=>{oP['AddZombiesFlag'](),oS['ControlFlagmeter']&&oFlagContent['show']();});})):oMiniGames['ConveyorBelt'](WillselectP,Math['floor'](seededRandom(0x15e,0x1c2)),0x2);}},{'AZ':WillAZ,'FlagNum':FlagN,'FlagToSumNum':{'a1':a1,'a2':a2},'FlagToEnd':function(){ShowWinItem(NewImg('imgSF','images/interface/Clearance_reward.png','left:535px;top:200px;width:116px;height:119px;',EDAll,{'onclick':function(g){localStorage['JNG_TR_ACT_SPFES_2020']=Math['min'](Number['parseInt'](localStorage['JNG_TR_ACT_SPFES_2020'])+0x1,0x10),GetWin(g['target'],Exitlevel(oS['Lvl'],0x1));}}));}});}